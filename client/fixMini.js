!function(a,b,c){"use strict";function d(a){return function(){var c,b=arguments[0];for(c="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.4.9/"+(a?a+"/":"")+b,b=1;b<arguments.length;b++){c=c+(1==b?"?":"&")+"p"+(b-1)+"=";var e,d=encodeURIComponent;e=arguments[b],e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e,c+=d(e)}return Error(c)}}function e(a){if(null==a||B(a))return!1;if(cd(a)||w(a)||Tc&&a instanceof Tc)return!0;var b="length"in Object(a)&&a.length;return x(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function f(a,b,c){var d,g;if(a)if(z(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(cd(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;d<g;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(v(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)Qc.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++bd}function j(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(u(g)||z(g))for(var h=Object.keys(g),i=0,k=h.length;i<k;i++){var l=h[i],m=g[l];c&&u(m)?y(m)?a[l]=new Date(m.valueOf()):A(m)?a[l]=new RegExp(m):m.nodeName?a[l]=m.cloneNode(!0):F(m)?a[l]=m.clone():(u(a[l])||(a[l]=cd(m)?[]:{}),j(a[l],[m],!0)):a[l]=m}}return d?a.$$hashKey=d:delete a.$$hashKey,a}function k(a){return j(a,Vc.call(arguments,1),!1)}function l(a){return j(a,Vc.call(arguments,1),!0)}function m(a){return parseInt(a,10)}function n(a,b){return k(Object.create(a),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return z(a.toString)&&a.toString!==Yc}function s(a){return"undefined"==typeof a}function t(a){return"undefined"!=typeof a}function u(a){return null!==a&&"object"==typeof a}function v(a){return null!==a&&"object"==typeof a&&!Zc(a)}function w(a){return"string"==typeof a}function x(a){return"number"==typeof a}function y(a){return"[object Date]"===Yc.call(a)}function z(a){return"function"==typeof a}function A(a){return"[object RegExp]"===Yc.call(a)}function B(a){return a&&a.window===a}function C(a){return a&&a.$evalAsync&&a.$watch}function D(a){return"boolean"==typeof a}function E(a){return a&&x(a.length)&&dd.test(Yc.call(a))}function F(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function G(a){var b={};a=a.split(",");var c;for(c=0;c<a.length;c++)b[a[c]]=!0;return b}function H(a){return Pc(a.nodeName||a[0]&&a[0].nodeName)}function I(a,b){var c=a.indexOf(b);return 0<=c&&a.splice(c,1),c}function J(a,b){function c(a,b){var e,c=b.$$hashKey;if(cd(a)){e=0;for(var f=a.length;e<f;e++)b.push(d(a[e]))}else if(v(a))for(e in a)b[e]=d(a[e]);else if(a&&"function"==typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&(b[e]=d(a[e]));else for(e in a)Qc.call(a,e)&&(b[e]=d(a[e]));return c?b.$$hashKey=c:delete b.$$hashKey,b}function d(a){if(!u(a))return a;var b=e.indexOf(a);if(-1!==b)return g[b];if(B(a)||C(a))throw $c("cpws");var d,b=!1;return cd(a)?(d=[],b=!0):E(a)?d=new a.constructor(a):y(a)?d=new Date(a.getTime()):A(a)?(d=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),d.lastIndex=a.lastIndex):z(a.cloneNode)?d=a.cloneNode(!0):(d=Object.create(Zc(a)),b=!0),e.push(a),g.push(d),b?c(a,d):d}var e=[],g=[];if(b){if(E(b))throw $c("cpta");if(a===b)throw $c("cpi");return cd(b)?b.length=0:f(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),e.push(a),g.push(b),c(a,b)}return d(a)}function K(a,b){if(cd(a)){b=b||[];for(var c=0,d=a.length;c<d;c++)b[c]=a[c]}else if(u(a))for(c in b=b||{},a)"$"===c.charAt(0)&&"$"===c.charAt(1)||(b[c]=a[c]);return b||a}function L(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,c=typeof a;if(c==typeof b&&"object"==c){if(!cd(a)){if(y(a))return!!y(b)&&L(a.getTime(),b.getTime());if(A(a))return!!A(b)&&a.toString()==b.toString();if(C(a)||C(b)||B(a)||B(b)||cd(b)||y(b)||A(b))return!1;c=ja();for(d in a)if("$"!==d.charAt(0)&&!z(a[d])){if(!L(a[d],b[d]))return!1;c[d]=!0}for(d in b)if(!(d in c)&&"$"!==d.charAt(0)&&t(b[d])&&!z(b[d]))return!1;return!0}if(!cd(b))return!1;if((c=a.length)==b.length){for(d=0;d<c;d++)if(!L(a[d],b[d]))return!1;return!0}}return!1}function M(a,b,c){return a.concat(Vc.call(b,c))}function N(a,b){var c=2<arguments.length?Vc.call(arguments,2):[];return!z(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,M(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function O(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:B(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":C(d)&&(e="$SCOPE"),e}function P(a,b){return"undefined"==typeof a?c:(x(b)||(b=b?2:null),JSON.stringify(a,O,b))}function Q(a){return w(a)?JSON.parse(a):a}function R(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function S(a,b,c){c=c?-1:1;var d=R(b,a.getTimezoneOffset());return b=a,a=c*(d-a.getTimezoneOffset()),b=new Date(b.getTime()),b.setMinutes(b.getMinutes()+a),b}function T(a){a=Tc(a).clone();try{a.empty()}catch(a){}var b=Tc("<div>").append(a).html();try{return a[0].nodeType===md?Pc(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Pc(b)})}catch(a){return Pc(b)}}function U(a){try{return decodeURIComponent(a)}catch(a){}}function V(a){var b={};return f((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=U(d),t(d)&&(e=!t(e)||U(e),Qc.call(b,d)?cd(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function W(a){var b=[];return f(a,function(a,c){cd(a)?f(a,function(a){b.push(Y(c,!0)+(!0===a?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(!0===a?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Z(a,b){var c,d,e=id.length;for(d=0;d<e;++d)if(c=id[d]+b,w(c=a.getAttribute(c)))return c;return null}function $(a,b){var c,d,e={};f(id,function(b){b+="app",!c&&a.hasAttribute&&a.hasAttribute(b)&&(c=a,d=a.getAttribute(b))}),f(id,function(b){b+="app";var e;!c&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(b))}),c&&(e.strictDi=null!==Z(c,"strict-di"),b(c,d?[d]:[],e))}function _(c,d,e){u(e)||(e={}),e=k({strictDi:!1},e);var g=function(){if(c=Tc(c),c.injector()){var a=c[0]===b?"document":T(c);throw $c("btstrpd",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}return d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng"),a=Na(d,e.strictDi),a.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),a},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),_c.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),g()},void(z(_c.resumeDeferredBootstrap)&&_c.resumeDeferredBootstrap()))}function aa(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ba(a){if(a=_c.element(a).injector(),!a)throw $c("test");return a.get("$$testability")}function ca(a,b){return b=b||"_",a.replace(jd,function(a,c){return(c?b:"")+a.toLowerCase()})}function da(){var b;if(!kd){var d=hd();(Uc=s(d)?a.jQuery:d?a[d]:c)&&Uc.fn.on?(Tc=Uc,k(Uc.fn,{scope:Ad.scope,isolateScope:Ad.isolateScope,controller:Ad.controller,injector:Ad.injector,inheritedData:Ad.inheritedData}),b=Uc.cleanData,Uc.cleanData=function(a){var c;if(ld)ld=!1;else for(var e,d=0;null!=(e=a[d]);d++)(c=Uc._data(e,"events"))&&c.$destroy&&Uc(e).triggerHandler("$destroy");b(a)}):Tc=pa,_c.element=Tc,kd=!0}}function ea(a,b,c){if(!a)throw $c("areq",b||"?",c||"required");return a}function fa(a,b,c){return c&&cd(a)&&(a=a[a.length-1]),ea(z(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ga(a,b){if("hasOwnProperty"===a)throw $c("badname",b)}function ha(a,b,c){if(!b)return a;b=b.split(".");for(var d,e=a,f=b.length,g=0;g<f;g++)d=b[g],a&&(a=(e=a)[d]);return!c&&z(a)?N(e,a):a}function ia(a){for(var d,b=a[0],c=a[a.length-1],e=1;b!==c&&(b=b.nextSibling);e++)(d||a[e]!==b)&&(d||(d=Tc(Vc.call(a,0,e))),d.push(b));return d||a}function ja(){return Object.create(null)}function ka(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||d,b(a,"module",function(){var a={};return function(d,f,g){if("hasOwnProperty"===d)throw e("badname","module");return f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function b(a,b){return function(c,f){return f&&z(f)&&(f.$$moduleName=d),e.push([a,b,arguments]),k}}if(!f)throw c("nomod",d);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:d,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function la(b){k(b,{bootstrap:_,copy:J,extend:k,merge:l,equals:L,element:Tc,forEach:f,injector:Na,noop:o,bind:N,toJson:P,fromJson:Q,identity:p,isUndefined:s,isDefined:t,isString:w,isFunction:z,isObject:u,isNumber:x,isElement:F,isArray:cd,version:nd,isDate:y,lowercase:Pc,uppercase:Rc,callbacks:{counter:0},getTestability:ba,$$minErr:d,$$csp:gd,reloadWithDebugInfo:aa}),(ad=ka(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Xb}),a.provider("$compile",Wa).directive({a:Ce,input:Se,textarea:Se,form:Ge,script:Hf,select:Kf,style:Mf,option:Lf,ngBind:Ve,ngBindHtml:Xe,ngBindTemplate:We,ngClass:Ze,ngClassEven:_e,ngClassOdd:$e,ngCloak:af,ngController:bf,ngForm:He,ngHide:Bf,ngIf:ef,ngInclude:ff,ngInit:hf,ngNonBindable:uf,ngPluralize:yf,ngRepeat:zf,ngShow:Af,ngStyle:Cf,ngSwitch:Df,ngSwitchWhen:Ef,ngSwitchDefault:Ff,ngOptions:xf,ngTransclude:Gf,ngModel:rf,ngList:jf,ngChange:Ye,pattern:Of,ngPattern:Of,required:Nf,ngRequired:Nf,minlength:Qf,ngMinlength:Qf,maxlength:Pf,ngMaxlength:Pf,ngValue:Ue,ngModelOptions:tf}).directive({ngInclude:gf}).directive(De).directive(cf),a.provider({$anchorScroll:Oa,$animate:Nd,$animateCss:Qd,$$animateJs:Ld,$$animateQueue:Md,$$AnimateRunner:Pd,$$animateAsyncRun:Od,$browser:Ta,$cacheFactory:Ua,$controller:$a,$document:_a,$exceptionHandler:ab,$filter:jc,$$forceReflow:Vd,$interpolate:mb,$interval:nb,$http:ib,$httpParamSerializer:cb,$httpParamSerializerJQLike:db,$httpBackend:kb,$xhrFactory:jb,$location:zb,$log:Ab,$parse:Rb,$rootScope:Wb,$q:Sb,$$q:Tb,$sce:_b,$sceDelegate:$b,$sniffer:ac,$templateCache:Va,$templateRequest:bc,$$testability:cc,$timeout:dc,$window:gc,$$rAF:Vb,$$jqLite:Ja,$$HashMap:Ed,$$cookieReader:ic})}])}function ma(a){return a.replace(qd,function(a,b,c,d){return d?c.toUpperCase():c}).replace(rd,"Moz$1")}function na(a){return a=a.nodeType,1===a||!a||9===a}function oa(a,b){var c,d,e=b.createDocumentFragment(),g=[];if(vd.test(a)){for(c=c||e.appendChild(b.createElement("div")),d=(wd.exec(a)||["",""])[1].toLowerCase(),d=yd[d]||yd._default,c.innerHTML=d[1]+a.replace(xd,"<$1></$2>")+d[2],d=d[0];d--;)c=c.lastChild;g=M(g,c.childNodes),c=e.firstChild,c.textContent=""}else g.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",f(g,function(a){e.appendChild(a)}),e}function pa(a){if(a instanceof pa)return a;var c;if(w(a)&&(a=ed(a),c=!0),!(this instanceof pa)){if(c&&"<"!=a.charAt(0))throw td("nosel");return new pa(a)}if(c){c=b;var d;a=(d=ud.exec(a))?[c.createElement(d[1])]:(d=oa(a,c))?d.childNodes:[]}za(this,a)}function qa(a){return a.cloneNode(!0)}function ra(a,b){if(b||ta(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;d<e;d++)ta(c[d])}function sa(a,b,c,d){if(t(d))throw td("offargs");var e=(d=ua(a))&&d.events,g=d&&d.handle;if(g)if(b){var h=function(b){var d=e[b];t(c)&&I(d||[],c),t(c)&&d&&0<d.length||(a.removeEventListener(b,g,!1),delete e[b])};f(b.split(" "),function(a){h(a),sd[a]&&h(sd[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,g,!1),delete e[b]}function ta(a,b){var d=a.ng339,e=d&&od[d];e&&(b?delete e.data[b]:(e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),sa(a)),delete od[d],a.ng339=c))}function ua(a,b){var d=a.ng339,d=d&&od[d];return b&&!d&&(a.ng339=d=++pd,d=od[d]={events:{},data:{},handle:c}),d}function va(a,b,c){if(na(a)){var d=t(c),e=!d&&b&&!u(b),f=!b;if(a=(a=ua(a,!e))&&a.data,d)a[b]=c;else{if(f)return a;if(e)return a&&a[b];k(a,b)}}}function wa(a,b){return!!a.getAttribute&&-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function xa(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",ed((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ed(b)+" "," ")))})}function ya(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=ed(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",ed(c))}}function za(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;d<c;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Aa(a,b){return Ba(a,"$"+(b||"ngController")+"Controller")}function Ba(a,b,c){for(9==a.nodeType&&(a=a.documentElement),b=cd(b)?b:[b];a;){for(var d=0,e=b.length;d<e;d++)if(t(c=Tc.data(a,b[d])))return c;a=a.parentNode||11===a.nodeType&&a.host}}function Ca(a){for(ra(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Da(a,b){b||ra(a);var c=a.parentNode;c&&c.removeChild(a)}function Ea(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Tc(c).on("load",b)}function Fa(a,b){var c=Bd[b.toLowerCase()];return c&&Cd[H(a)]&&c}function Ga(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(s(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=e.specialHandlerWrapper||Ha;1<f&&(e=K(e));for(var i=0;i<f;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Ha(a,b,c){c.call(a,b)}function Ia(a,b,c){var d=b.relatedTarget;d&&(d===a||zd.call(a,d))||c.call(a,b)}function Ja(){this.$get=function(){return k(pa,{hasClass:function(a,b){return a.attr&&(a=a[0]),wa(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),ya(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),xa(a,b)}})}}function Ka(a,b){var c=a&&a.$$hashKey;return c?("function"==typeof c&&(c=a.$$hashKey()),c):(c=typeof a,c="function"==c||"object"==c&&null!==a?a.$$hashKey=c+":"+(b||i)():c+":"+a)}function La(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Ma(a){return(a=a.toString().replace(Id,"").match(Fd))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Na(a,b){function d(a){return function(b,c){return u(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(ga(a,"service"),(z(b)||cd(b))&&(b=p.instantiate(b)),!b.$get)throw Jd("pget",a);return o[a+"Provider"]=b}function g(a,b){return function(){var c=t.invoke(b,this);if(s(c))throw Jd("undef",a);return c}}function i(a,b,c){return e(a,{$get:!1!==c?g(a,b):b})}function j(a){ea(s(a)||cd(a),"modulesToLoad","not an array");var c,b=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=p.get(d[0]);e[d[1]].apply(e,d[2])}}if(!n.get(a)){n.put(a,!0);try{w(a)?(c=ad(a),b=b.concat(j(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(p.invoke(a)):cd(a)?b.push(p.invoke(a)):fa(a,"module")}catch(b){throw cd(a)&&(a=a[a.length-1]),b.message&&b.stack&&-1==b.stack.indexOf(b.message)&&(b=b.message+"\n"+b.stack),Jd("modulerr",a,b.stack||b.message||b)}}}),b}function k(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===l)throw Jd("cdep",b+" <- "+m.join(" <- "));return a[b]}try{return m.unshift(b),a[b]=l,a[b]=c(b,d)}catch(c){throw a[b]===l&&delete a[b],c}finally{m.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var i,j,k,g=[],h=Na.$$annotate(a,b,f);for(j=0,i=h.length;j<i;j++){if(k=h[j],"string"!=typeof k)throw Jd("itkn",k);g.push(e&&e.hasOwnProperty(k)?e[k]:d(k,f))}return cd(a)&&(a=a[i]),a.apply(c,g)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((cd(a)?a[a.length-1]:a).prototype||null);return a=e(a,d,b,c),u(a)||z(a)?a:d},get:d,annotate:Na.$$annotate,has:function(b){return o.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var l={},m=[],n=new La([],!0),o={$provide:{provider:d(e),factory:d(i),service:d(function(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return i(a,q(b),!1)}),constant:d(function(a,b){ga(a,"constant"),o[a]=b,r[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},p=o.$injector=k(o,function(a,b){throw _c.isString(b)&&m.push(b),Jd("unpr",m.join(" <- "))}),r={},t=r.$injector=k(r,function(a,b){var d=p.get(a+"Provider",b);return t.invoke(d.$get,d,c,a)});return f(j(a),function(a){a&&t.invoke(a)}),t}function Oa(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===H(a))return b=a,!0}),b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset,z(c)?c=c():F(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):x(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=w(a)?a:c.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Ea(function(){d.$evalAsync(g)})}),g}]}function Pa(a,b){return a||b?a?b?(cd(a)&&(a=a.join(" ")),cd(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Qa(a){w(a)&&(a=a.split(" "));var b=ja();return f(a,function(a){a.length&&(b[a]=!0)}),b}function Ra(a){return u(a)?a:{}}function Sa(a,b,c,d){function e(a){try{a.apply(null,Vc.call(arguments,1))}finally{if(q--,0===q)for(;r.length;)try{r.pop()()}catch(a){c.error(a)}}}function g(){x=null,h(),i()}function h(){a:{try{t=l.state;break a}catch(a){}t=void 0}t=s(t)?null:t,L(t,A)&&(t=A),A=t}function i(){v===j.url()&&u===t||(v=j.url(),u=t,f(y,function(a){a(j.url(),t)}))}var j=this,k=a.location,l=a.history,m=a.setTimeout,n=a.clearTimeout,p={};j.isMock=!1;var q=0,r=[];j.$$completeOutstandingRequest=e,j.$$incOutstandingRequestCount=function(){q++},j.notifyWhenNoOutstandingRequests=function(a){0===q?a():r.push(a)};var t,u,v=k.href,w=b.find("base"),x=null;h(),u=t,j.url=function(b,c,e){if(s(e)&&(e=null),k!==a.location&&(k=a.location),l!==a.history&&(l=a.history),b){var f=u===e;if(v===b&&(!d.history||f))return j;var g=v&&sb(v)===sb(b);return v=b,u=e,!d.history||g&&f?(g&&!x||(x=b),c?k.replace(b):g?(c=k,e=b.indexOf("#"),e=-1===e?"":b.substr(e),c.hash=e):k.href=b,k.href!==b&&(x=b)):(l[c?"replaceState":"pushState"](e,"",b),h(),u=t),j}return x||k.href.replace(/%27/g,"'")},j.state=function(){return t};var y=[],z=!1,A=null;j.onUrlChange=function(b){return z||(d.history&&Tc(a).on("popstate",g),Tc(a).on("hashchange",g),z=!0),y.push(b),b},j.$$applicationDestroyed=function(){Tc(a).off("hashchange popstate",g)},j.$$checkUrlChange=i,j.baseHref=function(){var a=w.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},j.defer=function(a,b){var c;return q++,c=m(function(){delete p[c],e(a)},b||0),p[c]=!0,c},j.defer.cancel=function(a){return!!p[a]&&(delete p[a],n(a),e(o),!0)}}function Ta(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Sa(a,d,b,c)}]}function Ua(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid",a);var g=0,h=k({},c,{id:a}),i=ja(),j=c&&c.capacity||Number.MAX_VALUE,l=ja(),m=null,n=null;return b[a]={put:function(a,b){if(!s(b)){if(j<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=ja(),g=0,l=ja(),m=n=null},destroy:function(){l=h=i=null,delete b[a]},info:function(){return k({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Va(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Wa(a,d){function e(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e={};return f(a,function(a,f){var g=a.match(d);if(!g)throw Rd("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}}),e}function g(a){var b=a.charAt(0);if(!b||b!==Pc(b))throw Rd("baddir",a);if(a!==a.trim())throw Rd("baddir",a)}var i={},j=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,m=G("ngSrc,ngSrcset,src,srcset"),r=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function b(c,d){return ga(c,"directive"),w(c)?(g(c),ea(d,"directiveFactory"),i.hasOwnProperty(c)||(i[c]=[],a.factory(c+"Directive",["$injector","$exceptionHandler",function(a,b){var d=[];return f(i[c],function(f,g){try{var h=a.invoke(f);z(h)?h={compile:q(h)}:!h.compile&&h.link&&(h.compile=q(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||c,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA";var i=h,j=h,k=h.name,l={isolateScope:null,bindToController:null};if(u(j.scope)&&(!0===j.bindToController?(l.bindToController=e(j.scope,k,!0),l.isolateScope={}):l.isolateScope=e(j.scope,k,!1)),u(j.bindToController)&&(l.bindToController=e(j.bindToController,k,!0)),u(l.bindToController)){var m=j.controller,n=j.controllerAs;if(!m)throw Rd("noctrl",k);var o;a:if(n&&w(n))o=n;else{if(w(m)){var p=Ud.exec(m);if(p){o=p[3];break a}}o=void 0}if(!o)throw Rd("noident",k)}var r=i.$$bindings=l;u(r.isolateScope)&&(h.$$isolateBindings=r.isolateScope),h.$$moduleName=f.$$moduleName,d.push(h)}catch(a){b(a)}}),d}])),i[c].push(d)):f(c,h(b)),this},this.aHrefSanitizationWhitelist=function(a){return t(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return t(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(a){return t(a)?(x=a,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,d,e,g,h,q,t,y,A,B){function D(a,b){try{a.addClass(b)}catch(a){}}function E(a,b,c,d,e){a instanceof Tc||(a=Tc(a)),f(a,function(b,c){b.nodeType==md&&b.nodeValue.match(/\S+/)&&(a[c]=Tc(b).wrap("<span></span>").parent()[0])});var g=F(a,b,a,c,d,e);E.$$addScopeClass(a);var h=null;return function(b,c,d){ea(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new()),d=d||{};var f=d.parentBoundTranscludeFn,i=d.transcludeControllers;if(d=d.futureParentElement,f&&f.$$boundTransclude&&(f=f.$$boundTransclude),h||(h=(d=d&&d[0])&&"foreignobject"!==H(d)&&d.toString().match(/SVG/)?"svg":"html"),d="html"!==h?Tc(X(h,Tc("<div>").append(a).html())):c?Ad.clone.call(a):a,i)for(var j in i)d.data("$"+j+"Controller",i[j].instance);return E.$$addScopeInfo(d,b),c&&c(d,b),g&&g(b,d,d,f),d}}function F(a,b,d,e,f,g){function h(a,d,e,f){var g,h,j,k,l,m,o;if(n)for(o=Array(d.length),k=0;k<i.length;k+=3)g=i[k],o[g]=d[g];else o=d;for(k=0,l=i.length;k<l;)h=o[i[k++]],d=i[k++],g=i[k++],d?(d.scope?(j=a.$new(),E.$$addScopeInfo(Tc(h),j)):j=a,m=d.transcludeOnThisElement?G(a,d.transclude,f):!d.templateOnThisElement&&f?f:!f&&b?G(a,b):null,d(g,j,h,e,m)):g&&g(a,h.childNodes,c,f)}for(var j,k,l,m,n,i=[],o=0;o<a.length;o++)j=new da,k=J(a[o],[],j,0===o?e:c,f),(g=k.length?N(k,a[o],j,b,d,null,[],[],g):null)&&g.scope&&E.$$addScopeClass(j.$$element),j=g&&g.terminal||!(l=a[o].childNodes)||!l.length?null:F(l,g?(g.transcludeOnThisElement||!g.templateOnThisElement)&&g.transclude:b),(g||j)&&(i.push(o,g,j),m=!0,n=n||g),g=null;return m?h:null}function G(a,b,c){return function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function J(a,b,c,d,e){var g,f=c.$attr;switch(a.nodeType){case 1:P(b,Xa(H(a)),"E",d,e);for(var h,i,k,m=a.attributes,n=0,o=m&&m.length;n<o;n++){var p=!1,q=!1;h=m[n],g=h.name,i=ed(h.value),h=Xa(g),(k=ia.test(h))&&(g=g.replace(Sd,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()})),(h=h.match(ka))&&Q(h[1])&&(p=g,q=g.substr(0,g.length-5)+"end",g=g.substr(0,g.length-6)),h=Xa(g.toLowerCase()),f[h]=g,!k&&c.hasOwnProperty(h)||(c[h]=i,Fa(a,h)&&(c[h]=!0)),Z(a,b,i,h,k),P(b,h,"A",d,e,p,q)}if(a=a.className,u(a)&&(a=a.animVal),w(a)&&""!==a)for(;g=l.exec(a);)h=Xa(g[2]),P(b,h,"C",d,e)&&(c[h]=ed(g[3])),a=a.substr(g.index+g[0].length);break;case md:if(11===Sc)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===md;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);W(b,a.nodeValue);break;case 8:try{(g=j.exec(a.nodeValue))&&(h=Xa(g[1]),P(b,h,"M",d,e)&&(c[h]=ed(g[2])))}catch(a){}}return b.sort(U),b}function K(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Rd("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e)}else d.push(a);return Tc(d)}function M(a,b,c){return function(d,e,f,g,h){return e=K(e[0],b,c),a(d,e,f,g,h)}}function N(a,d,f,g,h,i,j,k,l){function m(a,b,c,d){a&&(c&&(a=M(a,c,d)),a.require=H.require,a.directiveName=I,(x===H||H.$$isolateScope)&&(a=_(a,{isolateScope:!0})),j.push(a)),b&&(c&&(b=M(b,c,d)),b.require=H.require,b.directiveName=I,(x===H||H.$$isolateScope)&&(b=_(b,{isolateScope:!0})),k.push(b))}function n(a,b,c,d){var e;if(w(b)){var f=b.match(r);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,e||(d="$"+b+"Controller",e=g?c.inheritedData(d):c.data(d)),!e&&!f)throw Rd("ctreq",b,a)}else if(cd(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=n(a,b[g],c,d);return e||null}function o(a,b,c,d,e,f){var h,g=ja();for(h in d){var i=d[h],j={$scope:i===x||i.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},k=i.controller;"@"==k&&(k=b[i.name]),j=q(k,j,!0,i.controllerAs),g[i.name]=j,F||a.data("$"+i.name+"Controller",j.instance)}return g}function p(a,b,e,g,h){function i(a,b,d){var e;return C(a)||(d=b,b=a,a=c),F&&(e=q),d||(d=F?s.parent():s),h(a,b,e,d,D)}var l,m,p,q,r,s,u;d===e?(g=f,s=f.$$element):(s=Tc(e),g=new da(s,f)),p=b,x?m=b.$new(!0):t&&(p=b.$parent),h&&(r=i,r.$$boundTransclude=h),v&&(q=o(s,g,r,v,m,b)),x&&(E.$$addScopeInfo(s,m,!0,!(y&&(y===x||y===x.$$originalDirective))),E.$$addScopeClass(s,!0),m.$$isolateBindings=x.$$isolateBindings,(u=ba(b,g,m,m.$$isolateBindings,x))&&m.$on("$destroy",u));for(var w in q){u=v[w];var z=q[w],A=u.$$bindings.bindToController;z.identifier&&A&&(l=ba(p,g,z.instance,A,u));var B=z();B!==z.instance&&(z.instance=B,s.data("$"+u.name+"Controller",B),l&&l(),l=ba(p,g,z.instance,A,u))}for(Q=0,U=j.length;Q<U;Q++)l=j[Q],aa(l,l.isolateScope?m:b,s,g,l.require&&n(l.directiveName,l.require,s,q),r);var D=b;for(x&&(x.template||null===x.templateUrl)&&(D=m),a&&a(D,e.childNodes,c,h),Q=k.length-1;0<=Q;Q--)l=k[Q],aa(l,l.isolateScope?m:b,s,g,l.require&&n(l.directiveName,l.require,s,q),r)}l=l||{};for(var H,I,L,P,s=-Number.MAX_VALUE,t=l.newScopeDirective,v=l.controllerDirectives,x=l.newIsolateScopeDirective,y=l.templateDirective,A=l.nonTlbTranscludeDirective,B=!1,D=!1,F=l.hasElementTranscludeDirective,G=f.$$element=Tc(d),N=g,Q=0,U=a.length;Q<U;Q++){H=a[Q];var W=H.$$start,Y=H.$$end;if(W&&(G=K(d,W,Y)),L=c,s>H.priority)break;if((L=H.scope)&&(H.templateUrl||(u(L)?(V("new/isolated scope",x||t,H,G),x=H):V("new/isolated scope",x,H,G)),t=t||H),I=H.name,!H.templateUrl&&H.controller&&(L=H.controller,v=v||ja(),V("'"+I+"' controller",v[I],H,G),v[I]=H),(L=H.transclude)&&(B=!0,H.$$tlb||(V("transclusion",A,H,G),A=H),"element"==L?(F=!0,s=H.priority,L=G,G=f.$$element=Tc(b.createComment(" "+I+": "+f[I]+" ")),d=G[0],$(h,Vc.call(L,0),d),N=E(L,g,s,i&&i.name,{nonTlbTranscludeDirective:A})):(L=Tc(qa(d)).contents(),G.empty(),N=E(L,g,c,c,{needsNewScope:H.$$isolateScope||H.$$newScope}))),H.template)if(D=!0,V("template",y,H,G),y=H,L=z(H.template)?H.template(G,f):H.template,L=ha(L),H.replace){if(i=H,L=vd.test(L)?Za(X(H.templateNamespace,ed(L))):[],d=L[0],1!=L.length||1!==d.nodeType)throw Rd("tplrt",I,"");$(h,G,d),L={$attr:{}};var Z=J(d,[],L),ca=a.splice(Q+1,a.length-(Q+1));(x||t)&&O(Z,x,t),a=a.concat(Z).concat(ca),R(f,L),U=a.length}else G.html(L);if(H.templateUrl)D=!0,V("template",y,H,G),y=H,H.replace&&(i=H),p=S(a.splice(Q,a.length-Q),G,f,h,B&&N,j,k,{controllerDirectives:v,newScopeDirective:t!==H&&t,newIsolateScopeDirective:x,templateDirective:y,nonTlbTranscludeDirective:A}),U=a.length;else if(H.compile)try{P=H.compile(G,f,N),z(P)?m(null,P,W,Y):P&&m(P.pre,P.post,W,Y)}catch(a){e(a,T(G))}H.terminal&&(p.terminal=!0,s=Math.max(s,H.priority))}return p.scope=t&&!0===t.scope,p.transcludeOnThisElement=B,p.templateOnThisElement=D,p.transclude=N,l.hasElementTranscludeDirective=F,p}function O(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=n(a[d],{$$isolateScope:b,$$newScope:c})}function P(b,c,d,f,g,h,j){if(c===g)return null;if(g=null,i.hasOwnProperty(c)){var k;c=a.get(c+"Directive");for(var l=0,m=c.length;l<m;l++)try{k=c[l],(s(f)||f>k.priority)&&-1!=k.restrict.indexOf(d)&&(h&&(k=n(k,{$$start:h,$$end:j})),b.push(k),g=k)}catch(a){e(a)}}return g}function Q(b){if(i.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function R(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(D(e,b),a.class=(a.class?a.class+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function S(a,b,c,d,e,h,i,j){var l,m,k=[],o=b[0],p=a.shift(),q=n(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=z(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),g(r).then(function(g){var n,t;if(g=ha(g),p.replace){if(g=vd.test(g)?Za(X(s,ed(g))):[],n=g[0],1!=g.length||1!==n.nodeType)throw Rd("tplrt",p.name,r);g={$attr:{}},$(d,b,n);var v=J(n,[],g);u(p.scope)&&O(v,!0),a=v.concat(a),R(c,g)}else n=o,b.html(g);for(a.unshift(q),l=N(a,n,c,e,b,p,h,i,j),f(d,function(a,c){a==n&&(d[c]=b[0])}),m=F(b[0].childNodes,e);k.length;){g=k.shift(),t=k.shift();var w=k.shift(),x=k.shift(),v=b[0];if(!g.$$destroyed){if(t!==o){var y=t.className;j.hasElementTranscludeDirective&&p.replace||(v=qa(n)),
$(w,Tc(t),v),D(Tc(v),y)}t=l.transcludeOnThisElement?G(g,l.transclude,x):x,l(m,g,v,d,t)}}k=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(k?k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=G(b,l.transclude,e)),l(m,b,c,d,a)))}}function U(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function V(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Rd("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,T(d))}function W(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;return b&&E.$$addBindingClass(a),function(a,d){var e=d.parent();b||E.$$addBindingClass(e),E.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){d[0].nodeValue=a})}}})}function X(a,c){switch(a=Pc(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function Y(a,b){if("srcdoc"==b)return y.HTML;var c=H(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?y.RESOURCE_URL:void 0}function Z(a,b,c,e,f){var g=Y(a,e);f=m[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===H(a))throw Rd("selmulti",T(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){if(b=i.$$observers||(i.$$observers=ja()),v.test(e))throw Rd("nodomevents");var j=i[e];j!==c&&(h=j&&d(j,!0,g,f),c=j),h&&(i[e]=h(a),(b[e]||(b[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function $(a,c,d){var h,i,e=c[0],f=c.length,g=e.parentNode;if(a)for(h=0,i=a.length;h<i;h++)if(a[h]==e){a[h++]=d,i=h+f-1;for(var j=a.length;h<j;h++,i++)i<j?a[h]=a[i]:delete a[h];a.length-=f-1,a.context===e&&(a.context=d);break}for(g&&g.replaceChild(d,e),a=b.createDocumentFragment(),a.appendChild(e),Tc.hasData(e)&&(Tc.data(d,Tc.data(e)),Uc?(ld=!0,Uc.cleanData([e])):delete Tc.cache[e[Tc.expando]]),e=1,f=c.length;e<f;e++)g=c[e],Tc(g).remove(),a.appendChild(g),delete c[e];c[0]=d,c.length=1}function _(a,b){return k(function(){return a.apply(null,arguments)},a,b)}function aa(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(a){e(a,T(c))}}function ba(a,b,c,e,g){var i=[];return f(e,function(e,f){var l,m,n,p,j=e.attrName,k=e.optional;switch(e.mode){case"@":k||Qc.call(b,j)||(c[f]=b[j]=void 0),b.$observe(j,function(a){w(a)&&(c[f]=a)}),b.$$observers[j].$$scope=a,w(b[j])&&(c[f]=d(b[j])(a));break;case"=":if(!Qc.call(b,j)){if(k)break;b[j]=void 0}if(k&&!b[j])break;m=h(b[j]),p=m.literal?L:function(a,b){return a===b||a!==a&&b!==b},n=m.assign||function(){throw l=c[f]=m(a),Rd("nonassign",b[j],g.name)},l=c[f]=m(a),k=function(b){return p(b,c[f])||(p(b,l)?n(a,b=c[f]):c[f]=b),l=b},k.$stateful=!0,k=e.collection?a.$watchCollection(b[j],k):a.$watch(h(b[j],k),null,m.literal),i.push(k);break;case"&":if(m=b.hasOwnProperty(j)?h(b[j]):o,m===o&&k)break;c[f]=function(b){return m(a,b)}}}),i.length&&function(){for(var a=0,b=i.length;a<b;++a)i[a]()}}var da=function(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};da.prototype={$normalize:Xa,$addClass:function(a){a&&0<a.length&&A.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&A.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Ya(a,b);c&&c.length&&A.addClass(this.$$element,c),(c=Ya(b,a))&&c.length&&A.removeClass(this.$$element,c)},$set:function(a,b,c,d){var g=Fa(this.$$element[0],a),h=Dd[a],i=a;if(g?(this.$$element.prop(a,b),d=g):h&&(this[h]=b,i=h),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=ca(a,"-")),g=H(this.$$element),"a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=B(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g="",h=ed(b),j=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,j=/\s/.test(h)?j:/(,)/,h=h.split(j),j=Math.floor(h.length/2),k=0;k<j;k++)var l=2*k,g=g+B(ed(h[l]),!0),g=g+(" "+ed(h[l+1]));h=ed(h[2*k]).split(/\s/),g+=B(ed(h[0]),!0),2===h.length&&(g+=" "+ed(h[1])),this[a]=b=g}!1!==c&&(null===b||s(b)?this.$$element.removeAttr(d):this.$$element.attr(d,b)),(a=this.$$observers)&&f(a[i],function(a){try{a(b)}catch(a){e(a)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ja()),e=d[a]||(d[a]=[]);return e.push(b),t.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||s(c[a])||b(c[a])}),function(){I(e,b)}}};var fa=d.startSymbol(),ga=d.endSymbol(),ha="{{"==fa||"}}"==ga?p:function(a){return a.replace(/\{\{/g,fa).replace(/}}/g,ga)},ia=/^ngAttr[A-Z]/,ka=/^(.+)Start$/;return E.$$addBindingInfo=x?function(a,b){var c=a.data("$binding")||[];cd(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:o,E.$$addBindingClass=x?function(a){D(a,"ng-binding")}:o,E.$$addScopeInfo=x?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:o,E.$$addScopeClass=x?function(a,b){D(a,b?"ng-isolate-scope":"ng-scope")}:o,E}]}function Xa(a){return ma(a.replace(Sd,""))}function Ya(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Za(a){a=Tc(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&Wc.call(a,b,1);return a}function $a(){var a={},b=!1;this.register=function(b,c){ga(b,"controller"),u(b)?k(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!u(a.$scope))throw d("$controller")("noscp",e,b);a.$scope[b]=c}return function(d,h,i,j){var l,m,n;if(i=!0===i,j&&w(j)&&(n=j),w(d)){if(j=d.match(Ud),!j)throw Td("ctrlfmt",d);m=j[1],n=n||j[3],d=a.hasOwnProperty(m)?a[m]:ha(h.$scope,m,!0)||(b?ha(f,m,!0):c),fa(d,m,!0)}return i?(i=(cd(d)?d[d.length-1]:d).prototype,l=Object.create(i||null),n&&g(h,n,l,m||d.name),k(function(){var a=e.invoke(d,l,h,m);return a!==l&&(u(a)||z(a))&&(l=a,n&&g(h,n,l,m||d.name)),l},{instance:l,identifier:n})):(l=e.instantiate(d,h,m),n&&g(h,n,l,m||d.name),l)}}]}function _a(){this.$get=["$window",function(a){return Tc(a.document)}]}function ab(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function bb(a){return u(a)?y(a)?a.toISOString():P(a):a}function cb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||s(a)||(cd(a)?f(a,function(a,d){b.push(Y(c)+"="+Y(bb(a)))}):b.push(Y(c)+"="+Y(bb(a))))}),b.join("&")}}}function db(){this.$get=function(){return function(a){function b(a,d,e){null===a||s(a)||(cd(a)?f(a,function(a,c){b(a,d+"["+(u(a)?c:"")+"]")}):u(a)&&!y(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):c.push(Y(d)+"="+Y(bb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function eb(a,b){if(w(a)){var c=a.replace($d,"").trim();if(c){var d=b("Content-Type");(d=d&&0===d.indexOf(Wd))||(d=(d=c.match(Yd))&&Zd[d[0]].test(c)),d&&(a=Q(c))}}return a}function fb(a){var c,b=ja();return w(a)?f(a.split("\n"),function(a){c=a.indexOf(":");var d=Pc(ed(a.substr(0,c)));a=ed(a.substr(c+1)),d&&(b[d]=b[d]?b[d]+", "+a:a)}):u(a)&&f(a,function(a,c){var d=Pc(c),e=ed(a);d&&(b[d]=b[d]?b[d]+", "+e:e)}),b}function gb(a){var b;return function(c){return b||(b=fb(a)),c?(c=b[Pc(c)],void 0===c&&(c=null),c):b}}function hb(a,b,c,d){return z(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function ib(){var a=this.defaults={transformResponse:[eb],transformRequest:[function(a){return u(a)&&"[object File]"!==Yc.call(a)&&"[object Blob]"!==Yc.call(a)&&"[object FormData]"!==Yc.call(a)?P(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:K(Xd),put:K(Xd),patch:K(Xd)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return t(a)?(b=!!a,this):b};var e=!0;this.useLegacyPromiseExtensions=function(a){return t(a)?(e=!!a,this):e};var g=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(h,i,j,l,m,n){function o(b){function g(a){var b=k({},a);return b.data=hb(a.data,a.headers,a.status,i.transformResponse),a=a.status,200<=a&&300>a?b:m.reject(b)}function h(a,b){var c,d={};return f(a,function(a,e){z(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}if(!_c.isObject(b))throw d("$http")("badreq",b);if(!w(b.url))throw d("$http")("badreq",b.url);var i=k({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);i.headers=function(b){var e,f,g,c=a.headers,d=k({},b.headers),c=k({},c.common,c[Pc(b.method)]);a:for(e in c){f=Pc(e);for(g in d)if(Pc(g)===f)continue a;d[e]=c[e]}return h(d,K(b))}(b),i.method=Rc(i.method),i.paramSerializer=w(i.paramSerializer)?n.get(i.paramSerializer):i.paramSerializer;var j=[function(b){var d=b.headers,e=hb(b.data,gb(d),c,b.transformRequest);return s(e)&&f(d,function(a,b){"content-type"===Pc(b)&&delete d[b]}),s(b.withCredentials)&&!s(a.withCredentials)&&(b.withCredentials=a.withCredentials),p(b,e).then(g,g)},c],l=m.when(i);for(f(v,function(a){(a.request||a.requestError)&&j.unshift(a.request,a.requestError),(a.response||a.responseError)&&j.push(a.response,a.responseError)});j.length;){b=j.shift();var o=j.shift(),l=l.then(b,o)}return e?(l.success=function(a){return fa(a,"fn"),l.then(function(b){a(b.data,b.status,b.headers,i)}),l},l.error=function(a){return fa(a,"fn"),l.then(null,function(b){a(b.data,b.status,b.headers,i)}),l}):(l.success=ae("success"),l.error=ae("error")),l}function p(d,e){function f(a,c,d,e){function f(){g(c,a,d,e)}v&&(200<=a&&300>a?v.put(y,[a,c,fb(d),e]):v.remove(y)),b?l.$applyAsync(f):(f(),l.$$phase||l.$apply())}function g(a,b,c,e){b=-1<=b?b:0,(200<=b&&300>b?n.resolve:n.reject)({data:a,status:b,headers:gb(c),config:d,statusText:e})}function j(a){g(a.data,a.status,K(a.headers()),a.statusText)}function k(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var v,w,n=m.defer(),p=n.promise,x=d.headers,y=q(d.url,d.paramSerializer(d.params));return o.pendingRequests.push(d),p.then(k,k),!d.cache&&!a.cache||!1===d.cache||"GET"!==d.method&&"JSONP"!==d.method||(v=u(d.cache)?d.cache:u(a.cache)?a.cache:r),v&&(w=v.get(y),t(w)?w&&z(w.then)?w.then(j,j):cd(w)?g(w[1],w[0],K(w[2]),w[3]):g(w,200,{},"OK"):v.put(y,p)),s(w)&&((w=fc(d.url)?i()[d.xsrfCookieName||a.xsrfCookieName]:c)&&(x[d.xsrfHeaderName||a.xsrfHeaderName]=w),h(d.method,y,e,f,x,d.timeout,d.withCredentials,d.responseType)),p}function q(a,b){return 0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var r=j("$http");a.paramSerializer=w(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var v=[];return f(g,function(a){v.unshift(w(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],function(a){f(arguments,function(a){o[a]=function(b,c){return o(k({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){f(arguments,function(a){o[a]=function(b,c,d){return o(k({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),o.defaults=a,o}]}function jb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function kb(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return lb(a,d,a.defer,b.angular.callbacks,c[0])}]}function lb(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){f.removeEventListener("load",g,!1),f.removeEventListener("error",g,!1),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},f.addEventListener("load",g,!1),f.addEventListener("error",g,!1),e.body.appendChild(f),g}return function(e,h,i,j,k,l,m,n){function p(){u&&u(),v&&v.abort()}function q(b,d,e,f,g){t(w)&&c.cancel(w),u=v=null,b(d,e,f,g),a.$$completeOutstandingRequest(o)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==Pc(e)){var r="_"+(d.counter++).toString(36);d[r]=function(a){d[r].data=a,d[r].called=!0};var u=g(h.replace("JSON_CALLBACK","angular.callbacks."+r),r,function(a,b){q(j,a,d[r].data,"",b),d[r]=o})}else{var v=b(e,h);if(v.open(e,h,!0),f(k,function(a,b){t(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==ec(h).protocol?404:0),q(j,c,b,v.getAllResponseHeaders(),a)},e=function(){q(j,-1,null,null,"")},v.onerror=e,v.onabort=e,m&&(v.withCredentials=!0),n)try{v.responseType=n}catch(a){if("json"!==n)throw a}v.send(s(i)?null:i)}if(0<l)var w=c(p,l);else l&&z(l.then)&&l.then(p)}}function mb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(l,a).replace(m,b)}function h(f,h,l,m){function n(a){try{var b=a;a=l?e.getTrusted(l,b):e.valueOf(b);var c;if(m&&!t(a))c=a;else if(null==a)c="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=P(a)}c=a}return c}catch(a){d(be.interr(f,a))}}m=!!m;for(var o,p,q=0,r=[],u=[],v=f.length,w=[],x=[];q<v;){if(-1==(o=f.indexOf(a,q))||-1==(p=f.indexOf(b,o+i))){q!==v&&w.push(g(f.substring(q)));break}q!==o&&w.push(g(f.substring(q,o))),q=f.substring(o+i,p),r.push(q),u.push(c(q,n)),q=p+j,x.push(w.length),w.push("")}if(l&&1<w.length&&be.throwNoconcat(f),!h||r.length){var y=function(a){for(var b=0,c=r.length;b<c;b++){if(m&&s(a[b]))return;w[x[b]]=a[b]}return w.join("")};return k(function(a){var b=0,c=r.length,e=Array(c);try{for(;b<c;b++)e[b]=u[b](a);return y(e)}catch(a){d(be.interr(f,a))}},{exp:f,expressions:r,$$watchDelegate:function(a,b){var c;return a.$watchGroup(u,function(d,e){var f=y(d);z(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var i=a.length,j=b.length,l=new RegExp(a.replace(/./g,f),"g"),m=new RegExp(b.replace(/./g,f),"g");return h.startSymbol=function(){return a},h.endSymbol=function(){return b},h}]}function nb(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=4<arguments.length,k=j?Vc.call(arguments,4):[],l=b.setInterval,m=b.clearInterval,n=0,o=t(i)&&!i,p=(o?d:c).defer(),q=p.promise;return h=t(h)?h:0,q.then(null,null,j?function(){e.apply(null,k)}:e),q.$$intervalId=l(function(){p.notify(n++),0<h&&n>=h&&(p.resolve(n),m(q.$$intervalId),delete f[q.$$intervalId]),o||a.$apply()},g),f[q.$$intervalId]=p,q}var f={};return e.cancel=function(a){return!!(a&&a.$$intervalId in f)&&(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0)},e}]}function ob(a){a=a.split("/");for(var b=a.length;b--;)a[b]=X(a[b]);return a.join("/")}function pb(a,b){var c=ec(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=m(c.port)||de[c.protocol]||null}function qb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=ec(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=V(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function rb(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function sb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function tb(a){return a.replace(/(#.+)|#$/,"$1")}function ub(a,b,c){this.$$html5=!0,c=c||"",pb(a,this),this.$$parse=function(a){var c=rb(b,a);if(!w(c))throw ee("ipthprfx",a,b);qb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),c=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ob(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return t(f=rb(a,d))?(g=f,g=t(f=rb(c,f))?b+(rb("/",f)||f):a+g):t(f=rb(b,d))?g=b+f:b==d+"/"&&(g=b),g&&this.$$parse(g),!!g}}function vb(a,b,c){pb(a,this),this.$$parse=function(d){var f,e=rb(a,d)||rb(b,d);s(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",s(e)&&(a=d,this.replace())):(f=rb(c,e),s(f)&&(f=e)),qb(f,this),d=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,"")),g.exec(f)||(d=(f=g.exec(d))?f[1]:d),this.$$path=d,this.$$compose()},this.$$compose=function(){var b=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ob(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return sb(a)==sb(b)&&(this.$$parse(b),!0)}}function wb(a,b,c){this.$$html5=!0,vb.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==sb(d)?f=d:(g=rb(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ob(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function xb(a){return function(){return this[a]}}function yb(a,b){return function(c){return s(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function zb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return t(b)?(a=b,this):a},this.html5Mode=function(a){return D(a)?(b.enabled=a,this):u(a)?(D(a.enabled)&&(b.enabled=a.enabled),D(a.requireBase)&&(b.requireBase=a.requireBase),D(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(a){throw j.url(e),j.$$state=f,a}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k;k=d.baseHref();var m,l=d.url();if(b.enabled){if(!k&&b.requireBase)throw ee("nobase");m=l.substring(0,l.indexOf("/",l.indexOf("//")+2))+(k||"/"),k=e.history?ub:wb}else m=sb(l),k=vb;var n=m.substr(0,sb(m).lastIndexOf("/")+1);j=new k(m,n,"#"+a),j.$$parseLinkUrl(l,l),j.$$state=d.state();var o=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Tc(a.target);"a"!==H(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");u(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=ec(h.animVal).href),o.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!j.$$parseLinkUrl(h,i)||(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),tb(j.absUrl())!=tb(l)&&d.url(j.absUrl(),!0);var p=!0;return d.onUrlChange(function(a,b){s(rb(n,a))?g.location.href=a:(c.$evalAsync(function(){var f,d=j.absUrl(),e=j.$$state;a=tb(a),j.$$parse(a),j.$$state=b,f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented,j.absUrl()===a&&(f?(j.$$parse(d),j.$$state=e,h(d,!1,e)):(p=!1,i(d,e)))}),c.$$phase||c.$digest())}),c.$watch(function(){var a=tb(d.url()),b=tb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(p||k)&&(p=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Ab(){var a=!0,b=this;this.debugEnabled=function(b){return t(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o;a=!1;try{a=!!e.apply}catch(a){}return a?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Bb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ge("isecfld",b);return a}function Cb(a,b){if(a+="",!w(a))throw ge("iseccst",b);return a}function Db(a,b){if(a){if(a.constructor===a)throw ge("isecfn",b);if(a.window===a)throw ge("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ge("isecdom",b);if(a===Object)throw ge("isecobj",b)}return a}function Eb(a,b){if(a){if(a.constructor===a)throw ge("isecfn",b);if(a===he||a===ie||a===je)throw ge("isecff",b)}}function Fb(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw ge("isecaf",b)}function Gb(a,b){return"undefined"!=typeof a?a:b}function Hb(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function Ib(a,b){var c,d;switch(a.type){case ne.Program:c=!0,f(a.body,function(a){Ib(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case ne.Literal:a.constant=!0,a.toWatch=[];break;case ne.UnaryExpression:Ib(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case ne.BinaryExpression:Ib(a.left,b),Ib(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case ne.LogicalExpression:Ib(a.left,b),Ib(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case ne.ConditionalExpression:Ib(a.test,b),Ib(a.alternate,b),Ib(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case ne.Identifier:a.constant=!1,a.toWatch=[a];break;case ne.MemberExpression:Ib(a.object,b),a.computed&&Ib(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case ne.CallExpression:c=!!a.filter&&!b(a.callee.name).$stateful,d=[],f(a.arguments,function(a){Ib(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&!b(a.callee.name).$stateful?d:[a];break;case ne.AssignmentExpression:Ib(a.left,b),Ib(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case ne.ArrayExpression:c=!0,d=[],f(a.elements,function(a){Ib(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case ne.ObjectExpression:c=!0,d=[],f(a.properties,function(a){Ib(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case ne.ThisExpression:a.constant=!1,a.toWatch=[]}}function Jb(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:c}}function Kb(a){return a.type===ne.Identifier||a.type===ne.MemberExpression}function Lb(a){if(1===a.body.length&&Kb(a.body[0].expression))return{type:ne.AssignmentExpression,left:a.body[0].expression,right:{type:ne.NGValueParameter},operator:"="}}function Mb(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===ne.Literal||a.body[0].expression.type===ne.ArrayExpression||a.body[0].expression.type===ne.ObjectExpression)}function Nb(a,b){this.astBuilder=a,this.$filter=b}function Ob(a,b){this.astBuilder=a,this.$filter=b}function Pb(a){return"constructor"==a}function Qb(a){return z(a.valueOf)?a.valueOf():pe.call(a)}function Rb(){var a=ja(),b=ja();this.$get=["$filter",function(d){function e(a,b){return null==a||null==b?a===b:("object"!=typeof a||(a=Qb(a),"object"!=typeof a))&&(a===b||a!==a&&b!==b)}function g(a,b,d,f,g){var i,h=f.inputs;if(1===h.length){var j=e,h=h[0];return a.$watch(function(a){var b=h(a);return e(b,j)||(i=f(a,c,c,[b]),j=b&&Qb(b)),i},b,d,g)}for(var k=[],l=[],m=0,n=h.length;m<n;m++)k[m]=e,l[m]=null;return a.$watch(function(a){for(var b=!1,d=0,g=h.length;d<g;d++){var j=h[d](a);(b||(b=!e(j,k[d])))&&(l[d]=j,k[d]=j&&Qb(j))}return b&&(i=f(a,c,c,l)),i},b,d,g)}function h(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,z(b)&&b.apply(this,arguments),t(a)&&d.$$postDigest(function(){t(f)&&e()})},c)}function i(a,b,c,d){function e(a){var b=!0;return f(a,function(a){t(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,z(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function j(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){z(b)&&b.apply(this,arguments),e()},c)}function k(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==i&&c!==h?function(c,e,f,g){return f=d&&g?g[0]:a(c,e,f,g),b(f,c,e)}:function(c,d,e,f){return e=a(c,d,e,f),c=b(e,c,d),t(e)?c:e};return a.$$watchDelegate&&a.$$watchDelegate!==g?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=g,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]),c}var l=gd().noUnsafeEval,m={csp:l,expensiveChecks:!1},n={csp:l,expensiveChecks:!0};return function(c,e,f){var l,p,q;switch(typeof c){case"string":q=c=c.trim();var r=f?b:a;return l=r[q],l||(":"===c.charAt(0)&&":"===c.charAt(1)&&(p=!0,c=c.substring(2)),f=f?n:m,l=new me(f),l=new oe(l,d,f).parse(c),l.constant?l.$$watchDelegate=j:p?l.$$watchDelegate=l.literal?i:h:l.inputs&&(l.$$watchDelegate=g),r[q]=l),k(l,e);case"function":return k(c,e);default:return k(o,e)}}}]}function Sb(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Ub(function(b){a.$evalAsync(b)},b)}]}function Tb(){this.$get=["$browser","$exceptionHandler",function(a,b){return Ub(function(b){a.defer(b)},b)}]}function Ub(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(d){!d.processScheduled&&d.pending&&(d.processScheduled=!0,a(function(){var a,e,f;f=d.pending,d.processScheduled=!1,d.pending=c;for(var g=0,h=f.length;g<h;++g){e=f[g][0],a=f[g][d.status];try{z(a)?e.resolve(a(d.value)):1===d.status?e.resolve(d.value):e.reject(d.value)}catch(a){e.reject(a),b(a)}}}))}function j(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}var l=d("$q",TypeError);k(g.prototype,{then:function(a,b,c){if(s(a)&&s(b)&&s(c))return this;var d=new j;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&i(this.$$state),d.promise},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return n(b,!0,a)},function(b){return n(b,!1,a)},b)}}),k(j.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(l("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(u(a)||z(a))&&(c=a&&a.then),z(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,i(this.promise.$$state))}catch(a){d[1](a),b(a)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(z(a)?a(c):c)}catch(a){b(a)}}})}});var m=function(a,b){var c=new j;return b?c.resolve(a):c.reject(a),c.promise},n=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(a){return m(a,!1)}return d&&z(d.then)?d.then(function(){return m(a,b)},function(a){return m(a,!1)}):m(a,b)},o=function(a,b,c,d){var e=new j;return e.resolve(a),e.promise.then(b,c,d)},p=function a(b){if(!z(b))throw l("norslvr",b);if(!(this instanceof a))return new a(b);var c=new j;return b(function(a){c.resolve(a)},function(a){c.reject(a)}),c.promise};return p.defer=function(){return new j},p.reject=function(a){var b=new j;return b.reject(a),b.promise},p.when=o,p.resolve=o,p.all=function(a){var b=new j,c=0,d=cd(a)?[]:{};return f(a,function(a,e){c++,o(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},p}function Vb(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Wb(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++bd,this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,i,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Sc&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function n(){this.$id=++bd,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(x.$$phase)throw c("inprog",x.$$phase);x.$$phase=a}function q(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function r(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function t(){}function v(){for(;B.length;)try{B.shift()()}catch(a){i(a)}h=null}function w(){null===h&&(h=k.defer(function(){x.$apply(v)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,h=f.$$watchers,i={fn:b,last:t,get:e,exp:d||a,eq:!!c};return g=null,z(b)||(i.fn=o),h||(h=f.$$watchers=[]),h.unshift(i),q(this,1),function(){0<=I(h,i)&&q(f,-1),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=Array(a.length),e=Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h;if(!s(f)){if(u(f))if(e(f))for(g!==m&&(g=m,p=g.length=0,k++),a=f.length,p!==a&&(k++,g.length=p=a),b=0;b<a;b++)h=g[b],d=f[b],c=h!==h&&d!==d,c||h===d||(k++,g[b]=d);else{g!==n&&(g=n={},p=0,k++),a=0;for(b in f)Qc.call(f,b)&&(a++,d=f[b],h=g[b],b in g?(c=h!==h&&d!==d,c||h===d||(k++,g[b]=d)):(p++,g[b]=d,k++));if(p>a)for(b in k++,g)Qc.call(f,b)||(p--,delete g[b])}else g!==f&&(g=f,k++);return k}}c.$stateful=!0;var f,g,h,d=this,i=1<b.length,k=0,l=j(a,c),m=[],n={},o=!0,p=0;return this.$watch(l,function(){if(o?(o=!1,b(f,f,d)):b(f,h,d),i)if(u(f))if(e(f)){h=Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else for(a in h={},f)Qc.call(f,a)&&(h[a]=f[a]);else h=f})},$digest:function(){var a,d,e,f,j,l,n,q,r,m=b,o=[];p("$digest"),k.$$checkUrlChange(),this===x&&null!==h&&(k.defer.cancel(h),v()),g=null;do{for(l=!1,n=this;y.length;){try{r=y.shift(),r.scope.$eval(r.expression,r.locals)}catch(a){i(a)}g=null}a:do{if(f=n.$$watchers)for(j=f.length;j--;)try{if(a=f[j])if((d=a.get(n))===(e=a.last)||(a.eq?L(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(a===g){l=!1;break a}}else l=!0,g=a,a.last=a.eq?J(d,null):d,a.fn(d,e===t?d:e,n),5>m&&(q=4-m,o[q]||(o[q]=[]),o[q].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:d,oldVal:e}))}catch(a){i(a)}if(!(f=n.$$watchersCount&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(f=n.$$nextSibling);)n=n.$parent;
}while(n=f);if((l||y.length)&&!m--)throw x.$$phase=null,c("infdig",b,o)}while(l||y.length);for(x.$$phase=null;A.length;)try{A.shift()()}catch(a){i(a)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&k.$$applicationDestroyed(),q(this,-this.$$watchersCount);for(var b in this.$$listenerCount)r(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o,this.$on=this.$watch=this.$watchGroup=function(){return o},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){x.$$phase||y.length||k.defer(function(){y.length&&x.$digest()}),y.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{x.$$phase=null}}catch(a){i(a)}finally{try{x.$digest()}catch(a){throw i(a),a}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&B.push(b),w()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,r(e,1,a))}},$emit:function(a,b){var d,j,k,c=[],e=this,f=!1,g={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1},h=M([g],arguments,1);do{for(d=e.$$listeners[a]||c,g.currentScope=e,j=0,k=d.length;j<k;j++)if(d[j])try{d[j].apply(null,h)}catch(a){i(a)}else d.splice(j,1),j--,k--;if(f)return g.currentScope=null,g;e=e.$parent}while(e);return g.currentScope=null,g},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g,h,f=M([e],arguments,1);c=d;){for(e.currentScope=c,d=c.$$listeners[a]||[],g=0,h=d.length;g<h;g++)if(d[g])try{d[g].apply(null,f)}catch(a){i(a)}else d.splice(g,1),g--,h--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var x=new n,y=x.$$asyncQueue=[],A=x.$$postDigestQueue=[],B=x.$$applyAsyncQueue=[];return x}]}function Xb(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return t(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return t(a)?(b=a,this):b},this.$get=function(){return function(c,d){var f,e=d?b:a;return f=ec(c).href,""===f||f.match(e)?c:"unsafe:"+f}}}function Yb(a){if("self"===a)return a;if(w(a)){if(-1<a.indexOf("***"))throw qe("iwcard",a);return a=fd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(A(a))return new RegExp("^"+a.source+"$");throw qe("imatcher")}function Zb(a){var b=[];return t(a)&&f(a,function(a){b.push(Yb(a))}),b}function $b(){this.SCE_CONTEXTS=re;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Zb(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Zb(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?fc(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw qe("unsafe")};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};return h[re.HTML]=e(g),h[re.CSS]=e(g),h[re.URL]=e(g),h[re.JS]=e(g),h[re.RESOURCE_URL]=e(h[re.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw qe("icontext",a,b);if(null===b||s(b)||""===b)return b;if("string"!=typeof b)throw qe("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||s(e)||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===re.RESOURCE_URL){var i,j,g=ec(e.toString()),k=!1;for(i=0,j=a.length;i<j;i++)if(d(a[i],g)){k=!0;break}if(k)for(i=0,j=b.length;i<j;i++)if(d(b[i],g)){k=!1;break}if(k)return e;throw qe("insecurl",e.toString())}if(c===re.HTML)return f(e);throw qe("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function _b(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Sc)throw qe("iequirks");var d=K(re);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=p),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(re,function(a,b){var c=Pc(b);d[ma("parse_as_"+c)]=function(b){return e(a,b)},d[ma("get_trusted_"+c)]=function(b){return g(a,b)},d[ma("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function ac(){this.$get=["$window","$document",function(a,b){var g,c={},d=m((/android (\d+)/.exec(Pc((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),f=b[0]||{},h=/^(Moz|webkit|ms)(?=[A-Z])/,i=f.body&&f.body.style,j=!1,k=!1;if(i){for(var l in i)if(j=h.exec(l)){g=j[0],g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in i&&"webkit"),j=!!("transition"in i||g+"Transition"in i),k=!!("animation"in i||g+"Animation"in i),!d||j&&k||(j=w(i.webkitTransition),k=w(i.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>d||e),hasEvent:function(a){if("input"===a&&11>=Sc)return!1;if(s(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:gd(),vendorPrefix:g,transitions:j,animations:k,android:d}}]}function bc(){this.$get=["$templateCache","$http","$q","$sce",function(a,b,c,d){function e(f,g){e.totalPendingRequests++,w(f)&&a.get(f)||(f=d.getTrustedResourceUrl(f));var h=b.defaults&&b.defaults.transformResponse;return cd(h)?h=h.filter(function(a){return a!==eb}):h===eb&&(h=null),b.get(f,{cache:a,transformResponse:h}).finally(function(){e.totalPendingRequests--}).then(function(b){return a.put(f,b.data),b.data},function(a){if(!g)throw Rd("tpload",f,a.status,a.statusText);return c.reject(a)})}return e.totalPendingRequests=0,e}]}function cc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var d=[];return f(a,function(a){var e=_c.element(a).data("$binding");e&&f(e,function(e){c?new RegExp("(^|\\s)"+fd(b)+"(\\s|\\||$)").test(e)&&d.push(a):-1!=e.indexOf(b)&&d.push(a)})}),d},findModels:function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=a.querySelectorAll("["+d[e]+"model"+(c?"=":"*=")+'"'+b+'"]');if(f.length)return f}},getLocation:function(){return c.url()},setLocation:function(b){b!==c.url()&&(c.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function dc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){z(f)||(i=h,h=f,f=o);var n,j=Vc.call(arguments,3),k=t(i)&&!i,l=(k?d:c).defer(),m=l.promise;return n=b.defer(function(){try{l.resolve(f.apply(null,j))}catch(a){l.reject(a),e(a)}finally{delete g[m.$$timeoutId]}k||a.$apply()},h),m.$$timeoutId=n,g[n]=l,m}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function ec(a){return Sc&&(se.setAttribute("href",a),a=se.href),se.setAttribute("href",a),{href:se.href,protocol:se.protocol?se.protocol.replace(/:$/,""):"",host:se.host,search:se.search?se.search.replace(/^\?/,""):"",hash:se.hash?se.hash.replace(/^#/,""):"",hostname:se.hostname,port:se.port,pathname:"/"===se.pathname.charAt(0)?se.pathname:"/"+se.pathname}}function fc(a){return a=w(a)?ec(a):a,a.protocol===te.protocol&&a.host===te.host}function gc(){this.$get=q(a)}function hc(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i;if(a=c.cookie||"",a!==e)for(e=a,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),0<h&&(i=b(f.substring(0,h)),s(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function ic(){this.$get=hc}function jc(a){function b(c,d){if(u(c)){var e={};return f(c,function(a,c){e[c]=b(c,a)}),e}return a.factory(c+"Filter",d)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",oc),b("date",zc),b("filter",kc),b("json",Ac),b("limitTo",Bc),b("lowercase",Ae),b("number",pc),b("orderBy",Cc),b("uppercase",Be)}function kc(){return function(a,b,c){if(!e(a)){if(null==a)return a;throw d("filter")("notarray",a)}var f;switch(nc(b)){case"function":break;case"boolean":case"null":case"number":case"string":f=!0;case"object":b=lc(b,c,f);break;default:return a}return Array.prototype.filter.call(a,b)}}function lc(a,b,c){var d=u(a)&&"$"in a;return!0===b?b=L:z(b)||(b=function(a,b){return!s(a)&&(null===a||null===b?a===b:!(u(b)||u(a)&&!r(a))&&(a=Pc(""+a),b=Pc(""+b),-1!==a.indexOf(b)))}),function(e){return d&&!u(e)?mc(e,a.$,b,!1):mc(e,a,b,c)}}function mc(a,b,c,d,e){var f=nc(a),g=nc(b);if("string"===g&&"!"===b.charAt(0))return!mc(a,b.substring(1),c,d);if(cd(a))return a.some(function(a){return mc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&mc(a[h],b,c,!0))return!0;return!e&&mc(a,b,c,!1)}if("object"===g){for(h in b)if(e=b[h],!z(e)&&!s(e)&&(f="$"===h,!mc(f?a:a[h],e,c,f,f)))return!1;return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function nc(a){return null===a?"null":typeof a}function oc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return s(c)&&(c=b.CURRENCY_SYM),s(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:sc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function pc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:sc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function qc(a){var c,d,e,f,g,b=0;for(-1<(d=a.indexOf(ve))&&(a=a.replace(ve,"")),0<(e=a.search(/e/i))?(0>d&&(d=e),d+=+a.slice(e+1),a=a.substring(0,e)):0>d&&(d=a.length),e=0;a.charAt(e)==we;e++);if(e==(g=a.length))c=[0],d=1;else{for(g--;a.charAt(g)==we;)g--;for(d-=e,c=[],f=0;e<=g;e++,f++)c[f]=+a.charAt(e)}return d>ue&&(c=c.splice(0,ue-1),b=d-1,d=1),{d:c,e:b,i:d}}function rc(a,b,c,d){var e=a.d,f=e.length-a.i;if(b=s(b)?Math.min(Math.max(c,f),d):+b,c=b+a.i,d=e[c],0<c)e.splice(c);else{a.i=1,e.length=c=b+1;for(var g=0;g<c;g++)e[g]=0}for(5<=d&&e[c-1]++;f<b;f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&&(e.unshift(b),a.i++)}function sc(a,b,c,d,e){if(!w(a)&&!x(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",i="";if(f)i="";else{for(g=qc(h),rc(g,e,b.minFrac,b.maxFrac),i=g.d,h=g.i,e=g.e,f=[],g=i.reduce(function(a,b){return a&&!b},!0);0>h;)i.unshift(0),h++;for(0<h?f=i.splice(h):(f=i,i=[0]),h=[],i.length>b.lgSize&&h.unshift(i.splice(-b.lgSize).join(""));i.length>b.gSize;)h.unshift(i.splice(-b.gSize).join(""));i.length&&h.unshift(i.join("")),i=h.join(c),f.length&&(i+=d+f.join("")),e&&(i+="e+"+e)}return 0>a&&!g?b.negPre+i+b.negSuf:b.posPre+i+b.posSuf}function tc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a=we+a;return c&&(a=a.substr(a.length-b)),d+a}function uc(a,b,c,d){return c=c||0,function(e){return e=e["get"+a](),(0<c||e>-c)&&(e+=c),0===e&&-12==c&&(e=12),tc(e,b,d)}}function vc(a,b){return function(c,d){var e=c["get"+a](),f=Rc(b?"SHORT"+a:a);return d[f][e]}}function wc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function xc(a){return function(b){var c=wc(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+c,b=1+Math.round(b/6048e5),tc(b,a)}}function yc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function zc(a){function b(a){var b;if(b=a.match(c)){a=new Date(0);var d=0,e=0,f=b[8]?a.setUTCFullYear:a.setFullYear,g=b[8]?a.setUTCHours:a.setHours;b[9]&&(d=m(b[9]+b[10]),e=m(b[9]+b[11])),f.call(a,m(b[1]),m(b[2])-1,m(b[3])),d=m(b[4]||0)-d,e=m(b[5]||0)-e,f=m(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),g.call(a,d,e,f,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var i,j,g="",h=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,w(c)&&(c=ze.test(c)?m(c):b(c)),x(c)&&(c=new Date(c)),!y(c)||!isFinite(c.getTime()))return c;for(;d;)(j=ye.exec(d))?(h=M(h,j,1),d=h.pop()):(h.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=R(e,c.getTimezoneOffset()),c=S(c,e,!0)),f(h,function(b){i=xe[b],g+=i?i(c,a.DATETIME_FORMATS,k):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function Ac(){return function(a,b){return s(b)&&(b=2),P(a,b)}}function Bc(){return function(a,b,c){return b=1/0===Math.abs(Number(b))?Number(b):m(b),isNaN(b)?a:(x(a)&&(a=a.toString()),cd(a)||w(a)?(c=!c||isNaN(c)?0:m(c),c=0>c?Math.max(0,a.length+c):c,0<=b?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function Cc(a){function b(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=p;if(z(b))e=b;else if(w(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant)))var f=e(),e=function(a){return a[f]};return{get:e,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}return function(a,d,f){if(!e(a))return a;cd(d)||(d=[d]),0===d.length&&(d=["+"]);var g=b(d,f);return g.push({get:function(){return{}},descending:f?-1:1}),a=Array.prototype.map.call(a,function(a,b){return{value:a,predicateValues:g.map(function(d){var e=d.get(a);return d=typeof e,null===e?(d="string",e="null"):"string"===d?e=e.toLowerCase():"object"===d&&("function"==typeof e.valueOf&&(e=e.valueOf(),c(e))||r(e)&&(e=e.toString(),c(e))||(e=b)),{value:e,type:d}})}}),a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],f=b.predicateValues[d],h=0;if(c.type===f.type?c.value!==f.value&&(h=c.value<f.value?-1:1):h=c.type<f.type?-1:1,c=h*g[d].descending)break}return c}),a=a.map(function(a){return a.value})}}function Dc(a){return z(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function Ec(a,b,d,e,g){var h=this,i=[];h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,h.$$parentForm=Ee,h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){ga(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a),a.$$parentForm=h},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),I(i,a),a.$$parentForm=Ee},Mc({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(I(d,c),0===d.length&&delete a[b])},$animate:e}),h.$setDirty=function(){e.removeClass(a,mf),e.addClass(a,nf),h.$dirty=!0,h.$pristine=!1,h.$$parentForm.$setDirty()},h.$setPristine=function(){e.setClass(a,mf,nf+" ng-submitted"),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,"ng-submitted"),h.$submitted=!0,h.$$parentForm.$setSubmitted()}}function Fc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Gc(a,b,c,d,e,f){var g=Pc(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val();a=a&&a.type,"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=ed(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function Hc(a,b){return function(c,d){var e,g;if(y(c))return c;if(w(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Ie.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function Ic(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return t(a)&&!y(a)?d(a)||c:a}Jc(f,g,h,i),Gc(f,g,h,i,j,k);var p,o=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){return i.$isEmpty(a)?null:b.test(a)?(a=d(a,p),o&&(a=S(a,o)),a):c}),i.$formatters.push(function(a){if(a&&!y(a))throw pf("datefmt",a);return m(a)?((p=a)&&o&&(p=S(p,o,!0)),l("date")(a,e,o)):(p=null,"")}),t(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||s(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(t(h.max)||h.ngMax){var r;i.$validators.max=function(a){return!m(a)||s(r)||d(a)<=r},h.$observe("max",function(a){r=n(a),i.$validate()})}}}function Jc(a,b,d,e){(e.$$hasNativeValidators=u(b[0].validity))&&e.$parsers.push(function(a){var d=b.prop("validity")||{};return d.badInput&&!d.typeMismatch?c:a})}function Kc(a,b,c,d,e){if(t(d)){if(a=a(d),!a.constant)throw pf("constexpr",c,d);return a(b)}return e}function Lc(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){var b=[];return cd(a)?(f(a,function(a){b=b.concat(e(a))}),b):w(a)?a.split(" "):u(a)?(f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a,b){var c=h.data("$classCounts")||ja(),d=[];return f(a,function(a){(0<b||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function k(a){if(!0===b||g.$index%2===b){var f=e(a||[]);if(l){if(!L(a,l)){var m=e(l),k=d(f,m),f=d(m,f),k=j(k,1),f=j(f,-1);k&&k.length&&c.addClass(h,k),f&&f.length&&c.removeClass(h,f)}}else{var k=j(f,1);i.$addClass(k)}}l=K(a)}var l;g.$watch(i[a],k,!0),i.$observe("class",function(b){k(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?(f=j(h,1),i.$addClass(f)):(f=j(h,-1),i.$removeClass(f))}})}}}]}function Mc(a){function b(a,b){b&&!g[a]?(j.addClass(f,a),g[a]=!0):!b&&g[a]&&(j.removeClass(f,a),g[a]=!1)}function d(a,c){a=a?"-"+ca(a,"-"):"",b(kf+a,!0===c),b(lf+a,!1===c)}var e=a.ctrl,f=a.$element,g={},h=a.set,i=a.unset,j=a.$animate;g[lf]=!(g[kf]=f.hasClass(kf)),e.$setValidity=function(a,f,g){s(f)?(e.$pending||(e.$pending={}),h(e.$pending,a,g)):(e.$pending&&i(e.$pending,a,g),Nc(e.$pending)&&(e.$pending=c)),D(f)?f?(i(e.$error,a,g),h(e.$$success,a,g)):(h(e.$error,a,g),i(e.$$success,a,g)):(i(e.$error,a,g),i(e.$$success,a,g)),e.$pending?(b(of,!0),e.$valid=e.$invalid=c,d("",null)):(b(of,!1),e.$valid=Nc(e.$error),e.$invalid=!e.$valid,d("",e.$valid)),f=e.$pending&&e.$pending[a]?c:!e.$error[a]&&(!!e.$$success[a]||null),d(a,f),e.$$parentForm.$setValidity(a,f,e)}}function Nc(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Sc,Tc,Uc,ad,Oc=/^\/(.+)\/([a-z]*)$/,Pc=function(a){return w(a)?a.toLowerCase():a},Qc=Object.prototype.hasOwnProperty,Rc=function(a){return w(a)?a.toUpperCase():a},Vc=[].slice,Wc=[].splice,Xc=[].push,Yc=Object.prototype.toString,Zc=Object.getPrototypeOf,$c=d("ng"),_c=a.angular||(a.angular={}),bd=0;Sc=b.documentMode,o.$inject=[],p.$inject=[];var ld,cd=Array.isArray,dd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,ed=function(a){return w(a)?a.trim():a},fd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gd=function(){if(!t(gd.rules)){var a=b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]");if(a){var c=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");gd.rules={noUnsafeEval:!c||-1!==c.indexOf("no-unsafe-eval"),noInlineStyle:!c||-1!==c.indexOf("no-inline-style")}}else{a=gd;try{new Function(""),c=!1}catch(a){c=!0}a.rules={noUnsafeEval:c,noInlineStyle:!1}}}return gd.rules},hd=function(){if(t(hd.name_))return hd.name_;var a,c,e,f,d=id.length;for(c=0;c<d;++c)if(e=id[c],a=b.querySelector("["+e.replace(":","\\:")+"jq]")){f=a.getAttribute(e+"jq");break}return hd.name_=f},id=["ng-","data-ng-","ng:","x-ng-"],jd=/[A-Z]/g,kd=!1,md=3,nd={full:"1.4.9",major:1,minor:4,dot:9,codeName:"implicit-superannuation"};pa.expando="ng339";var od=pa.cache={},pd=1;pa._data=function(a){return this.cache[a[this.expando]]||{}};var qd=/([\:\-\_]+(.))/g,rd=/^moz([A-Z])/,sd={mouseleave:"mouseout",mouseenter:"mouseover"},td=d("jqLite"),ud=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,vd=/<|&#?\w+;/,wd=/<([\w:-]+)/,xd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,yd={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yd.optgroup=yd.option,yd.tbody=yd.tfoot=yd.colgroup=yd.caption=yd.thead,yd.th=yd.td;var zd=Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Ad=pa.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),pa(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Tc(0<=a?this[a]:this[this.length+a])},length:0,push:Xc,sort:[].sort,splice:[].splice},Bd={};f("multiple selected checked disabled readOnly required open".split(" "),function(a){Bd[Pc(a)]=a});var Cd={};f("input select option textarea button form details".split(" "),function(a){Cd[a]=!0});var Dd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:va,removeData:ta,hasData:function(a){for(var b in od[a.ng339])return!0;return!1}},function(a,b){pa[b]=a}),f({data:va,inheritedData:Ba,scope:function(a){return Tc.data(a,"$scope")||Ba(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Tc.data(a,"$isolateScope")||Tc.data(a,"$isolateScopeNoTemplate")},controller:Aa,injector:function(a){return Ba(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:wa,css:function(a,b,c){return b=ma(b),t(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e!==md&&2!==e&&8!==e)if(e=Pc(b),Bd[e]){if(!t(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(t(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?c:a},prop:function(a,b,c){return t(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(s(b)){var c=a.nodeType;return 1===c||c===md?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(s(b)){if(a.multiple&&"select"===H(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return s(b)?a.innerHTML:(ra(a,!0),void(a.innerHTML=b))},empty:Ca},function(a,b){pa.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Ca&&s(2==a.length&&a!==wa&&a!==Aa?b:c)){if(u(b)){for(d=0;d<f;d++)if(a===va)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(d=a.$dv,f=s(d)?Math.min(f,1):f,e=0;e<f;e++){var g=a(this[e],b,c);d=d?d+g:g}return d}for(d=0;d<f;d++)a(this[d],b,c);return this}}),f({removeData:ta,on:function(a,b,d,e){if(t(e))throw td("onargs");if(na(a)){e=ua(a,!0);var f=e.events,g=e.handle;g||(g=e.handle=Ga(a,f)),e=0<=b.indexOf(" ")?b.split(" "):[b];for(var h=e.length,i=function(b,c,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||e||a.addEventListener(b,g,!1)),h.push(d)};h--;)b=e[h],sd[b]?(i(sd[b],Ia),i(b,c,!0)):i(b)}},off:sa,one:function(a,b,c){a=Tc(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;ra(a),f(new pa(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(1===c||11===c){b=new pa(b);for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])}},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;f(new pa(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=Tc(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:Da,detach:function(a){Da(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new pa(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:ya,removeClass:xa,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;s(d)&&(d=!wa(a,b)),(d?ya:xa)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:qa,triggerHandler:function(a,b,c){var d,e,g=b.type||b,h=ua(a);(h=(h=h&&h.events)&&h[g])&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:o,type:g,target:a},b.type&&(d=k(d,b)),b=K(h),e=c?[d].concat(c):[d],f(b,function(b){d.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){pa.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;f<g;f++)s(e)?(e=a(this[f],b,c,d),t(e)&&(e=Tc(e))):za(e,a(this[f],b,c,d));return t(e)?e:this},pa.prototype.bind=pa.prototype.on,pa.prototype.unbind=pa.prototype.off}),La.prototype={put:function(a,b){this[Ka(a,this.nextUid)]=b},get:function(a){return this[Ka(a,this.nextUid)]},remove:function(a){var b=this[a=Ka(a,this.nextUid)];return delete this[a],b}};var Ed=[function(){this.$get=[function(){return La}]}],Fd=/^[^\(]*\(\s*([^\)]*)\)/m,Gd=/,/,Hd=/^\s*(_?)(\S+?)\1\s*$/,Id=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Jd=d("$injector");Na.$$annotate=function(a,b,c){var d;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw w(c)&&c||(c=a.name||Ma(a)),Jd("strictdi",c);b=a.toString().replace(Id,""),b=b.match(Fd),f(b[1].split(Gd),function(a){a.replace(Hd,function(a,b,c){d.push(c)})})}a.$inject=d}}else cd(a)?(b=a.length-1,fa(a[b],"fn"),d=a.slice(0,b)):fa(a,"fn",!0);return d};var Kd=d("$animate"),Ld=function(){this.$get=function(){}},Md=function(){var a=new La,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(a,b,c){var d=!1;return b&&(b=w(b)?b.split(" "):cd(b)?b:[],f(b,function(b){b&&(d=!0,a[b]=c)})),d}function g(){f(b,function(b){var c=a.get(b);if(c){var d=Qa(b.attr("class")),e="",g="";f(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&ya(a,e),g&&xa(a,g)}),a.remove(b)}}),b.length=0}return{enabled:o,on:o,off:o,pin:o,push:function(f,h,i,j){return j&&j(),i=i||{},i.from&&f.css(i.from),i.to&&f.css(i.to),(i.addClass||i.removeClass)&&(h=i.addClass,j=i.removeClass,i=a.get(f)||{},h=e(i,h,!0),j=e(i,j,!1),(h||j)&&(a.put(f,i),b.push(f),1===b.length&&d.$$postDigest(g))),f=new c,f.complete(),f}}}]},Nd=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Kd("notcsel",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Kd("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d;a:{for(d=0;d<c.length;d++){var e=c[d];if(1===e.nodeType){d=e;break a}}d=void 0}!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Tc(d),e=e&&Tc(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",Ra(f))},move:function(c,d,e,f){return d=d&&Tc(d),e=e&&Tc(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",Ra(f))},leave:function(b,c){return a.push(b,"leave",Ra(c),function(){b.remove()})},addClass:function(b,c,d){return d=Ra(d),d.addClass=Pa(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=Ra(d),d.removeClass=Pa(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=Ra(e),e.addClass=Pa(e.addClass,c),e.removeClass=Pa(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=Ra(f),f.from=f.from?k(f.from,c):c,f.to=f.to?k(f.to,d):d,f.tempClasses=Pa(f.tempClasses,e||"ng-inline-animate"),a.push(b,"animate",f)}}}]}],Od=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),1<c.length||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Pd=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,d,e){function g(a){this.setHost(a);var b=c();this._doneCallbacks=[],this._tick=function(a){var c=d[0];c&&c.hidden?e(a,0,!1):b(a)},this._state=0}return g.chain=function(a,b){function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()},g.all=function(a,b){function c(c){e=e&&c,++d===a.length&&b(e)}var d=0,e=!0;f(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:o,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(f(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},g}]},Qd=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f.addClass&&(b.addClass(f.addClass),f.addClass=null),f.removeClass&&(b.removeClass(f.removeClass),f.removeClass=null),f.to&&(b.css(f.to),f.to=null),g||h.complete(),g=!0;
}),h}var f=d||{};f.$$prepared||(f=J(f)),f.cleanupStyles&&(f.from=f.to=null),f.from&&(b.css(f.from),f.from=null);var g,h=new c;return{start:e,end:e}}}]},Rd=d("$compile");Wa.$inject=["$provide","$$sanitizeUriProvider"];var Sd=/^((?:x|data)[\:\-_])/i,Td=d("$controller"),Ud=/^(\S+)(\s+as\s+([\w$]+))?$/,Vd=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Tc&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Wd="application/json",Xd={"Content-Type":Wd+";charset=utf-8"},Yd=/^\[|^\{(?!\{)/,Zd={"[":/]$/,"{":/}$/},$d=/^\)\]\}',?\n/,_d=d("$http"),ae=function(a){return function(){throw _d("legacy",a)}},be=_c.$interpolateMinErr=d("$interpolate");be.throwNoconcat=function(a){throw be("noconcat",a)},be.interr=function(a,b){return be("interr",a,b.toString())};var ce=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,de={http:80,https:443,ftp:21},ee=d("$location"),fe={$$html5:!1,$$replace:!1,absUrl:xb("$$absUrl"),url:function(a){if(s(a))return this.$$url;var b=ce.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:xb("$$protocol"),host:xb("$$host"),port:xb("$$port"),path:yb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(w(a)||x(a))a=a.toString(),this.$$search=V(a);else{if(!u(a))throw ee("isrcharg");a=J(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:s(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:yb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([wb,vb,ub],function(a){a.prototype=Object.create(fe),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==ub||!this.$$html5)throw ee("nostate");return this.$$state=s(b)?null:b,this}});var ge=d("$parse"),he=Function.prototype.call,ie=Function.prototype.apply,je=Function.prototype.bind,ke=ja();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){ke[a]=!0});var le={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},me=function(a){this.options=a};me.prototype={constructor:me,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),c=b+this.peek(2),d=ke[b],e=ke[c];ke[a]||d||e?(a=e?c:d?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||""===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){throw c=c||this.index,b=t(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c,ge("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Pc(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),d=d+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,c+=String.fromCharCode(parseInt(e,16))):c+=le[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var ne=function(a,b){this.lexer=a,this.options=b};ne.Program="Program",ne.ExpressionStatement="ExpressionStatement",ne.AssignmentExpression="AssignmentExpression",ne.ConditionalExpression="ConditionalExpression",ne.LogicalExpression="LogicalExpression",ne.BinaryExpression="BinaryExpression",ne.UnaryExpression="UnaryExpression",ne.CallExpression="CallExpression",ne.MemberExpression="MemberExpression",ne.Identifier="Identifier",ne.Literal="Literal",ne.ArrayExpression="ArrayExpression",ne.Property="Property",ne.ObjectExpression="ObjectExpression",ne.ThisExpression="ThisExpression",ne.NGValueParameter="NGValueParameter",ne.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:ne.Program,body:a}},expressionStatement:function(){return{type:ne.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:ne.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var b,c,a=this.logicalOR();return this.expect("?")&&(b=this.expression(),this.consume(":"))?(c=this.expression(),{type:ne.ConditionalExpression,test:a,alternate:b,consequent:c}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:ne.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:ne.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:ne.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("<",">","<=",">=");)a={type:ne.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:ne.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:ne.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:ne.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=J(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:ne.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:ne.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:ne.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:ne.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:ne.Identifier,name:a.text}},constant:function(){return{type:ne.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ne.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;b={type:ne.Property,kind:"init"},this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),b.value=this.expression(),a.push(b)}while(this.expect(","));return this.consume("}"),{type:ne.ObjectExpression,properties:a}},throwError:function(a,b){throw ge("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw ge("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw ge("ueoe",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===c||f===d||f===e||!(b||c||d||e))return a}return!1},expect:function(a,b,c,d){return!!(a=this.peek(a,b,c,d))&&(this.tokens.shift(),a)},constants:{true:{type:ne.Literal,value:!0},false:{type:ne.Literal,value:!1},null:{type:ne.Literal,value:null},undefined:{type:ne.Literal,value:c},this:{type:ne.ThisExpression}}},Nb.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ib(e,d.$filter);var h,g="";return this.stage="assign",(h=Lb(e))&&(this.state.computing="assign",g=this.nextId(),this.recurse(h,g),this.return_(g),g="fn.assign="+this.generateFunction("assign","s,v,l")),h=Jb(e.body),d.stage="inputs",f(h,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e),g='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+g+this.watchFns()+"return fn;",g=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",g)(this.$filter,Bb,Db,Eb,Cb,Fb,Gb,Hb,a),this.state=this.stage=c,g.literal=Mb(e),g.constant=e.constant,g},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,g,h){var i,j,l,m,k=this;if(e=e||o,!h&&t(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,g,!0));else switch(a.type){case ne.Program:f(a.body,function(b,d){k.recurse(b.expression,c,c,function(a){j=a}),d!==a.body.length-1?k.current().body.push(j,";"):k.return_(j)});break;case ne.Literal:m=this.escape(a.value),this.assign(b,m),e(m);break;case ne.UnaryExpression:this.recurse(a.argument,c,c,function(a){j=a}),m=a.operator+"("+this.ifDefined(j,0)+")",this.assign(b,m),e(m);break;case ne.BinaryExpression:this.recurse(a.left,c,c,function(a){i=a}),this.recurse(a.right,c,c,function(a){j=a}),m="+"===a.operator?this.plus(i,j):"-"===a.operator?this.ifDefined(i,0)+a.operator+this.ifDefined(j,0):"("+i+")"+a.operator+"("+j+")",this.assign(b,m),e(m);break;case ne.LogicalExpression:b=b||this.nextId(),k.recurse(a.left,b),k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b)),e(b);break;case ne.ConditionalExpression:b=b||this.nextId(),k.recurse(a.test,b),k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b)),e(b);break;case ne.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Bb(a.name),k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){g&&1!==g&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}")),k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name))),(k.state.expensiveChecks||Pb(a.name))&&k.addEnsureSafeObject(b),e(b);break;case ne.MemberExpression:i=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),k.recurse(a.object,i,c,function(){k.if_(k.notNull(i),function(){a.computed?(j=k.nextId(),k.recurse(a.property,j),k.getStringValue(j),k.addEnsureSafeMemberName(j),g&&1!==g&&k.if_(k.not(k.computedMember(i,j)),k.lazyAssign(k.computedMember(i,j),"{}")),m=k.ensureSafeObject(k.computedMember(i,j)),k.assign(b,m),d&&(d.computed=!0,d.name=j)):(Bb(a.property.name),g&&1!==g&&k.if_(k.not(k.nonComputedMember(i,a.property.name)),k.lazyAssign(k.nonComputedMember(i,a.property.name),"{}")),m=k.nonComputedMember(i,a.property.name),(k.state.expensiveChecks||Pb(a.property.name))&&(m=k.ensureSafeObject(m)),k.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(b,"undefined")}),e(b)},!!g);break;case ne.CallExpression:b=b||this.nextId(),a.filter?(j=k.filter(a.callee.name),l=[],f(a.arguments,function(a){var b=k.nextId();k.recurse(a,b),l.push(b)}),m=j+"("+l.join(",")+")",k.assign(b,m),e(b)):(j=k.nextId(),i={},l=[],k.recurse(a.callee,j,i,function(){k.if_(k.notNull(j),function(){k.addEnsureSafeFunction(j),f(a.arguments,function(a){k.recurse(a,k.nextId(),c,function(a){l.push(k.ensureSafeObject(a))})}),i.name?(k.state.expensiveChecks||k.addEnsureSafeObject(i.context),m=k.member(i.context,i.name,i.computed)+"("+l.join(",")+")"):m=j+"("+l.join(",")+")",m=k.ensureSafeObject(m),k.assign(b,m)},function(){k.assign(b,"undefined")}),e(b)}));break;case ne.AssignmentExpression:if(j=this.nextId(),i={},!Kb(a.left))throw ge("lval");this.recurse(a.left,c,i,function(){k.if_(k.notNull(i.context),function(){k.recurse(a.right,j),k.addEnsureSafeObject(k.member(i.context,i.name,i.computed)),k.addEnsureSafeAssignContext(i.context),m=k.member(i.context,i.name,i.computed)+a.operator+j,k.assign(b,m),e(b||m)})},1);break;case ne.ArrayExpression:l=[],f(a.elements,function(a){k.recurse(a,k.nextId(),c,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),e(m);break;case ne.ObjectExpression:l=[],f(a.properties,function(a){k.recurse(a.value,k.nextId(),c,function(b){l.push(k.escape(a.key.type===ne.Identifier?a.key.name:""+a.key.value)+":"+b)})}),m="{"+l.join(",")+"}",this.assign(b,m),e(m);break;case ne.ThisExpression:this.assign(b,"s"),e("s");break;case ne.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(!0===a)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+",text)")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(w(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw ge("esc")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},Ob.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,Ib(d,c.$filter);var e,g;(e=Lb(d))&&(g=this.recurse(e)),e=Jb(d.body);var h;e&&(h=[],f(e,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var i=[];return f(d.body,function(a){i.push(c.recurse(a.expression))}),e=0===d.body.length?function(){}:1===d.body.length?i[0]:function(a,b){var c;return f(i,function(d){c=d(a,b)}),c},g&&(e.assign=function(a,b,c){return g(a,c,b)}),h&&(e.inputs=h),e.literal=Mb(d),e.constant=d.constant,e},recurse:function(a,b,d){var e,g,i,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case ne.Literal:return this.value(a.value,b);case ne.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,b);case ne.BinaryExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case ne.LogicalExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case ne.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case ne.Identifier:return Bb(a.name,h.expression),h.identifier(a.name,h.expensiveChecks||Pb(a.name),b,d,h.expression);case ne.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||(Bb(a.property.name,h.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(e,g,b,d,h.expression):this.nonComputedMember(e,g,h.expensiveChecks,b,d,h.expression);case ne.CallExpression:return i=[],f(a.arguments,function(a){i.push(h.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,d,e,f){for(var h=[],j=0;j<i.length;++j)h.push(i[j](a,d,e,f));return a=g.apply(c,h,f),b?{context:c,name:c,value:a}:a}:function(a,c,d,e){var j,f=g(a,c,d,e);if(null!=f.value){Db(f.context,h.expression),Eb(f.value,h.expression),j=[];for(var k=0;k<i.length;++k)j.push(Db(i[k](a,c,d,e),h.expression));j=Db(f.value.apply(f.context,j),h.expression)}return b?{value:j}:j};case ne.AssignmentExpression:return e=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,c,d,f){var i=e(a,c,d,f);return a=g(a,c,d,f),Db(i.value,h.expression),Fb(i.context),i.context[i.name]=a,b?{value:a}:a};case ne.ArrayExpression:return i=[],f(a.elements,function(a){i.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],g=0;g<i.length;++g)f.push(i[g](a,c,d,e));return b?{value:f}:f};case ne.ObjectExpression:return i=[],f(a.properties,function(a){i.push({key:a.key.type===ne.Identifier?a.key.name:""+a.key.value,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},g=0;g<i.length;++g)f[i[g].key]=i[g].value(a,c,d,e);return b?{value:f}:f};case ne.ThisExpression:return function(a){return b?{value:a}:a};case ne.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){return c=a(c,d,e,f),c=t(c)?+c:0,b?{value:c}:c}},"unary-":function(a,b){return function(c,d,e,f){return c=a(c,d,e,f),c=t(c)?-c:0,b?{value:c}:c}},"unary!":function(a,b){return function(c,d,e,f){return c=!a(c,d,e,f),b?{value:c}:c}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);return d=b(d,e,f,g),h=Hb(h,d),c?{value:h}:h}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);return d=b(d,e,f,g),h=(t(h)?h:0)-(t(d)?d:0),c?{value:h}:h}},"binary*":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)*b(d,e,f,g),c?{value:d}:d}},"binary/":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)/b(d,e,f,g),c?{value:d}:d}},"binary%":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)%b(d,e,f,g),c?{value:d}:d}},"binary===":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)===b(d,e,f,g),c?{value:d}:d}},"binary!==":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)!==b(d,e,f,g),c?{value:d}:d}},"binary==":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)==b(d,e,f,g),c?{value:d}:d}},"binary!=":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)!=b(d,e,f,g),c?{value:d}:d}},"binary<":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)<b(d,e,f,g),c?{value:d}:d}},"binary>":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)>b(d,e,f,g),c?{value:d}:d}},"binary<=":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)<=b(d,e,f,g),c?{value:d}:d}},"binary>=":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)>=b(d,e,f,g),c?{value:d}:d}},"binary&&":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)&&b(d,e,f,g),c?{value:d}:d}},"binary||":function(a,b,c){return function(d,e,f,g){return d=a(d,e,f,g)||b(d,e,f,g),c?{value:d}:d}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){return e=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h),d?{value:e}:e}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){return g=h&&a in h?h:g,e&&1!==e&&g&&!g[a]&&(g[a]={}),h=g?g[a]:c,b&&Db(h,f),d?{context:g,name:a,value:h}:h}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var k,l,j=a(f,g,h,i);return null!=j&&(k=b(f,g,h,i),k=Cb(k),Bb(k,e),d&&1!==d&&j&&!j[k]&&(j[k]={}),l=j[k],Db(l,e)),c?{context:j,name:k,value:l}:l}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){return h=a(h,i,j,k),f&&1!==f&&h&&!h[b]&&(h[b]={}),i=null!=h?h[b]:c,(d||Pb(b))&&Db(i,g),e?{context:h,name:b,value:i}:i}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var oe=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new ne(this.lexer),this.astCompiler=c.csp?new Ob(this.ast,b):new Nb(this.ast,b)};oe.prototype={constructor:oe,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var pe=Object.prototype.valueOf,qe=d("$sce"),re={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Rd=d("$compile"),se=b.createElement("a"),te=ec(a.location.href);hc.$inject=["$document"],jc.$inject=["$provide"];var ue=22,ve=".",we="0";oc.$inject=["$locale"],pc.$inject=["$locale"];var xe={yyyy:uc("FullYear",4),yy:uc("FullYear",2,0,!0),y:uc("FullYear",1),MMMM:vc("Month"),MMM:vc("Month",!0),MM:uc("Month",2,1),M:uc("Month",1,1),dd:uc("Date",2),d:uc("Date",1),HH:uc("Hours",2),H:uc("Hours",1),hh:uc("Hours",2,-12),h:uc("Hours",1,-12),mm:uc("Minutes",2),m:uc("Minutes",1),ss:uc("Seconds",2),s:uc("Seconds",1),sss:uc("Milliseconds",3),EEEE:vc("Day"),EEE:vc("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,c){return a=-1*c,a=(0<=a?"+":"")+(tc(Math[0<a?"floor":"ceil"](a/60),2)+tc(Math.abs(a%60),2))},ww:xc(2),w:xc(1),G:yc,GG:yc,GGG:yc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},ye=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ze=/^\-?\d+$/;zc.$inject=["$locale"];var Ae=q(Pc),Be=q(Rc);Cc.$inject=["$parse"];var Ce=q({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Yc.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),De={};f(Bd,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=Xa("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),De[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(Dd,function(a,b){De[b]=function(){return{priority:100,link:function(a,c,d){return"ngPattern"===b&&"/"==d.ngPattern.charAt(0)&&(c=d.ngPattern.match(Oc))?void d.$set("ngPattern",new RegExp(c[1],c[2])):void a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=Xa("ng-"+a);De[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Yc.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),Sc&&f&&d.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Ee={$addControl:o,$$renameControl:function(a,b){a.$name=b},$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o};Ec.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fe=function(a){return["$timeout","$parse",function(b,d){function e(a){return""===a?d('this[""]').assign:d(a).assign||o}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Ec,compile:function(d,f){d.addClass(mf).addClass(kf);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,f,h){var i=h[0];if(!("action"in f)){var j=function(b){a.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",j,!1),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",j,!1)},0,!1)})}(h[1]||i.$$parentForm).$addControl(i);var l=g?e(i.$name):o;g&&(l(a,i),f.$observe(g,function(b){i.$name!==b&&(l(a,c),i.$$parentForm.$$renameControl(i,b),(l=e(i.$name))(a,i))})),d.on("$destroy",function(){i.$$parentForm.$removeControl(i),l(a,c),k(i,Ee)})}}}}}]},Ge=Fe(),He=Fe(!0),Ie=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Je=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ke=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Le=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Me=/^(\d{4})-(\d{2})-(\d{2})$/,Ne=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Oe=/^(\d{4})-W(\d\d)$/,Pe=/^(\d{4})-(\d\d)$/,Qe=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Re={text:function(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Fc(d)},date:Ic("date",Me,Hc(Me,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ic("datetimelocal",Ne,Hc(Ne,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ic("time",Qe,Hc(Qe,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ic("week",Oe,function(a,b){if(y(a))return a;if(w(a)){Oe.lastIndex=0;var c=Oe.exec(a);if(c){var d=+c[1],e=+c[2],f=c=0,g=0,h=0,i=wc(d),e=7*(e-1);return b&&(c=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds()),new Date(d,0,i.getDate()+e,c,f,g,h)}}return NaN},"yyyy-Www"),month:Ic("month",Pe,Hc(Pe,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,e,f,g){if(Jc(a,b,d,e),Gc(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Le.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!x(a))throw pf("numfmt",a);a=a.toString()}return a}),t(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||s(h)||a>=h},d.$observe("min",function(a){t(a)&&!x(a)&&(a=parseFloat(a,10)),h=x(a)&&!isNaN(a)?a:c,e.$validate()})}if(t(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||s(i)||a<=i},d.$observe("max",function(a){t(a)&&!x(a)&&(a=parseFloat(a,10)),i=x(a)&&!isNaN(a)?a:c,e.$validate()})}},url:function(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Fc(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Je.test(c)}},email:function(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Fc(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Ke.test(c)}},radio:function(a,b,c,d){s(c.name)&&b.attr("name",++bd),b.on("click",function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)}),d.$render=function(){b[0].checked=c.value==d.$viewValue},c.$observe("value",d.$render)},checkbox:function(a,b,c,d,e,f,g,h){var i=Kc(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Kc(h,a,"ngFalseValue",c.ngFalseValue,!1);b.on("click",function(a){d.$setViewValue(b[0].checked,a&&a.type)}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return!1===a},d.$formatters.push(function(a){return L(a,i)}),d.$parsers.push(function(a){return a?i:j})},hidden:o,button:o,submit:o,reset:o,file:o},Se=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Re[Pc(g.type)]||Re.text)(e,f,g,h[0],b,a,c,d)}}}}],Te=/^(true|false|\d+)$/,Ue=function(){return{restrict:"A",priority:100,compile:function(a,b){return Te.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Ve=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=s(a)?"":a})}}}}],We=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=s(a)?"":a})}}}}],Xe=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],Ye=q({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Ze=Lc("",!0),$e=Lc("Odd",0),_e=Lc("Even",1),af=Dc({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),bf=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],cf={},df={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Xa("ng-"+a);cf[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){
var e=function(){g(b,{$event:c})};df[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var ef=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=ia(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],ff=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_c.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var m,n,o,l=0,p=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};d.$watch(f,function(f){var i=function(){!t(h)||h&&!d.$eval(h)||b()},n=++l;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&n===l){var b=d.$new();j.template=a,a=k(b,function(a){p(),c.enter(a,null,e).then(i)}),m=b,o=a,m.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||n!==l||(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],gf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(oa(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],hf=Dc({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),jf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?ed(g):g;e.$parsers.push(function(a){if(!s(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?ed(a):a)}),b}}),e.$formatters.push(function(a){return cd(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},kf="ng-valid",lf="ng-invalid",mf="ng-pristine",nf="ng-dirty",of="ng-pending",pf=d("ngModel"),qf=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a),this.$$parentForm=Ee;var u,m=g(d.ngModel),n=m.assign,p=m,q=n,r=null,v=this;this.$$setOptions=function(a){if((v.$options=a)&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");p=function(a){var c=m(a);return z(c)&&(c=b(a)),c},q=function(a,b){z(m(a))?c(a,{$$$p:v.$modelValue}):n(a,v.$modelValue)}}else if(!m.assign)throw pf("nonassign",d.ngModel,T(e))},this.$render=o,this.$isEmpty=function(a){return s(a)||""===a||null===a||a!==a};var w=0;Mc({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:h}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,h.removeClass(e,nf),h.addClass(e,mf)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,h.removeClass(e,mf),h.addClass(e,nf),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,h.setClass(e,"ng-untouched","ng-touched")},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,h.setClass(e,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){i.cancel(r),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!x(v.$modelValue)||!isNaN(v.$modelValue)){var a=v.$$rawModelValue,b=v.$valid,d=v.$modelValue,e=v.$options&&v.$options.allowInvalid;v.$$runValidators(a,v.$$lastCommittedViewValue,function(f){e||b===f||(v.$modelValue=f?a:c,v.$modelValue!==d&&v.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var c=!0;return f(v.$validators,function(d,e){var f=d(a,b);c=c&&f,h(e,f)}),!!c||(f(v.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var d=[],e=!0;f(v.$asyncValidators,function(f,g){var i=f(a,b);if(!i||!z(i.then))throw pf("nopromise",i);h(g,c),d.push(i.then(function(){h(g,!0)},function(a){e=!1,h(g,!1)}))}),d.length?k.all(d).then(function(){i(e)},o):i(!0)}function h(a,b){j===w&&v.$setValidity(a,b)}function i(a){j===w&&d(a)}w++;var j=w;(function(){var a=v.$$parserName||"parse";return s(u)?(h(a,null),!0):(u||(f(v.$validators,function(a,b){h(b,null)}),f(v.$asyncValidators,function(a,b){h(b,null)})),h(a,u),u)})()&&e()?g():i(!1)},this.$commitViewValue=function(){var a=v.$viewValue;i.cancel(r),(v.$$lastCommittedViewValue!==a||""===a&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=a,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var b=v.$$lastCommittedViewValue;if(u=!s(b)||c)for(var d=0;d<v.$parsers.length;d++)if(b=v.$parsers[d](b),s(b)){u=!1;break}x(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=p(a));var e=v.$modelValue,f=v.$options&&v.$options.allowInvalid;v.$$rawModelValue=b,f&&(v.$modelValue=b,v.$modelValue!==e&&v.$$writeModelToScope()),v.$$runValidators(b,v.$$lastCommittedViewValue,function(a){f||(v.$modelValue=a?b:c,v.$modelValue!==e&&v.$$writeModelToScope())})},this.$$writeModelToScope=function(){q(a,v.$modelValue),f(v.$viewChangeListeners,function(a){try{a()}catch(a){b(a)}})},this.$setViewValue=function(a,b){v.$viewValue=a,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c=0,d=v.$options;d&&t(d.debounce)&&(d=d.debounce,x(d)?c=d:x(d[b])?c=d[b]:x(d.default)&&(c=d.default)),i.cancel(r),c?r=i(function(){v.$commitViewValue()},c):j.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==v.$modelValue&&(v.$modelValue===v.$modelValue||b===b)){v.$modelValue=v.$$rawModelValue=b,u=c;for(var d=v.$formatters,e=d.length,f=b;e--;)f=d[e](f);v.$viewValue!==f&&(v.$viewValue=v.$$lastCommittedViewValue=f,v.$render(),v.$$runValidators(b,f,o))}return b})}],rf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:qf,priority:1,compile:function(b){return b.addClass(mf).addClass("ng-untouched").addClass(kf),{pre:function(a,b,c,d){var e=d[0];b=d[1]||e.$$parentForm,e.$$setOptions(d[2]&&d[2].$options),b.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],sf=/(\s+|^)default(\s+|$)/,tf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=J(a.$eval(b.ngModelOptions)),t(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=ed(this.$options.updateOn.replace(sf,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},uf=Dc({terminal:!0,priority:1e3}),vf=d("ngOptions"),wf=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,xf=["$compile","$parse",function(a,c){function d(a,b,d){function f(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&e(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var h=a.match(wf);if(!h)throw vf("iexp",a,T(b));var i=h[5]||h[7],j=h[6];a=/ as /.test(h[0])&&h[1];var k=h[9];b=c(h[2]?h[1]:i);var l=a&&c(a)||b,m=k&&c(k),n=k?function(a,b){return m(d,b)}:function(a){return Ka(a)},o=function(a,b){return n(a,u(a,b))},p=c(h[2]||h[1]),q=c(h[3]||""),r=c(h[4]||""),s=c(h[8]),t={},u=j?function(a,b){return t[j]=b,t[i]=a,t}:function(a){return t[i]=a,t};return{trackBy:k,getTrackByValue:o,getWatchables:c(s,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;f<e;f++){var i=a===c?f:c[f],j=u(a[i],i),i=n(a[i],j);b.push(i),(h[2]||h[1])&&(i=p(d,j),b.push(i)),h[4]&&(j=r(d,j),b.push(j))}return b}),getOptions:function(){for(var a=[],b={},c=s(d)||[],e=g(c),h=e.length,i=0;i<h;i++){var j=c===e?i:e[i],m=u(c[j],j),t=l(d,m),j=n(t,m),v=p(d,m),w=q(d,m),m=r(d,m),t=new f(j,t,v,w,m);a.push(t),b[j]=t}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[o(a)]},getViewValueFromOption:function(a){return k?_c.copy(a.viewValue):a.viewValue}}}}}var g=b.createElement("option"),h=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=o},post:function(b,c,e,i){function j(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function k(a,b,c,d){return b&&Pc(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,b):a.appendChild(c)),c}function l(a){for(var b;a;)b=a.nextSibling,Da(a),a=b}function m(a){var b=r&&r[0],c=v&&v[0];if(b||c)for(;a&&(a===b||a===c||8===a.nodeType||"option"===H(a)&&""===a.value);)a=a.nextSibling;return a}function n(){var a=w&&p.readValue();w=x.getOptions();var b={},d=c[0].firstChild;if(u&&c.prepend(r),d=m(d),w.items.forEach(function(a){var e,f;a.group?(e=b[a.group],e||(e=k(c[0],d,"optgroup",h),d=e.nextSibling,e.label=a.group,e=b[a.group]={groupElement:e,currentOptionElement:e.firstChild}),f=k(e.groupElement,e.currentOptionElement,"option",g),j(a,f),e.currentOptionElement=f.nextSibling):(f=k(c[0],d,"option",g),j(a,f),d=f.nextSibling)}),Object.keys(b).forEach(function(a){l(b[a].currentOptionElement)}),l(d),o.$render(),!o.$isEmpty(a)){var e=p.readValue();(x.trackBy||q?L(a,e):a===e)||(o.$setViewValue(e),o.$render())}}var o=i[1];if(o){var r,p=i[0],q=e.multiple;i=0;for(var s=c.children(),t=s.length;i<t;i++)if(""===s[i].value){r=s.eq(i);break}var u=!!r,v=Tc(g.cloneNode(!1));v.val("?");var w,x=d(e.ngOptions,c,b);q?(o.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){w.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){(a=w.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},p.readValue=function(){var a=c.val()||[],b=[];return f(a,function(a){(a=w.selectValueMap[a])&&!a.disabled&&b.push(w.getViewValueFromOption(a))}),b},x.trackBy&&b.$watchCollection(function(){if(cd(o.$viewValue))return o.$viewValue.map(function(a){return x.getTrackByValue(a)})},function(){o.$render()})):(p.writeValue=function(a){var b=w.getOptionFromViewValue(a);b&&!b.disabled?c[0].value!==b.selectValue&&(v.remove(),u||r.remove(),c[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||u?(v.remove(),u||c.prepend(r),c.val(""),r.prop("selected",!0),r.attr("selected",!0)):(u||r.remove(),c.prepend(v),c.val("?"),v.prop("selected",!0),v.attr("selected",!0))},p.readValue=function(){var a=w.selectValueMap[c.val()];return a&&!a.disabled?(u||r.remove(),v.remove(),w.getViewValueFromOption(a)):null},x.trackBy&&b.$watch(function(){return x.getTrackByValue(o.$viewValue)},function(){o.$render()})),u?(r.remove(),a(r)(b),r.removeClass("ng-scope")):r=Tc(g.cloneNode(!1)),n(),b.$watchCollection(x.getWatchables,n)}}}}}],yf=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var v,k=i.count,l=i.$attr.when&&h.attr(i.$attr.when),m=i.offset||0,n=g.$eval(l)||{},p={},q=b.startSymbol(),r=b.endSymbol(),t=q+k+"-"+m+r,u=_c.noop;f(i,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+Pc(c[2]),n[c]=h.attr(i.$attr[b]))}),f(n,function(a,c){p[c]=b(a.replace(d,t))}),g.$watch(k,function(b){var d=parseFloat(b),e=isNaN(d);e||d in n||(d=a.pluralCat(d-m)),d===v||e&&x(v)&&isNaN(v)||(u(),e=p[d],s(e)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+l),u=o,j()):u=g.$watch(e,j),v=d)})}}}],zf=["$parse","$animate",function(a,g){var h=d("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,j){var k=j.ngRepeat,l=b.createComment(" end ngRepeat: "+k+" "),m=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw h("iexp",k);var n=m[1],o=m[2],p=m[3],q=m[4],m=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!m)throw h("iidexp",n);var r=m[3]||m[1],s=m[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw h("badident",p);var t,u,v,w,x={$id:Ka};return q?t=a(q):(v=function(a,b){return Ka(b)},w=function(a){return a}),function(a,b,d,j,m){t&&(u=function(b,c,d){return s&&(x[s]=b),x[r]=c,x.$index=d,t(a,x)});var n=ja();a.$watchCollection(o,function(d){var j,o,t,y,z,A,B,C,D,E,q=b[0],x=ja();if(p&&(a[p]=d),e(d))C=d,o=u||v;else for(E in o=u||w,C=[],d)Qc.call(d,E)&&"$"!==E.charAt(0)&&C.push(E);for(y=C.length,E=Array(y),j=0;j<y;j++)if(z=d===C?j:C[j],A=d[z],B=o(z,A,j),n[B])D=n[B],delete n[B],x[B]=D,E[j]=D;else{if(x[B])throw f(E,function(a){a&&a.scope&&(n[a.id]=a)}),h("dupes",k,B,A);E[j]={id:B,scope:c,clone:c},x[B]=!0}for(t in n){if(D=n[t],B=ia(D.clone),g.leave(B),B[0].parentNode)for(j=0,o=B.length;j<o;j++)B[j].$$NG_REMOVED=!0;D.scope.$destroy()}for(j=0;j<y;j++)if(z=d===C?j:C[j],A=d[z],D=E[j],D.scope){t=q;do t=t.nextSibling;while(t&&t.$$NG_REMOVED);D.clone[0]!=t&&g.move(ia(D.clone),null,Tc(q)),q=D.clone[D.clone.length-1],i(D.scope,j,r,A,s,z,y)}else m(function(a,b){D.scope=b;var c=l.cloneNode(!1);a[a.length++]=c,g.enter(a,null,Tc(q)),q=c,D.clone=a,x[D.id]=D,i(D.scope,j,r,A,s,z,y)});n=x})}}}}],Af=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Bf=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Cf=Dc(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Df=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=[],i=[],j=[],k=[],l=function(a,b){return function(){a.splice(b,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=j.length;d<e;++d)a.cancel(j[d]);for(d=j.length=0,e=k.length;d<e;++d){var m=ia(i[d].clone);k[d].$destroy(),(j[d]=a.leave(m)).then(l(j,d))}i.length=0,k.length=0,(h=g.cases["!"+c]||g.cases["?"])&&f(h,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: "),i.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],Ef=Dc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Ff=Dc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Gf=Dc({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan",T(b));f(function(a){b.empty(),b.append(a)})}}),Hf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){"text/ng-template"==c.type&&a.put(c.id,b[0].text)}}}],If={$setViewValue:o,$render:o},Jf=["$element","$scope","$attrs",function(a,d,e){var f=this,g=new La;f.ngModelCtrl=If,f.unknownOption=Tc(b.createElement("option")),f.renderUnknownOption=function(b){b="? "+Ka(b)+" ?",f.unknownOption.val(b),a.prepend(f.unknownOption),a.val(b)},d.$on("$destroy",function(){f.renderUnknownOption=o}),f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.readValue=function(){return f.removeUnknownOption(),a.val()},f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),""===b&&f.emptyOption.prop("selected",!0)):null==b&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)},f.addOption=function(a,b){ga(a,'"option value"'),""===a&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1),f.ngModelCtrl.$render(),b[0].hasAttribute("selected")&&(b[0].selected=!0)},f.removeOption=function(a){var b=g.get(a);b&&(1===b?(g.remove(a),""===a&&(f.emptyOption=c)):g.put(a,b-1))},f.hasOption=function(a){return!!g.get(a)},f.registerOption=function(a,b,c,d,e){if(d){var g;c.$observe("value",function(a){t(g)&&f.removeOption(g),g=a,f.addOption(a,b)})}else e?a.$watch(e,function(a,d){c.$set("value",a),d!==a&&f.removeOption(d),f.addOption(a,b)}):f.addOption(c.value,b);b.on("$destroy",function(){f.removeOption(c.value),f.ngModelCtrl.$render()})}}],Kf=function(){return{restrict:"E",require:["select","?ngModel"],controller:Jf,priority:1,link:{pre:function(a,b,c,d){var e=d[1];if(e){var g=d[0];if(g.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return f(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new La(a);f(b.find("option"),function(a){a.selected=t(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==e.$viewValue||L(h,e.$viewValue)||(h=K(e.$viewValue),e.$render()),i=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Lf=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(t(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f=b.parent();(f=f.data("$selectController")||f.parent().data("$selectController"))&&f.registerOption(a,b,c,d,e)}}}}],Mf=q({restrict:"E",terminal:!1}),Nf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Of=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(w(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp",h,a,T(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a,b){return f.$isEmpty(b)||s(g)||g.test(b)}}}}},Pf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){a=m(a),e=isNaN(a)?-1:a,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Qf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=m(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};a.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(da(),la(_c),_c.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(a,d){var e=0|a,f=d;return c===f&&(f=Math.min(b(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),Tc(b).ready(function(){$(b,_)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(a,b,c){"use strict";function d(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.then(function(){n=null}),m=null)}function k(){var g=a.current&&a.current.locals;if(b.isDefined(g&&g.$template)){var g=e.$new(),h=a.current;m=i(g,function(a){d.enter(a,null,m||f).then(function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()}),l=h.scope=g,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function e(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());f.controller&&(g.$scope=d,g=b(f.controller,g),f.controllerAs&&(d[f.controllerAs]=g),e.data("$ngControllerController",g),e.children().data("$ngControllerController",g)),h(d)}}}a=b.module("ngRoute",["ng"]).provider("$route",function(){function a(a,c){return b.extend(Object.create(a),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){return a="?"===d?d:null,d="*"===d?d:null,e.push({name:c,optional:!!a}),b=b||"",""+(a?"":b)+"(?:"+(a?b:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){var f=b.copy(e);if(b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),d[a]=b.extend(f,a&&c(a,f)),a){var g="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[g]=b.extend({redirectTo:a},c(g,f))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,e,g,h,i,j,k){function l(a){var d=s.current;(r=(q=n())&&d&&q.$$route===d.$$route&&b.equals(q.pathParams,d.pathParams)&&!q.reloadOnSearch&&!p)||!d&&!q||c.$broadcast("$routeChangeStart",q,d).defaultPrevented&&a&&a.preventDefault()}function m(){var a=s.current,d=q;r?(a.params=d.params,b.copy(a.params,g),c.$broadcast("$routeUpdate",a)):(d||a)&&(p=!1,(s.current=d)&&d.redirectTo&&(b.isString(d.redirectTo)?e.path(o(d.redirectTo,d.params)).search(d.params).replace():e.url(d.redirectTo(d.pathParams,e.path(),e.search())).replace()),h.when(d).then(function(){if(d){var c,e,a=b.extend({},d.resolve);return b.forEach(a,function(c,d){a[d]=b.isString(c)?i.get(c):i.invoke(c,null,null,d)}),b.isDefined(c=d.template)?b.isFunction(c)&&(c=c(d.params)):b.isDefined(e=d.templateUrl)&&(b.isFunction(e)&&(e=e(d.params)),b.isDefined(e)&&(d.loadedTemplateUrl=k.valueOf(e),c=j(e))),b.isDefined(c)&&(a.$template=c),h.all(a)}}).then(function(e){d==s.current&&(d&&(d.locals=e,b.copy(d.params,g)),c.$broadcast("$routeChangeSuccess",d,a))},function(b){d==s.current&&c.$broadcast("$routeChangeError",d,a,b)}))}function n(){var c,f;return b.forEach(d,function(d,g){var h;if(h=!f){var i=e.path();h=d.keys;var j={};if(d.regexp)if(i=d.regexp.exec(i)){for(var k=1,l=i.length;k<l;++k){var m=h[k-1],n=i[k];m&&n&&(j[m.name]=n)}h=j}else h=null;else h=null;h=c=h}h&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var q,r,p=!1,s={routes:d,reload:function(){p=!0,c.$evalAsync(function(){l(),m()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw f("norout");a=b.extend({},this.current.params,a),e.path(o(this.current.$$route.originalPath,a)),e.search(a)}};return c.$on("$locationChangeStart",l),c.$on("$locationChangeSuccess",m),s}]});var f=b.$$minErr("ngRoute");a.provider("$routeParams",function(){this.$get=function(){return{}}}),a.directive("ngView",d),a.directive("ngView",e),d.$inject=["$route","$anchorScroll","$animate"],e.$inject=["$compile","$controller","$route"]}(window,window.angular),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Matter=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vertices"),f=a("../geometry/Vector"),g=a("../core/Sleeping"),h=(a("../render/Render"),a("../core/Common")),i=a("../geometry/Bounds"),j=a("../geometry/Axes");!function(){d._inertiaScale=4,d._nextCollidingGroupId=1,d._nextNonCollidingGroupId=-1,d._nextCategory=1,d.create=function(b){var c={id:h.nextId(),type:"body",label:"Body",parts:[],angle:0,vertices:e.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:1.5}},d=h.extend(c,b);return a(d,b),d},d.nextGroup=function(a){return a?d._nextNonCollidingGroupId--:d._nextCollidingGroupId++},d.nextCategory=function(){return d._nextCategory=d._nextCategory<<1,d._nextCategory};var a=function(a,b){d.set(a,{bounds:a.bounds||i.create(a.vertices),positionPrev:a.positionPrev||f.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),e.rotate(a.vertices,a.angle,a.position),j.rotate(a.axes,a.angle),i.update(a.bounds,a.vertices,a.velocity),d.set(a,{axes:b.axes||a.axes,area:b.area||a.area,mass:b.mass||a.mass,inertia:b.inertia||a.inertia});var c=a.isStatic?"#eeeeee":h.choose(["#556270","#4ECDC4","#C7F464","#FF6B6B","#C44D58"]),g=h.shadeColor(c,-20);a.render.fillStyle=a.render.fillStyle||c,a.render.strokeStyle=a.render.strokeStyle||g,a.render.sprite.xOffset+=-(a.bounds.min.x-a.position.x)/(a.bounds.max.x-a.bounds.min.x),a.render.sprite.yOffset+=-(a.bounds.min.y-a.position.y)/(a.bounds.max.y-a.bounds.min.y)};d.set=function(a,b,c){var e;"string"==typeof b&&(e=b,b={},b[e]=c);for(e in b)if(c=b[e],b.hasOwnProperty(e))switch(e){case"isStatic":d.setStatic(a,c);break;case"isSleeping":g.set(a,c);break;case"mass":d.setMass(a,c);break;case"density":d.setDensity(a,c);break;case"inertia":d.setInertia(a,c);break;case"vertices":d.setVertices(a,c);break;case"position":d.setPosition(a,c);break;case"angle":d.setAngle(a,c);break;case"velocity":d.setVelocity(a,c);break;case"angularVelocity":d.setAngularVelocity(a,c);break;case"parts":d.setParts(a,c);break;default:a[e]=c}},d.setStatic=function(a,b){for(var c=0;c<a.parts.length;c++){var d=a.parts[c];d.isStatic=b,b&&(d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0)}},d.setMass=function(a,b){a.mass=b,a.inverseMass=1/a.mass,a.density=a.mass/a.area},d.setDensity=function(a,b){d.setMass(a,b*a.area),a.density=b},d.setInertia=function(a,b){a.inertia=b,a.inverseInertia=1/a.inertia},d.setVertices=function(a,b){b[0].body===a?a.vertices=b:a.vertices=e.create(b,a),a.axes=j.fromVertices(a.vertices),a.area=e.area(a.vertices),d.setMass(a,a.density*a.area);var c=e.centre(a.vertices);e.translate(a.vertices,c,-1),d.setInertia(a,d._inertiaScale*e.inertia(a.vertices,a.mass)),e.translate(a.vertices,a.position),i.update(a.bounds,a.vertices,a.velocity)},d.setParts=function(a,c,f){var g;for(c=c.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,g=0;g<c.length;g++){var h=c[g];h!==a&&(h.parent=a,a.parts.push(h))}if(1!==a.parts.length){if(f="undefined"==typeof f||f){var i=[];for(g=0;g<c.length;g++)i=i.concat(c[g].vertices);e.clockwiseSort(i);var j=e.hull(i),k=e.centre(j);d.setVertices(a,j),e.translate(a.vertices,k)}var l=b(a);a.area=l.area,a.parent=a,a.position.x=l.centre.x,a.position.y=l.centre.y,a.positionPrev.x=l.centre.x,a.positionPrev.y=l.centre.y,d.setMass(a,l.mass),d.setInertia(a,l.inertia),d.setPosition(a,l.centre)}},d.setPosition=function(a,b){var c=f.sub(b,a.position);a.positionPrev.x+=c.x,a.positionPrev.y+=c.y;for(var d=0;d<a.parts.length;d++){var g=a.parts[d];g.position.x+=c.x,g.position.y+=c.y,e.translate(g.vertices,c),i.update(g.bounds,g.vertices,a.velocity)}},d.setAngle=function(a,b){var c=b-a.angle;a.anglePrev+=c;for(var d=0;d<a.parts.length;d++){var g=a.parts[d];g.angle+=c,e.rotate(g.vertices,c,a.position),j.rotate(g.axes,c),i.update(g.bounds,g.vertices,a.velocity),d>0&&f.rotateAbout(g.position,c,a.position,g.position)}},d.setVelocity=function(a,b){a.positionPrev.x=a.position.x-b.x,a.positionPrev.y=a.position.y-b.y,a.velocity.x=b.x,a.velocity.y=b.y,a.speed=f.magnitude(a.velocity)},d.setAngularVelocity=function(a,b){a.anglePrev=a.angle-b,a.angularVelocity=b,a.angularSpeed=Math.abs(a.angularVelocity)},d.translate=function(a,b){d.setPosition(a,f.add(a.position,b))},d.rotate=function(a,b){d.setAngle(a,a.angle+b)},d.scale=function(a,c,f,g){for(var h=0;h<a.parts.length;h++){var k=a.parts[h];e.scale(k.vertices,c,f,a.position),k.axes=j.fromVertices(k.vertices),a.isStatic||(k.area=e.area(k.vertices),d.setMass(k,a.density*k.area),e.translate(k.vertices,{x:-k.position.x,y:-k.position.y}),d.setInertia(k,e.inertia(k.vertices,k.mass)),e.translate(k.vertices,{x:k.position.x,y:k.position.y})),i.update(k.bounds,k.vertices,a.velocity)}if(a.circleRadius&&(c===f?a.circleRadius*=c:a.circleRadius=null),!a.isStatic){var l=b(a);a.area=l.area,d.setMass(a,l.mass),d.setInertia(a,l.inertia)}},d.update=function(a,b,c,d){var g=Math.pow(b*c*a.timeScale,2),h=1-a.frictionAir*c*a.timeScale,k=a.position.x-a.positionPrev.x,l=a.position.y-a.positionPrev.y;a.velocity.x=k*h*d+a.force.x/a.mass*g,a.velocity.y=l*h*d+a.force.y/a.mass*g,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,
a.angularVelocity=(a.angle-a.anglePrev)*h*d+a.torque/a.inertia*g,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=f.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var m=0;m<a.parts.length;m++){var n=a.parts[m];e.translate(n.vertices,a.velocity),m>0&&(n.position.x+=a.velocity.x,n.position.y+=a.velocity.y),0!==a.angularVelocity&&(e.rotate(n.vertices,a.angularVelocity,a.position),j.rotate(n.axes,a.angularVelocity),m>0&&f.rotateAbout(n.position,a.angularVelocity,a.position,n.position)),i.update(n.bounds,n.vertices,a.velocity)}},d.applyForce=function(a,b,c){a.force.x+=c.x,a.force.y+=c.y;var d={x:b.x-a.position.x,y:b.y-a.position.y};a.torque+=d.x*c.y-d.y*c.x};var b=function(a){for(var b={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=1===a.parts.length?0:1;c<a.parts.length;c++){var d=a.parts[c];b.mass+=d.mass,b.area+=d.area,b.inertia+=d.inertia,b.centre=f.add(b.centre,f.mult(d.position,d.mass!==1/0?d.mass:1))}return b.centre=f.div(b.centre,b.mass!==1/0?b.mass:a.parts.length),b}}()},{"../core/Common":14,"../core/Sleeping":20,"../geometry/Axes":23,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27,"../render/Render":29}],2:[function(a,b,c){var d={};b.exports=d;var e=a("../core/Events"),f=a("../core/Common"),g=a("./Body");!function(){d.create=function(a){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite"},a)},d.setModified=function(a,b,c,e){if(a.isModified=b,c&&a.parent&&d.setModified(a.parent,b,c,e),e)for(var f=0;f<a.composites.length;f++){var g=a.composites[f];d.setModified(g,b,c,e)}},d.add=function(a,b){var c=[].concat(b);e.trigger(a,"beforeAdd",{object:b});for(var g=0;g<c.length;g++){var h=c[g];switch(h.type){case"body":if(h.parent!==h){f.log("Composite.add: skipped adding a compound body part (you must add its parent instead)","warn");break}d.addBody(a,h);break;case"constraint":d.addConstraint(a,h);break;case"composite":d.addComposite(a,h);break;case"mouseConstraint":d.addConstraint(a,h.constraint)}}return e.trigger(a,"afterAdd",{object:b}),a},d.remove=function(a,b,c){var f=[].concat(b);e.trigger(a,"beforeRemove",{object:b});for(var g=0;g<f.length;g++){var h=f[g];switch(h.type){case"body":d.removeBody(a,h,c);break;case"constraint":d.removeConstraint(a,h,c);break;case"composite":d.removeComposite(a,h,c);break;case"mouseConstraint":d.removeConstraint(a,h.constraint)}}return e.trigger(a,"afterRemove",{object:b}),a},d.addComposite=function(a,b){return a.composites.push(b),b.parent=a,d.setModified(a,!0,!0,!1),a},d.removeComposite=function(a,b,c){var e=f.indexOf(a.composites,b);if(-1!==e&&(d.removeCompositeAt(a,e),d.setModified(a,!0,!0,!1)),c)for(var g=0;g<a.composites.length;g++)d.removeComposite(a.composites[g],b,!0);return a},d.removeCompositeAt=function(a,b){return a.composites.splice(b,1),d.setModified(a,!0,!0,!1),a},d.addBody=function(a,b){return a.bodies.push(b),d.setModified(a,!0,!0,!1),a},d.removeBody=function(a,b,c){var e=f.indexOf(a.bodies,b);if(-1!==e&&(d.removeBodyAt(a,e),d.setModified(a,!0,!0,!1)),c)for(var g=0;g<a.composites.length;g++)d.removeBody(a.composites[g],b,!0);return a},d.removeBodyAt=function(a,b){return a.bodies.splice(b,1),d.setModified(a,!0,!0,!1),a},d.addConstraint=function(a,b){return a.constraints.push(b),d.setModified(a,!0,!0,!1),a},d.removeConstraint=function(a,b,c){var e=f.indexOf(a.constraints,b);if(-1!==e&&d.removeConstraintAt(a,e),c)for(var g=0;g<a.composites.length;g++)d.removeConstraint(a.composites[g],b,!0);return a},d.removeConstraintAt=function(a,b){return a.constraints.splice(b,1),d.setModified(a,!0,!0,!1),a},d.clear=function(a,b,c){if(c)for(var e=0;e<a.composites.length;e++)d.clear(a.composites[e],b,!0);return b?a.bodies=a.bodies.filter(function(a){return a.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,d.setModified(a,!0,!0,!1),a},d.allBodies=function(a){for(var b=[].concat(a.bodies),c=0;c<a.composites.length;c++)b=b.concat(d.allBodies(a.composites[c]));return b},d.allConstraints=function(a){for(var b=[].concat(a.constraints),c=0;c<a.composites.length;c++)b=b.concat(d.allConstraints(a.composites[c]));return b},d.allComposites=function(a){for(var b=[].concat(a.composites),c=0;c<a.composites.length;c++)b=b.concat(d.allComposites(a.composites[c]));return b},d.get=function(a,b,c){var e,f;switch(c){case"body":e=d.allBodies(a);break;case"constraint":e=d.allConstraints(a);break;case"composite":e=d.allComposites(a).concat(a)}return e?(f=e.filter(function(a){return a.id.toString()===b.toString()}),0===f.length?null:f[0]):null},d.move=function(a,b,c){return d.remove(a,b),d.add(c,b),a},d.rebase=function(a){for(var b=d.allBodies(a).concat(d.allConstraints(a)).concat(d.allComposites(a)),c=0;c<b.length;c++)b[c].id=f.nextId();return d.setModified(a,!0,!0,!1),a},d.translate=function(a,b,c){for(var e=c?d.allBodies(a):a.bodies,f=0;f<e.length;f++)g.translate(e[f],b);return d.setModified(a,!0,!0,!1),a},d.rotate=function(a,b,c,e){for(var f=Math.cos(b),h=Math.sin(b),i=e?d.allBodies(a):a.bodies,j=0;j<i.length;j++){var k=i[j],l=k.position.x-c.x,m=k.position.y-c.y;g.setPosition(k,{x:c.x+(l*f-m*h),y:c.y+(l*h+m*f)}),g.rotate(k,b)}return d.setModified(a,!0,!0,!1),a},d.scale=function(a,b,c,e,f){for(var h=f?d.allBodies(a):a.bodies,i=0;i<h.length;i++){var j=h[i],k=j.position.x-e.x,l=j.position.y-e.y;g.setPosition(j,{x:e.x+k*b,y:e.y+l*c}),g.scale(j,b,c)}return d.setModified(a,!0,!0,!1),a}}()},{"../core/Common":14,"../core/Events":16,"./Body":1}],3:[function(a,b,c){var d={};b.exports=d;var e=a("./Composite"),f=(a("../constraint/Constraint"),a("../core/Common"));!function(){d.create=function(a){var b=e.create(),c={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-(1/0),y:-(1/0)},max:{x:1/0,y:1/0}}};return f.extend(b,c,a)}}()},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(a,b,c){var d={};b.exports=d,function(){d.create=function(a){return{id:d.id(a),vertex:a,normalImpulse:0,tangentImpulse:0}},d.id=function(a){return a.body.id+"_"+a.index}}()},{}],5:[function(a,b,c){var d={};b.exports=d;var e=a("./SAT"),f=a("./Pair"),g=a("../geometry/Bounds");!function(){d.collisions=function(a,b){for(var c=[],h=b.pairs.table,i=0;i<a.length;i++){var j=a[i][0],k=a[i][1];if((!j.isStatic&&!j.isSleeping||!k.isStatic&&!k.isSleeping)&&d.canCollide(j.collisionFilter,k.collisionFilter)&&g.overlaps(j.bounds,k.bounds))for(var l=j.parts.length>1?1:0;l<j.parts.length;l++)for(var m=j.parts[l],n=k.parts.length>1?1:0;n<k.parts.length;n++){var o=k.parts[n];if(m===j&&o===k||g.overlaps(m.bounds,o.bounds)){var p,q=f.id(m,o),r=h[q];p=r&&r.isActive?r.collision:null;var s=e.collides(m,o,p);s.collided&&c.push(s)}}}return c},d.canCollide=function(a,b){return a.group===b.group&&0!==a.group?a.group>0:0!==(a.mask&b.category)&&0!==(b.mask&a.category)}}()},{"../geometry/Bounds":24,"./Pair":7,"./SAT":11}],6:[function(a,b,c){var d={};b.exports=d;var e=a("./Pair"),f=a("./Detector"),g=a("../core/Common");!function(){d.create=function(a){var b={controller:d,detector:f.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return g.extend(b,a)},d.update=function(c,d,e,f){var g,m,n,o,p,q=e.world,r=c.buckets,s=!1;for(g=0;g<d.length;g++){var t=d[g];if((!t.isSleeping||f)&&!(t.bounds.max.x<q.bounds.min.x||t.bounds.min.x>q.bounds.max.x||t.bounds.max.y<q.bounds.min.y||t.bounds.min.y>q.bounds.max.y)){var u=b(c,t);if(!t.region||u.id!==t.region.id||f){t.region&&!f||(t.region=u);var v=a(u,t.region);for(m=v.startCol;m<=v.endCol;m++)for(n=v.startRow;n<=v.endRow;n++){p=h(m,n),o=r[p];var w=m>=u.startCol&&m<=u.endCol&&n>=u.startRow&&n<=u.endRow,x=m>=t.region.startCol&&m<=t.region.endCol&&n>=t.region.startRow&&n<=t.region.endRow;!w&&x&&x&&o&&k(c,o,t),(t.region===u||w&&!x||f)&&(o||(o=i(r,p)),j(c,o,t))}t.region=u,s=!0}}}s&&(c.pairsList=l(c))},d.clear=function(a){a.buckets={},a.pairs={},a.pairsList=[]};var a=function(a,b){var d=Math.min(a.startCol,b.startCol),e=Math.max(a.endCol,b.endCol),f=Math.min(a.startRow,b.startRow),g=Math.max(a.endRow,b.endRow);return c(d,e,f,g)},b=function(a,b){var d=b.bounds,e=Math.floor(d.min.x/a.bucketWidth),f=Math.floor(d.max.x/a.bucketWidth),g=Math.floor(d.min.y/a.bucketHeight),h=Math.floor(d.max.y/a.bucketHeight);return c(e,f,g,h)},c=function(a,b,c,d){return{id:a+","+b+","+c+","+d,startCol:a,endCol:b,startRow:c,endRow:d}},h=function(a,b){return a+","+b},i=function(a,b){var c=a[b]=[];return c},j=function(a,b,c){for(var d=0;d<b.length;d++){var f=b[d];if(!(c.id===f.id||c.isStatic&&f.isStatic)){var g=e.id(c,f),h=a.pairs[g];h?h[2]+=1:a.pairs[g]=[c,f,1]}}b.push(c)},k=function(a,b,c){b.splice(g.indexOf(b,c),1);for(var d=0;d<b.length;d++){var f=b[d],h=e.id(c,f),i=a.pairs[h];i&&(i[2]-=1)}},l=function(a){var b,c,d=[];b=g.keys(a.pairs);for(var e=0;e<b.length;e++)c=a.pairs[b[e]],c[2]>0?d.push(c):delete a.pairs[b[e]];return d}}()},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(a,b,c){var d={};b.exports=d;var e=a("./Contact");!function(){d.create=function(a,b){var c=a.bodyA,e=a.bodyB,f=a.parentA,g=a.parentB,h={id:d.id(c,e),bodyA:c,bodyB:e,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:c.isSensor||e.isSensor,timeCreated:b,timeUpdated:b,inverseMass:f.inverseMass+g.inverseMass,friction:Math.min(f.friction,g.friction),frictionStatic:Math.max(f.frictionStatic,g.frictionStatic),restitution:Math.max(f.restitution,g.restitution),slop:Math.max(f.slop,g.slop)};return d.update(h,a,b),h},d.update=function(a,b,c){var f=a.contacts,g=b.supports,h=a.activeContacts,i=b.parentA,j=b.parentB;if(a.collision=b,a.inverseMass=i.inverseMass+j.inverseMass,a.friction=Math.min(i.friction,j.friction),a.frictionStatic=Math.max(i.frictionStatic,j.frictionStatic),a.restitution=Math.max(i.restitution,j.restitution),a.slop=Math.max(i.slop,j.slop),h.length=0,b.collided){for(var k=0;k<g.length;k++){var l=g[k],m=e.id(l),n=f[m];n?h.push(n):h.push(f[m]=e.create(l))}a.separation=b.depth,d.setActive(a,!0,c)}else a.isActive===!0&&d.setActive(a,!1,c)},d.setActive=function(a,b,c){b?(a.isActive=!0,a.timeUpdated=c):(a.isActive=!1,a.activeContacts.length=0)},d.id=function(a,b){return a.id<b.id?a.id+"_"+b.id:b.id+"_"+a.id}}()},{"./Contact":4}],8:[function(a,b,c){var d={};b.exports=d;var e=a("./Pair"),f=a("../core/Common");!function(){var a=1e3;d.create=function(a){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},d.update=function(a,b,c){var d,g,h,i,j=a.list,k=a.table,l=a.collisionStart,m=a.collisionEnd,n=a.collisionActive,o=[];for(l.length=0,m.length=0,n.length=0,i=0;i<b.length;i++)d=b[i],d.collided&&(g=e.id(d.bodyA,d.bodyB),o.push(g),h=k[g],h?(h.isActive?n.push(h):l.push(h),e.update(h,d,c)):(h=e.create(d,c),k[g]=h,l.push(h),j.push(h)));for(i=0;i<j.length;i++)h=j[i],h.isActive&&-1===f.indexOf(o,h.id)&&(e.setActive(h,!1,c),m.push(h))},d.removeOld=function(b,c){var d,e,f,g,h=b.list,i=b.table,j=[];for(g=0;g<h.length;g++)d=h[g],e=d.collision,e.bodyA.isSleeping||e.bodyB.isSleeping?d.timeUpdated=c:c-d.timeUpdated>a&&j.push(g);for(g=0;g<j.length;g++)f=j[g]-g,d=h[f],delete i[d.id],h.splice(f,1)},d.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}}()},{"../core/Common":14,"./Pair":7}],9:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vector"),f=a("./SAT"),g=a("../geometry/Bounds"),h=a("../factory/Bodies"),i=a("../geometry/Vertices");!function(){d.ray=function(a,b,c,d){d=d||1e-100;for(var i=e.angle(b,c),j=e.magnitude(e.sub(b,c)),k=.5*(c.x+b.x),l=.5*(c.y+b.y),m=h.rectangle(k,l,j,d,{angle:i}),n=[],o=0;o<a.length;o++){var p=a[o];if(g.overlaps(p.bounds,m.bounds))for(var q=1===p.parts.length?0:1;q<p.parts.length;q++){var r=p.parts[q];if(g.overlaps(r.bounds,m.bounds)){var s=f.collides(r,m);if(s.collided){s.body=s.bodyA=s.bodyB=p,n.push(s);break}}}}return n},d.region=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e],h=g.overlaps(f.bounds,b);(h&&!c||!h&&c)&&d.push(f)}return d},d.point=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];if(g.contains(e.bounds,b))for(var f=1===e.parts.length?0:1;f<e.parts.length;f++){var h=e.parts[f];if(g.contains(h.bounds,b)&&i.contains(h.vertices,b)){c.push(e);break}}}return c}}()},{"../factory/Bodies":21,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27,"./SAT":11}],10:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vertices"),f=a("../geometry/Vector"),g=a("../core/Common"),h=a("../geometry/Bounds");!function(){d._restingThresh=4,d._restingThreshTangent=6,d._positionDampen=.9,d._positionWarming=.8,d._frictionNormalMultiplier=5,d.preSolvePosition=function(a){var b,c,d;for(b=0;b<a.length;b++)c=a[b],c.isActive&&(d=c.activeContacts.length,c.collision.parentA.totalContacts+=d,c.collision.parentB.totalContacts+=d)},d.solvePosition=function(a,b){var c,e,g,h,i,j,k,l,m,n=f._temp[0],o=f._temp[1],p=f._temp[2],q=f._temp[3];for(c=0;c<a.length;c++)e=a[c],e.isActive&&!e.isSensor&&(g=e.collision,h=g.parentA,i=g.parentB,j=g.normal,k=f.sub(f.add(i.positionImpulse,i.position,n),f.add(h.positionImpulse,f.sub(i.position,g.penetration,o),p),q),e.separation=f.dot(j,k));for(c=0;c<a.length;c++)e=a[c],!e.isActive||e.isSensor||e.separation<0||(g=e.collision,h=g.parentA,i=g.parentB,j=g.normal,m=(e.separation-e.slop)*b,(h.isStatic||i.isStatic)&&(m*=2),h.isStatic||h.isSleeping||(l=d._positionDampen/h.totalContacts,h.positionImpulse.x+=j.x*m*l,h.positionImpulse.y+=j.y*m*l),i.isStatic||i.isSleeping||(l=d._positionDampen/i.totalContacts,i.positionImpulse.x-=j.x*m*l,i.positionImpulse.y-=j.y*m*l))},d.postSolvePosition=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.totalContacts=0,0!==c.positionImpulse.x||0!==c.positionImpulse.y){for(var g=0;g<c.parts.length;g++){var i=c.parts[g];e.translate(i.vertices,c.positionImpulse),h.update(i.bounds,i.vertices,c.velocity),i.position.x+=c.positionImpulse.x,i.position.y+=c.positionImpulse.y}c.positionPrev.x+=c.positionImpulse.x,c.positionPrev.y+=c.positionImpulse.y,f.dot(c.positionImpulse,c.velocity)<0?(c.positionImpulse.x=0,c.positionImpulse.y=0):(c.positionImpulse.x*=d._positionWarming,c.positionImpulse.y*=d._positionWarming)}}},d.preSolveVelocity=function(a){var b,c,d,e,g,h,i,j,k,l,m,n,o,p,q=f._temp[0],r=f._temp[1];for(b=0;b<a.length;b++)if(d=a[b],d.isActive&&!d.isSensor)for(e=d.activeContacts,g=d.collision,h=g.parentA,i=g.parentB,j=g.normal,k=g.tangent,c=0;c<e.length;c++)l=e[c],m=l.vertex,n=l.normalImpulse,o=l.tangentImpulse,0===n&&0===o||(q.x=j.x*n+k.x*o,q.y=j.y*n+k.y*o,h.isStatic||h.isSleeping||(p=f.sub(m,h.position,r),h.positionPrev.x+=q.x*h.inverseMass,h.positionPrev.y+=q.y*h.inverseMass,h.anglePrev+=f.cross(p,q)*h.inverseInertia),i.isStatic||i.isSleeping||(p=f.sub(m,i.position,r),i.positionPrev.x-=q.x*i.inverseMass,i.positionPrev.y-=q.y*i.inverseMass,i.anglePrev-=f.cross(p,q)*i.inverseInertia))},d.solveVelocity=function(a,b){for(var c=b*b,e=f._temp[0],h=f._temp[1],i=f._temp[2],j=f._temp[3],k=f._temp[4],l=f._temp[5],m=0;m<a.length;m++){var n=a[m];if(n.isActive&&!n.isSensor){var o=n.collision,p=o.parentA,q=o.parentB,r=o.normal,s=o.tangent,t=n.activeContacts,u=1/t.length;p.velocity.x=p.position.x-p.positionPrev.x,p.velocity.y=p.position.y-p.positionPrev.y,q.velocity.x=q.position.x-q.positionPrev.x,q.velocity.y=q.position.y-q.positionPrev.y,p.angularVelocity=p.angle-p.anglePrev,q.angularVelocity=q.angle-q.anglePrev;for(var v=0;v<t.length;v++){var w=t[v],x=w.vertex,y=f.sub(x,p.position,h),z=f.sub(x,q.position,i),A=f.add(p.velocity,f.mult(f.perp(y),p.angularVelocity),j),B=f.add(q.velocity,f.mult(f.perp(z),q.angularVelocity),k),C=f.sub(A,B,l),D=f.dot(r,C),E=f.dot(s,C),F=Math.abs(E),G=g.sign(E),H=(1+n.restitution)*D,I=g.clamp(n.separation+D,0,1)*d._frictionNormalMultiplier,J=E,K=1/0;F>n.friction*n.frictionStatic*I*c&&(K=F,J=g.clamp(n.friction*G*c,-K,K));var L=f.cross(y,r),M=f.cross(z,r),N=u/(p.inverseMass+q.inverseMass+p.inverseInertia*L*L+q.inverseInertia*M*M);if(H*=N,J*=N,0>D&&D*D>d._restingThresh*c)w.normalImpulse=0;else{var O=w.normalImpulse;w.normalImpulse=Math.min(w.normalImpulse+H,0),H=w.normalImpulse-O}if(E*E>d._restingThreshTangent*c)w.tangentImpulse=0;else{var P=w.tangentImpulse;w.tangentImpulse=g.clamp(w.tangentImpulse+J,-K,K),J=w.tangentImpulse-P}e.x=r.x*H+s.x*J,e.y=r.y*H+s.y*J,p.isStatic||p.isSleeping||(p.positionPrev.x+=e.x*p.inverseMass,p.positionPrev.y+=e.y*p.inverseMass,p.anglePrev+=f.cross(y,e)*p.inverseInertia),q.isStatic||q.isSleeping||(q.positionPrev.x-=e.x*q.inverseMass,q.positionPrev.y-=e.y*q.inverseMass,q.anglePrev-=f.cross(z,e)*q.inverseInertia)}}}}}()},{"../core/Common":14,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27}],11:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vertices"),f=a("../geometry/Vector");!function(){d.collides=function(b,d,g){var h,i,j,k,l=g,m=!1;if(l){var n=b.parent,o=d.parent,p=n.speed*n.speed+n.angularSpeed*n.angularSpeed+o.speed*o.speed+o.angularSpeed*o.angularSpeed;m=l&&l.collided&&.2>p,k=l}else k={collided:!1,bodyA:b,bodyB:d};if(l&&m){var q=k.axisBody,r=q===b?d:b,s=[q.axes[l.axisNumber]];if(j=a(q.vertices,r.vertices,s),k.reused=!0,j.overlap<=0)return k.collided=!1,k}else{if(h=a(b.vertices,d.vertices,b.axes),h.overlap<=0)return k.collided=!1,k;if(i=a(d.vertices,b.vertices,d.axes),i.overlap<=0)return k.collided=!1,k;h.overlap<i.overlap?(j=h,k.axisBody=b):(j=i,k.axisBody=d),k.axisNumber=j.axisNumber}k.bodyA=b.id<d.id?b:d,k.bodyB=b.id<d.id?d:b,k.collided=!0,k.normal=j.axis,k.depth=j.overlap,k.parentA=k.bodyA.parent,k.parentB=k.bodyB.parent,b=k.bodyA,d=k.bodyB,f.dot(k.normal,f.sub(d.position,b.position))>0&&(k.normal=f.neg(k.normal)),k.tangent=f.perp(k.normal),k.penetration={x:k.normal.x*k.depth,y:k.normal.y*k.depth};var t=c(b,d,k.normal),u=k.supports||[];if(u.length=0,e.contains(b.vertices,t[0])&&u.push(t[0]),e.contains(b.vertices,t[1])&&u.push(t[1]),u.length<2){var v=c(d,b,f.neg(k.normal));e.contains(d.vertices,v[0])&&u.push(v[0]),u.length<2&&e.contains(d.vertices,v[1])&&u.push(v[1])}return u.length<1&&(u=[t[0]]),k.supports=u,k};var a=function(a,c,d){for(var e,g,h=f._temp[0],i=f._temp[1],j={overlap:Number.MAX_VALUE},k=0;k<d.length;k++){if(g=d[k],b(h,a,g),b(i,c,g),e=Math.min(h.max-i.min,i.max-h.min),0>=e)return j.overlap=e,j;e<j.overlap&&(j.overlap=e,j.axis=g,j.axisNumber=k)}return j},b=function(a,b,c){for(var d=f.dot(b[0],c),e=d,g=1;g<b.length;g+=1){var h=f.dot(b[g],c);h>e?e=h:d>h&&(d=h)}a.min=d,a.max=e},c=function(a,b,c){for(var d,e,g,h,i=Number.MAX_VALUE,j=f._temp[0],k=b.vertices,l=a.position,m=0;m<k.length;m++)e=k[m],j.x=e.x-l.x,j.y=e.y-l.y,d=-f.dot(c,j),i>d&&(i=d,g=e);var n=g.index-1>=0?g.index-1:k.length-1;e=k[n],j.x=e.x-l.x,j.y=e.y-l.y,i=-f.dot(c,j),h=e;var o=(g.index+1)%k.length;return e=k[o],j.x=e.x-l.x,j.y=e.y-l.y,d=-f.dot(c,j),i>d&&(h=e),[g,h]}}()},{"../geometry/Vector":26,"../geometry/Vertices":27}],12:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vertices"),f=a("../geometry/Vector"),g=a("../core/Sleeping"),h=a("../geometry/Bounds"),i=a("../geometry/Axes"),j=a("../core/Common");!function(){var a=1e-6,b=.001;d.create=function(b){var c=b;c.bodyA&&!c.pointA&&(c.pointA={x:0,y:0}),c.bodyB&&!c.pointB&&(c.pointB={x:0,y:0});var d=c.bodyA?f.add(c.bodyA.position,c.pointA):c.pointA,e=c.bodyB?f.add(c.bodyB.position,c.pointB):c.pointB,g=f.magnitude(f.sub(d,e));c.length=c.length||g||a;var h={visible:!0,lineWidth:2,strokeStyle:"#666"};return c.render=j.extend(h,c.render),c.id=c.id||j.nextId(),c.label=c.label||"Constraint",c.type="constraint",c.stiffness=c.stiffness||1,c.angularStiffness=c.angularStiffness||0,c.angleA=c.bodyA?c.bodyA.angle:c.angleA,c.angleB=c.bodyB?c.bodyB.angle:c.angleB,c},d.solveAll=function(a,b){for(var c=0;c<a.length;c++)d.solve(a[c],b)},d.solve=function(c,d){var e=c.bodyA,g=c.bodyB,h=c.pointA,i=c.pointB;e&&!e.isStatic&&(c.pointA=f.rotate(h,e.angle-c.angleA),c.angleA=e.angle),g&&!g.isStatic&&(c.pointB=f.rotate(i,g.angle-c.angleB),c.angleB=g.angle);var j=h,k=i;if(e&&(j=f.add(e.position,h)),g&&(k=f.add(g.position,i)),j&&k){var l=f.sub(j,k),m=f.magnitude(l);0===m&&(m=a);var n=(m-c.length)/m,o=f.div(l,m),p=f.mult(l,.5*n*c.stiffness*d*d);if(!(Math.abs(1-m/c.length)<b*d)){var q,r,s,t,u,v,w,x;e&&!e.isStatic?(s={x:j.x-e.position.x+p.x,y:j.y-e.position.y+p.y},e.velocity.x=e.position.x-e.positionPrev.x,e.velocity.y=e.position.y-e.positionPrev.y,e.angularVelocity=e.angle-e.anglePrev,q=f.add(e.velocity,f.mult(f.perp(s),e.angularVelocity)),u=f.dot(s,o),w=e.inverseMass+e.inverseInertia*u*u):(q={x:0,y:0},w=e?e.inverseMass:0),g&&!g.isStatic?(t={x:k.x-g.position.x-p.x,y:k.y-g.position.y-p.y},g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,r=f.add(g.velocity,f.mult(f.perp(t),g.angularVelocity)),v=f.dot(t,o),x=g.inverseMass+g.inverseInertia*v*v):(r={x:0,y:0},x=g?g.inverseMass:0);var y=f.sub(r,q),z=f.dot(o,y)/(w+x);z>0&&(z=0);var A,B={x:o.x*z,y:o.y*z};e&&!e.isStatic&&(A=f.cross(s,B)*e.inverseInertia*(1-c.angularStiffness),e.constraintImpulse.x-=p.x,e.constraintImpulse.y-=p.y,e.constraintImpulse.angle+=A,e.position.x-=p.x,e.position.y-=p.y,e.angle+=A),g&&!g.isStatic&&(A=f.cross(t,B)*g.inverseInertia*(1-c.angularStiffness),g.constraintImpulse.x+=p.x,g.constraintImpulse.y+=p.y,g.constraintImpulse.angle-=A,g.position.x+=p.x,g.position.y+=p.y,g.angle-=A)}}},d.postSolveAll=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.constraintImpulse;if(0!==d.x||0!==d.y||0!==d.angle){g.set(c,!1);for(var j=0;j<c.parts.length;j++){var k=c.parts[j];e.translate(k.vertices,d),j>0&&(k.position.x+=d.x,k.position.y+=d.y),0!==d.angle&&(e.rotate(k.vertices,d.angle,c.position),i.rotate(k.axes,d.angle),j>0&&f.rotateAbout(k.position,d.angle,c.position,k.position)),h.update(k.bounds,k.vertices,c.velocity)}d.angle=0,d.x=0,d.y=0}}}}()},{"../core/Common":14,"../core/Sleeping":20,"../geometry/Axes":23,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27}],13:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vertices"),f=a("../core/Sleeping"),g=a("../core/Mouse"),h=a("../core/Events"),i=a("../collision/Detector"),j=a("./Constraint"),k=a("../body/Composite"),l=a("../core/Common"),m=a("../geometry/Bounds");!function(){d.create=function(b,c){var e=(b?b.mouse:null)||(c?c.mouse:null);e||(b&&b.render&&b.render.canvas?e=g.create(b.render.canvas):c&&c.element?e=g.create(c.element):(e=g.create(),l.log("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected","warn")));var f=j.create({label:"Mouse Constraint",pointA:e.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),i={type:"mouseConstraint",mouse:e,element:null,body:null,constraint:f,collisionFilter:{category:1,mask:4294967295,group:0}},m=l.extend(i,c);return h.on(b,"tick",function(){var c=k.allBodies(b.world);d.update(m,c),a(m)}),m},d.update=function(a,b){var c=a.mouse,d=a.constraint,g=a.body;if(0===c.button){if(d.bodyB)f.set(d.bodyB,!1),d.pointA=c.position;else for(var j=0;j<b.length;j++)if(g=b[j],m.contains(g.bounds,c.position)&&i.canCollide(g.collisionFilter,a.collisionFilter))for(var k=g.parts.length>1?1:0;k<g.parts.length;k++){var l=g.parts[k];if(e.contains(l.vertices,c.position)){d.pointA=c.position,d.bodyB=a.body=g,d.pointB={x:c.position.x-g.position.x,y:c.position.y-g.position.y},d.angleB=g.angle,f.set(g,!1),h.trigger(a,"startdrag",{mouse:c,body:g});break}}}else d.bodyB=a.body=null,d.pointB=null,g&&h.trigger(a,"enddrag",{mouse:c,body:g})};var a=function(a){var b=a.mouse,c=b.sourceEvents;c.mousemove&&h.trigger(a,"mousemove",{mouse:b}),c.mousedown&&h.trigger(a,"mousedown",{mouse:b}),c.mouseup&&h.trigger(a,"mouseup",{mouse:b}),g.clearSourceEvents(b)}}()},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":18,"../core/Sleeping":20,"../geometry/Bounds":24,"../geometry/Vertices":27,"./Constraint":12}],14:[function(a,b,c){var d={};b.exports=d,function(){d._nextId=0,d._seed=0,d.extend=function(a,b){var c,e,f;"boolean"==typeof b?(c=2,f=b):(c=1,f=!0),e=Array.prototype.slice.call(arguments,c);for(var g=0;g<e.length;g++){var h=e[g];if(h)for(var i in h)f&&h[i]&&h[i].constructor===Object?a[i]&&a[i].constructor!==Object?a[i]=h[i]:(a[i]=a[i]||{},d.extend(a[i],f,h[i])):a[i]=h[i]}return a},d.clone=function(a,b){return d.extend({},b,a)},d.keys=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)b.push(c);return b},d.values=function(a){var b=[];if(Object.keys){for(var c=Object.keys(a),d=0;d<c.length;d++)b.push(a[c[d]]);return b}for(var e in a)b.push(a[e]);return b},d.shadeColor=function(a,b){var c=parseInt(a.slice(1),16),d=Math.round(2.55*b),e=(c>>16)+d,f=(c>>8&255)+d,g=(255&c)+d;return"#"+(16777216+65536*(255>e?1>e?0:e:255)+256*(255>f?1>f?0:f:255)+(255>g?1>g?0:g:255)).toString(16).slice(1)},d.shuffle=function(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(d.random()*(b+1)),e=a[b];a[b]=a[c],a[c]=e}return a},d.choose=function(a){return a[Math.floor(d.random()*a.length)]},d.isElement=function(a){try{return a instanceof HTMLElement}catch(b){return"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument}},d.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},d.clamp=function(a,b,c){return b>a?b:a>c?c:a},d.sign=function(a){return 0>a?-1:1},d.now=function(){var a=window.performance||{};return a.now=function(){return a.now||a.webkitNow||a.msNow||a.oNow||a.mozNow||function(){return+new Date}}(),a.now()},d.random=function(b,c){return b="undefined"!=typeof b?b:0,c="undefined"!=typeof c?c:1,b+a()*(c-b)},d.colorToNumber=function(a){return a=a.replace("#",""),3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},d.log=function(a,b){if(console&&console.log&&console.warn)switch(b){case"warn":console.warn("Matter.js:",a);break;case"error":console.log("Matter.js:",a)}},d.nextId=function(){return d._nextId++},d.indexOf=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1};var a=function(){return d._seed=(9301*d._seed+49297)%233280,d._seed/233280}}()},{}],15:[function(a,b,c){var d={};b.exports=d;var e=a("../body/World"),f=a("./Sleeping"),g=a("../collision/Resolver"),h=a("../render/Render"),i=a("../collision/Pairs"),j=(a("./Metrics"),a("../collision/Grid")),k=a("./Events"),l=a("../body/Composite"),m=a("../constraint/Constraint"),n=a("./Common"),o=a("../body/Body");!function(){d.create=function(a,b){b=n.isElement(a)?b:a,a=n.isElement(a)?a:null,b=b||{},(a||b.render)&&n.log("Engine.create: engine.render is deprecated (see docs)","warn");var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],timing:{timestamp:0,timeScale:1},broadphase:{controller:j}},d=n.extend(c,b);if(a||d.render){var f={element:a,controller:h};d.render=n.extend(f,d.render)}return d.render&&d.render.controller&&(d.render=d.render.controller.create(d.render)),d.render&&(d.render.engine=d),d.world=b.world||e.create(d.world),d.pairs=i.create(),d.broadphase=d.broadphase.controller.create(d.broadphase),d.metrics=d.metrics||{extended:!1},d},d.update=function(d,e,h){e=e||1e3/60,h=h||1;var j,n=d.world,o=d.timing,p=d.broadphase,q=[];o.timestamp+=e*o.timeScale;var r={timestamp:o.timestamp};k.trigger(d,"beforeUpdate",r);var s=l.allBodies(n),t=l.allConstraints(n);for(d.enableSleeping&&f.update(s,o.timeScale),b(s,n.gravity),c(s,e,o.timeScale,h,n.bounds),j=0;j<d.constraintIterations;j++)m.solveAll(t,o.timeScale);m.postSolveAll(s),p.controller?(n.isModified&&p.controller.clear(p),p.controller.update(p,s,d,n.isModified),q=p.pairsList):q=s,n.isModified&&l.setModified(n,!1,!1,!0);var u=p.detector(q,d),v=d.pairs,w=o.timestamp;for(i.update(v,u,w),i.removeOld(v,w),d.enableSleeping&&f.afterCollisions(v.list,o.timeScale),v.collisionStart.length>0&&k.trigger(d,"collisionStart",{pairs:v.collisionStart}),g.preSolvePosition(v.list),j=0;j<d.positionIterations;j++)g.solvePosition(v.list,o.timeScale);for(g.postSolvePosition(s),g.preSolveVelocity(v.list),j=0;j<d.velocityIterations;j++)g.solveVelocity(v.list,o.timeScale);return v.collisionActive.length>0&&k.trigger(d,"collisionActive",{pairs:v.collisionActive}),v.collisionEnd.length>0&&k.trigger(d,"collisionEnd",{pairs:v.collisionEnd}),a(s),k.trigger(d,"afterUpdate",r),d},d.merge=function(a,b){if(n.extend(a,b),b.world){a.world=b.world,d.clear(a);for(var c=l.allBodies(a.world),e=0;e<c.length;e++){var g=c[e];f.set(g,!1),g.id=n.nextId()}}},d.clear=function(a){var b=a.world;i.clear(a.pairs);var c=a.broadphase;if(c.controller){var d=l.allBodies(b);c.controller.clear(c),c.controller.update(c,d,a,!0)}};var a=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.force.x=0,c.force.y=0,c.torque=0}},b=function(a,b){var c="undefined"!=typeof b.scale?b.scale:.001;if((0!==b.x||0!==b.y)&&0!==c)for(var d=0;d<a.length;d++){var e=a[d];e.isStatic||e.isSleeping||(e.force.y+=e.mass*b.y*c,e.force.x+=e.mass*b.x*c)}},c=function(a,b,c,d,e){for(var f=0;f<a.length;f++){var g=a[f];g.isStatic||g.isSleeping||o.update(g,b,c,d)}}}()},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":29,"./Common":14,"./Events":16,"./Metrics":17,"./Sleeping":20}],16:[function(a,b,c){var d={};b.exports=d;var e=a("./Common");!function(){d.on=function(a,b,c){for(var d,e=b.split(" "),f=0;f<e.length;f++)d=e[f],a.events=a.events||{},a.events[d]=a.events[d]||[],a.events[d].push(c);return c},d.off=function(a,b,c){if(!b)return void(a.events={});"function"==typeof b&&(c=b,b=e.keys(a.events).join(" "));for(var d=b.split(" "),f=0;f<d.length;f++){var g=a.events[d[f]],h=[];if(c&&g)for(var i=0;i<g.length;i++)g[i]!==c&&h.push(g[i]);a.events[d[f]]=h}},d.trigger=function(a,b,c){var d,f,g,h;if(a.events){c||(c={}),d=b.split(" ");for(var i=0;i<d.length;i++)if(f=d[i],g=a.events[f]){h=e.clone(c,!1),h.name=f,h.source=a;for(var j=0;j<g.length;j++)g[j].apply(a,[h])}}}}()},{"./Common":14}],17:[function(a,b,c){},{"../body/Composite":2,"./Common":14}],18:[function(a,b,c){var d={};b.exports=d;var e=a("../core/Common");!function(){d.create=function(b){var c={};return b||e.log("Mouse.create: element was undefined, defaulting to document.body","warn"),c.element=b||document.body,c.absolute={x:0,y:0},c.position={x:0,y:0},c.mousedownPosition={x:0,y:0},c.mouseupPosition={x:0,y:0},c.offset={x:0,y:0},c.scale={x:1,y:1},c.wheelDelta=0,c.button=-1,c.pixelRatio=c.element.getAttribute("data-pixel-ratio")||1,c.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},c.mousemove=function(b){var d=a(b,c.element,c.pixelRatio),e=b.changedTouches;e&&(c.button=0,b.preventDefault()),c.absolute.x=d.x,c.absolute.y=d.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.sourceEvents.mousemove=b},c.mousedown=function(b){var d=a(b,c.element,c.pixelRatio),e=b.changedTouches;e?(c.button=0,b.preventDefault()):c.button=b.button,c.absolute.x=d.x,c.absolute.y=d.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.mousedownPosition.x=c.position.x,c.mousedownPosition.y=c.position.y,c.sourceEvents.mousedown=b},c.mouseup=function(b){var d=a(b,c.element,c.pixelRatio),e=b.changedTouches;e&&b.preventDefault(),c.button=-1,c.absolute.x=d.x,c.absolute.y=d.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y,c.mouseupPosition.x=c.position.x,c.mouseupPosition.y=c.position.y,c.sourceEvents.mouseup=b},c.mousewheel=function(a){c.wheelDelta=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail)),a.preventDefault()},d.setElement(c,c.element),c},d.setElement=function(a,b){a.element=b,b.addEventListener("mousemove",a.mousemove),b.addEventListener("mousedown",a.mousedown),b.addEventListener("mouseup",a.mouseup),b.addEventListener("mousewheel",a.mousewheel),b.addEventListener("DOMMouseScroll",a.mousewheel),b.addEventListener("touchmove",a.mousemove),
b.addEventListener("touchstart",a.mousedown),b.addEventListener("touchend",a.mouseup)},d.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},d.setOffset=function(a,b){a.offset.x=b.x,a.offset.y=b.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},d.setScale=function(a,b){a.scale.x=b.x,a.scale.y=b.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y};var a=function(a,b,c){var d,e,f=b.getBoundingClientRect(),g=document.documentElement||document.body.parentNode||document.body,h=void 0!==window.pageXOffset?window.pageXOffset:g.scrollLeft,i=void 0!==window.pageYOffset?window.pageYOffset:g.scrollTop,j=a.changedTouches;return j?(d=j[0].pageX-f.left-h,e=j[0].pageY-f.top-i):(d=a.pageX-f.left-h,e=a.pageY-f.top-i),{x:d/(b.clientWidth/b.width*c),y:e/(b.clientHeight/b.height*c)}}}()},{"../core/Common":14}],19:[function(a,b,c){var d={};b.exports=d;var e=a("./Events"),f=a("./Engine"),g=a("./Common");!function(){var a,b;"undefined"!=typeof window&&(a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(function(){a(g.now())},1e3/60)},b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),d.create=function(a){var b={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},c=g.extend(b,a);return c.delta=c.delta||1e3/c.fps,c.deltaMin=c.deltaMin||1e3/c.fps,c.deltaMax=c.deltaMax||1e3/(.5*c.fps),c.fps=1e3/c.delta,c},d.run=function(b,c){return"undefined"!=typeof b.positionIterations&&(c=b,b=d.create()),function e(f){b.frameRequestId=a(e),f&&b.enabled&&d.tick(b,c,f)}(),b},d.tick=function(a,b,c){var d,g=b.timing,h=1,i={timestamp:g.timestamp};e.trigger(a,"beforeTick",i),e.trigger(b,"beforeTick",i),a.isFixed?d=a.delta:(d=c-a.timePrev||a.delta,a.timePrev=c,a.deltaHistory.push(d),a.deltaHistory=a.deltaHistory.slice(-a.deltaSampleSize),d=Math.min.apply(null,a.deltaHistory),d=d<a.deltaMin?a.deltaMin:d,d=d>a.deltaMax?a.deltaMax:d,h=d/a.delta,a.delta=d),0!==a.timeScalePrev&&(h*=g.timeScale/a.timeScalePrev),0===g.timeScale&&(h=0),a.timeScalePrev=g.timeScale,a.correction=h,a.frameCounter+=1,c-a.counterTimestamp>=1e3&&(a.fps=a.frameCounter*((c-a.counterTimestamp)/1e3),a.counterTimestamp=c,a.frameCounter=0),e.trigger(a,"tick",i),e.trigger(b,"tick",i),b.world.isModified&&b.render&&b.render.controller&&b.render.controller.clear&&b.render.controller.clear(b.render),e.trigger(a,"beforeUpdate",i),f.update(b,d,h),e.trigger(a,"afterUpdate",i),b.render&&b.render.controller&&(e.trigger(a,"beforeRender",i),e.trigger(b,"beforeRender",i),b.render.controller.world(b.render),e.trigger(a,"afterRender",i),e.trigger(b,"afterRender",i)),e.trigger(a,"afterTick",i),e.trigger(b,"afterTick",i)},d.stop=function(a){b(a.frameRequestId)},d.start=function(a,b){d.run(a,b)}}()},{"./Common":14,"./Engine":15,"./Events":16}],20:[function(a,b,c){var d={};b.exports=d;var e=a("./Events");!function(){d._motionWakeThreshold=.18,d._motionSleepThreshold=.08,d._minBias=.9,d.update=function(a,b){for(var c=b*b*b,e=0;e<a.length;e++){var f=a[e],g=f.speed*f.speed+f.angularSpeed*f.angularSpeed;if(0===f.force.x&&0===f.force.y){var h=Math.min(f.motion,g),i=Math.max(f.motion,g);f.motion=d._minBias*h+(1-d._minBias)*i,f.sleepThreshold>0&&f.motion<d._motionSleepThreshold*c?(f.sleepCounter+=1,f.sleepCounter>=f.sleepThreshold&&d.set(f,!0)):f.sleepCounter>0&&(f.sleepCounter-=1)}else d.set(f,!1)}},d.afterCollisions=function(a,b){for(var c=b*b*b,e=0;e<a.length;e++){var f=a[e];if(f.isActive){var g=f.collision,h=g.bodyA.parent,i=g.bodyB.parent;if(!(h.isSleeping&&i.isSleeping||h.isStatic||i.isStatic)&&(h.isSleeping||i.isSleeping)){var j=h.isSleeping&&!h.isStatic?h:i,k=j===h?i:h;!j.isStatic&&k.motion>d._motionWakeThreshold*c&&d.set(j,!1)}}}},d.set=function(a,b){var c=a.isSleeping;b?(a.isSleeping=!0,a.sleepCounter=a.sleepThreshold,a.positionImpulse.x=0,a.positionImpulse.y=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.speed=0,a.angularSpeed=0,a.motion=0,c||e.trigger(a,"sleepStart")):(a.isSleeping=!1,a.sleepCounter=0,c&&e.trigger(a,"sleepEnd"))}}()},{"./Events":16}],21:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vertices"),f=a("../core/Common"),g=a("../body/Body"),h=a("../geometry/Bounds"),i=a("../geometry/Vector");!function(){d.rectangle=function(a,b,c,d,h){h=h||{};var i={label:"Rectangle Body",position:{x:a,y:b},vertices:e.fromPath("L 0 0 L "+c+" 0 L "+c+" "+d+" L 0 "+d)};if(h.chamfer){var j=h.chamfer;i.vertices=e.chamfer(i.vertices,j.radius,j.quality,j.qualityMin,j.qualityMax),delete h.chamfer}return g.create(f.extend({},i,h))},d.trapezoid=function(a,b,c,d,h,i){i=i||{},h*=.5;var j,k=(1-2*h)*c,l=c*h,m=l+k,n=m+l;j=.5>h?"L 0 0 L "+l+" "+-d+" L "+m+" "+-d+" L "+n+" 0":"L 0 0 L "+m+" "+-d+" L "+n+" 0";var o={label:"Trapezoid Body",position:{x:a,y:b},vertices:e.fromPath(j)};if(i.chamfer){var p=i.chamfer;o.vertices=e.chamfer(o.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete i.chamfer}return g.create(f.extend({},o,i))},d.circle=function(a,b,c,e,g){e=e||{};var h={label:"Circle Body",circleRadius:c};g=g||25;var i=Math.ceil(Math.max(10,Math.min(g,c)));return i%2===1&&(i+=1),d.polygon(a,b,i,c,f.extend({},h,e))},d.polygon=function(a,b,c,h,i){if(i=i||{},3>c)return d.circle(a,b,h,i);for(var j=2*Math.PI/c,k="",l=.5*j,m=0;c>m;m+=1){var n=l+m*j,o=Math.cos(n)*h,p=Math.sin(n)*h;k+="L "+o.toFixed(3)+" "+p.toFixed(3)+" "}var q={label:"Polygon Body",position:{x:a,y:b},vertices:e.fromPath(k)};if(i.chamfer){var r=i.chamfer;q.vertices=e.chamfer(q.vertices,r.radius,r.quality,r.qualityMin,r.qualityMax),delete i.chamfer}return g.create(f.extend({},q,i))},d.fromVertices=function(a,b,c,d,j,k,l){var m,n,o,p,q,r,s,t,u;for(d=d||{},n=[],j="undefined"!=typeof j&&j,k="undefined"!=typeof k?k:.01,l="undefined"!=typeof l?l:10,window.decomp||f.log("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull.","warn"),f.isArray(c[0])||(c=[c]),t=0;t<c.length;t+=1)if(p=c[t],o=e.isConvex(p),o||!window.decomp)p=o?e.clockwiseSort(p):e.hull(p),n.push({position:{x:a,y:b},vertices:p});else{var v=new decomp.Polygon;for(q=0;q<p.length;q++)v.vertices.push([p[q].x,p[q].y]);v.makeCCW(),k!==!1&&v.removeCollinearPoints(k);var w=v.quickDecomp();for(q=0;q<w.length;q++){var x=w[q],y=[];for(r=0;r<x.vertices.length;r++)y.push({x:x.vertices[r][0],y:x.vertices[r][1]});l>0&&e.area(y)<l||n.push({position:e.centre(y),vertices:y})}}for(q=0;q<n.length;q++)n[q]=g.create(f.extend(n[q],d));if(j){var z=5;for(q=0;q<n.length;q++){var A=n[q];for(r=q+1;r<n.length;r++){var B=n[r];if(h.overlaps(A.bounds,B.bounds)){var C=A.vertices,D=B.vertices;for(s=0;s<A.vertices.length;s++)for(u=0;u<B.vertices.length;u++){var E=i.magnitudeSquared(i.sub(C[(s+1)%C.length],D[u])),F=i.magnitudeSquared(i.sub(C[s],D[(u+1)%D.length]));z>E&&z>F&&(C[s].isInternal=!0,D[u].isInternal=!0)}}}}}return n.length>1?(m=g.create(f.extend({parts:n.slice(0)},d)),g.setPosition(m,{x:a,y:b}),m):n[0]}}()},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":24,"../geometry/Vector":26,"../geometry/Vertices":27}],22:[function(a,b,c){var d={};b.exports=d;var e=a("../body/Composite"),f=a("../constraint/Constraint"),g=a("../core/Common"),h=a("../body/Body"),i=a("./Bodies");!function(){d.stack=function(a,b,c,d,f,g,i){for(var j,k=e.create({label:"Stack"}),l=a,m=b,n=0,o=0;d>o;o++){for(var p=0,q=0;c>q;q++){var r=i(l,m,q,o,j,n);if(r){var s=r.bounds.max.y-r.bounds.min.y,t=r.bounds.max.x-r.bounds.min.x;s>p&&(p=s),h.translate(r,{x:.5*t,y:.5*s}),l=r.bounds.max.x+f,e.addBody(k,r),j=r,n+=1}else l+=f}m+=p+g,l=a}return k},d.chain=function(a,b,c,d,h,i){for(var j=a.bodies,k=1;k<j.length;k++){var l=j[k-1],m=j[k],n=l.bounds.max.y-l.bounds.min.y,o=l.bounds.max.x-l.bounds.min.x,p=m.bounds.max.y-m.bounds.min.y,q=m.bounds.max.x-m.bounds.min.x,r={bodyA:l,pointA:{x:o*b,y:n*c},bodyB:m,pointB:{x:q*d,y:p*h}},s=g.extend(r,i);e.addConstraint(a,f.create(s))}return a.label+=" Chain",a},d.mesh=function(a,b,c,d,h){var i,j,k,l,m,n=a.bodies;for(i=0;c>i;i++){for(j=1;b>j;j++)k=n[j-1+i*b],l=n[j+i*b],e.addConstraint(a,f.create(g.extend({bodyA:k,bodyB:l},h)));if(i>0)for(j=0;b>j;j++)k=n[j+(i-1)*b],l=n[j+i*b],e.addConstraint(a,f.create(g.extend({bodyA:k,bodyB:l},h))),d&&j>0&&(m=n[j-1+(i-1)*b],e.addConstraint(a,f.create(g.extend({bodyA:m,bodyB:l},h)))),d&&b-1>j&&(m=n[j+1+(i-1)*b],e.addConstraint(a,f.create(g.extend({bodyA:m,bodyB:l},h))))}return a.label+=" Mesh",a},d.pyramid=function(a,b,c,e,f,g,i){return d.stack(a,b,c,e,f,g,function(b,d,g,j,k,l){var m=Math.min(e,Math.ceil(c/2)),n=k?k.bounds.max.x-k.bounds.min.x:0;if(!(j>m)){j=m-j;var o=j,p=c-1-j;if(!(o>g||g>p)){1===l&&h.translate(k,{x:(g+(c%2===1?1:-1))*n,y:0});var q=k?g*n:0;return i(a+q+g*f,d,g,j,k,l)}}})},d.newtonsCradle=function(a,b,c,d,g){for(var h=e.create({label:"Newtons Cradle"}),j=0;c>j;j++){var k=1.9,l=i.circle(a+j*(d*k),b+g,d,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=f.create({pointA:{x:a+j*(d*k),y:b},bodyB:l});e.addBody(h,l),e.addConstraint(h,m)}return h},d.car=function(a,b,c,d,g){var j=h.nextGroup(!0),k=-20,l=.5*-c+k,m=.5*c-k,n=0,o=e.create({label:"Car"}),p=i.trapezoid(a,b,c,d,.3,{collisionFilter:{group:j},friction:.01,chamfer:{radius:10}}),q=i.circle(a+l,b+n,g,{collisionFilter:{group:j},friction:.8,density:.01}),r=i.circle(a+m,b+n,g,{collisionFilter:{group:j},friction:.8,density:.01}),s=f.create({bodyA:p,pointA:{x:l,y:n},bodyB:q,stiffness:.2}),t=f.create({bodyA:p,pointA:{x:m,y:n},bodyB:r,stiffness:.2});return e.addBody(o,p),e.addBody(o,q),e.addBody(o,r),e.addConstraint(o,s),e.addConstraint(o,t),o},d.softBody=function(a,b,c,e,f,h,j,k,l,m){l=g.extend({inertia:1/0},l),m=g.extend({stiffness:.4},m);var n=d.stack(a,b,c,e,f,h,function(a,b){return i.circle(a,b,k,l)});return d.mesh(n,c,e,j,m),n.label="Soft Body",n}}()},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":21}],23:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vector"),f=a("../core/Common");!function(){d.fromVertices=function(a){for(var b={},c=0;c<a.length;c++){var d=(c+1)%a.length,g=e.normalise({x:a[d].y-a[c].y,y:a[c].x-a[d].x}),h=0===g.y?1/0:g.x/g.y;h=h.toFixed(3).toString(),b[h]=g}return f.values(b)},d.rotate=function(a,b){if(0!==b)for(var c=Math.cos(b),d=Math.sin(b),e=0;e<a.length;e++){var f,g=a[e];f=g.x*c-g.y*d,g.y=g.x*d+g.y*c,g.x=f}}}()},{"../core/Common":14,"../geometry/Vector":26}],24:[function(a,b,c){var d={};b.exports=d,function(){d.create=function(a){var b={min:{x:0,y:0},max:{x:0,y:0}};return a&&d.update(b,a),b},d.update=function(a,b,c){a.min.x=1/0,a.max.x=-(1/0),a.min.y=1/0,a.max.y=-(1/0);for(var d=0;d<b.length;d++){var e=b[d];e.x>a.max.x&&(a.max.x=e.x),e.x<a.min.x&&(a.min.x=e.x),e.y>a.max.y&&(a.max.y=e.y),e.y<a.min.y&&(a.min.y=e.y)}c&&(c.x>0?a.max.x+=c.x:a.min.x+=c.x,c.y>0?a.max.y+=c.y:a.min.y+=c.y)},d.contains=function(a,b){return b.x>=a.min.x&&b.x<=a.max.x&&b.y>=a.min.y&&b.y<=a.max.y},d.overlaps=function(a,b){return a.min.x<=b.max.x&&a.max.x>=b.min.x&&a.max.y>=b.min.y&&a.min.y<=b.max.y},d.translate=function(a,b){a.min.x+=b.x,a.max.x+=b.x,a.min.y+=b.y,a.max.y+=b.y},d.shift=function(a,b){var c=a.max.x-a.min.x,d=a.max.y-a.min.y;a.min.x=b.x,a.max.x=b.x+c,a.min.y=b.y,a.max.y=b.y+d}}()},{}],25:[function(a,b,c){var d={};b.exports=d,a("../geometry/Bounds"),!function(){d.pathToVertices=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=[],q=0,r=0,s=0;c=c||15;var t=function(a,b,c){var d=c%2===1&&c>1;if(!l||a!=l.x||b!=l.y){l&&d?(n=l.x,o=l.y):(n=0,o=0);var e={x:n+a,y:o+b};!d&&l||(l=e),p.push(e),r=n+a,s=o+b}},u=function(a){var b=a.pathSegTypeAsLetter.toUpperCase();if("Z"!==b){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":r=a.x,s=a.y;break;case"H":r=a.x;break;case"V":s=a.y}t(r,s,a.pathSegType)}};for(a(b),f=b.getTotalLength(),i=[],d=0;d<b.pathSegList.numberOfItems;d+=1)i.push(b.pathSegList.getItem(d));for(j=i.concat();f>q;){if(m=b.getPathSegAtLength(q),h=i[m],h!=k){for(;j.length&&j[0]!=h;)u(j.shift());k=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":g=b.getPointAtLength(q),t(g.x,g.y,0)}q+=c}for(d=0,e=j.length;e>d;++d)u(j[d]);return p};var a=function(a){for(var b,c,d,e,f,g,h=a.pathSegList,i=0,j=0,k=h.numberOfItems,l=0;k>l;++l){var m=h.getItem(l),n=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(n))"x"in m&&(i=m.x),"y"in m&&(j=m.y);else switch("x1"in m&&(d=i+m.x1),"x2"in m&&(f=i+m.x2),"y1"in m&&(e=j+m.y1),"y2"in m&&(g=j+m.y2),"x"in m&&(i+=m.x),"y"in m&&(j+=m.y),n){case"m":h.replaceItem(a.createSVGPathSegMovetoAbs(i,j),l);break;case"l":h.replaceItem(a.createSVGPathSegLinetoAbs(i,j),l);break;case"h":h.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(i),l);break;case"v":h.replaceItem(a.createSVGPathSegLinetoVerticalAbs(j),l);break;case"c":h.replaceItem(a.createSVGPathSegCurvetoCubicAbs(i,j,d,e,f,g),l);break;case"s":h.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(i,j,f,g),l);break;case"q":h.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(i,j,d,e),l);break;case"t":h.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(i,j),l);break;case"a":h.replaceItem(a.createSVGPathSegArcAbs(i,j,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),l);break;case"z":case"Z":i=b,j=c}"M"!=n&&"m"!=n||(b=i,c=j)}}}()},{"../geometry/Bounds":24}],26:[function(a,b,c){var d={};b.exports=d,function(){d.create=function(a,b){return{x:a||0,y:b||0}},d.clone=function(a){return{x:a.x,y:a.y}},d.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},d.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},d.rotate=function(a,b){var c=Math.cos(b),d=Math.sin(b);return{x:a.x*c-a.y*d,y:a.x*d+a.y*c}},d.rotateAbout=function(a,b,c,d){var e=Math.cos(b),f=Math.sin(b);d||(d={});var g=c.x+((a.x-c.x)*e-(a.y-c.y)*f);return d.y=c.y+((a.x-c.x)*f+(a.y-c.y)*e),d.x=g,d},d.normalise=function(a){var b=d.magnitude(a);return 0===b?{x:0,y:0}:{x:a.x/b,y:a.y/b}},d.dot=function(a,b){return a.x*b.x+a.y*b.y},d.cross=function(a,b){return a.x*b.y-a.y*b.x},d.cross3=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x)},d.add=function(a,b,c){return c||(c={}),c.x=a.x+b.x,c.y=a.y+b.y,c},d.sub=function(a,b,c){return c||(c={}),c.x=a.x-b.x,c.y=a.y-b.y,c},d.mult=function(a,b){return{x:a.x*b,y:a.y*b}},d.div=function(a,b){return{x:a.x/b,y:a.y/b}},d.perp=function(a,b){return b=b===!0?-1:1,{x:b*-a.y,y:b*a.x}},d.neg=function(a){return{x:-a.x,y:-a.y}},d.angle=function(a,b){return Math.atan2(b.y-a.y,b.x-a.x)},d._temp=[d.create(),d.create(),d.create(),d.create(),d.create(),d.create()]}()},{}],27:[function(a,b,c){var d={};b.exports=d;var e=a("../geometry/Vector"),f=a("../core/Common");!function(){d.create=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f={x:e.x,y:e.y,index:d,body:b,isInternal:!1};c.push(f)}return c},d.fromPath=function(a,b){var c=/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,e=[];return a.replace(c,function(a,b,c){e.push({x:parseFloat(b),y:parseFloat(c)})}),d.create(e,b)},d.centre=function(a){for(var b,c,f,g=d.area(a,!0),h={x:0,y:0},i=0;i<a.length;i++)f=(i+1)%a.length,b=e.cross(a[i],a[f]),c=e.mult(e.add(a[i],a[f]),b),h=e.add(h,c);return e.div(h,6*g)},d.mean=function(a){for(var b={x:0,y:0},c=0;c<a.length;c++)b.x+=a[c].x,b.y+=a[c].y;return e.div(b,a.length)},d.area=function(a,b){for(var c=0,d=a.length-1,e=0;e<a.length;e++)c+=(a[d].x-a[e].x)*(a[d].y+a[e].y),d=e;return b?c/2:Math.abs(c)/2},d.inertia=function(a,b){for(var c,d,f=0,g=0,h=a,i=0;i<h.length;i++)d=(i+1)%h.length,c=Math.abs(e.cross(h[d],h[i])),f+=c*(e.dot(h[d],h[d])+e.dot(h[d],h[i])+e.dot(h[i],h[i])),g+=c;return b/6*(f/g)},d.translate=function(a,b,c){var d;if(c)for(d=0;d<a.length;d++)a[d].x+=b.x*c,a[d].y+=b.y*c;else for(d=0;d<a.length;d++)a[d].x+=b.x,a[d].y+=b.y;return a},d.rotate=function(a,b,c){if(0!==b){for(var d=Math.cos(b),e=Math.sin(b),f=0;f<a.length;f++){var g=a[f],h=g.x-c.x,i=g.y-c.y;g.x=c.x+(h*d-i*e),g.y=c.y+(h*e+i*d)}return a}},d.contains=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=a[(c+1)%a.length];if((b.x-d.x)*(e.y-d.y)+(b.y-d.y)*(d.x-e.x)>0)return!1}return!0},d.scale=function(a,b,c,f){if(1===b&&1===c)return a;f=f||d.centre(a);for(var g,h,i=0;i<a.length;i++)g=a[i],h=e.sub(g,f),a[i].x=f.x+h.x*b,a[i].y=f.y+h.y*c;return a},d.chamfer=function(a,b,c,d,g){b=b||[8],b.length||(b=[b]),c="undefined"!=typeof c?c:-1,d=d||2,g=g||14;for(var h=[],i=0;i<a.length;i++){var j=a[i-1>=0?i-1:a.length-1],k=a[i],l=a[(i+1)%a.length],m=b[i<b.length?i:b.length-1];if(0!==m){var n=e.normalise({x:k.y-j.y,y:j.x-k.x}),o=e.normalise({x:l.y-k.y,y:k.x-l.x}),p=Math.sqrt(2*Math.pow(m,2)),q=e.mult(f.clone(n),m),r=e.normalise(e.mult(e.add(n,o),.5)),s=e.sub(k,e.mult(r,p)),t=c;-1===c&&(t=1.75*Math.pow(m,.32)),t=f.clamp(t,d,g),t%2===1&&(t+=1);for(var u=Math.acos(e.dot(n,o)),v=u/t,w=0;t>w;w++)h.push(e.add(e.rotate(q,v*w),s))}else h.push(k)}return h},d.clockwiseSort=function(a){var b=d.mean(a);return a.sort(function(a,c){return e.angle(b,a)-e.angle(b,c)}),a},d.isConvex=function(a){var b,c,d,e,f=0,g=a.length;if(3>g)return null;for(b=0;g>b;b++)if(c=(b+1)%g,d=(b+2)%g,e=(a[c].x-a[b].x)*(a[d].y-a[c].y),e-=(a[c].y-a[b].y)*(a[d].x-a[c].x),0>e?f|=1:e>0&&(f|=2),3===f)return!1;return 0!==f||null},d.hull=function(a){var b,c,d=[],f=[];for(a=a.slice(0),a.sort(function(a,b){var c=a.x-b.x;return 0!==c?c:a.y-b.y}),c=0;c<a.length;c++){for(b=a[c];f.length>=2&&e.cross3(f[f.length-2],f[f.length-1],b)<=0;)f.pop();f.push(b)}for(c=a.length-1;c>=0;c--){for(b=a[c];d.length>=2&&e.cross3(d[d.length-2],d[d.length-1],b)<=0;)d.pop();d.push(b)}return d.pop(),f.pop(),d.concat(f)}}()},{"../core/Common":14,"../geometry/Vector":26}],28:[function(a,b,c){var d=b.exports={};d.version="master",d.Body=a("../body/Body"),d.Composite=a("../body/Composite"),d.World=a("../body/World"),d.Contact=a("../collision/Contact"),d.Detector=a("../collision/Detector"),d.Grid=a("../collision/Grid"),d.Pairs=a("../collision/Pairs"),d.Pair=a("../collision/Pair"),d.Query=a("../collision/Query"),d.Resolver=a("../collision/Resolver"),d.SAT=a("../collision/SAT"),d.Constraint=a("../constraint/Constraint"),d.MouseConstraint=a("../constraint/MouseConstraint"),d.Common=a("../core/Common"),d.Engine=a("../core/Engine"),d.Events=a("../core/Events"),d.Mouse=a("../core/Mouse"),d.Runner=a("../core/Runner"),d.Sleeping=a("../core/Sleeping"),d.Bodies=a("../factory/Bodies"),d.Composites=a("../factory/Composites"),d.Axes=a("../geometry/Axes"),d.Bounds=a("../geometry/Bounds"),d.Svg=a("../geometry/Svg"),d.Vector=a("../geometry/Vector"),d.Vertices=a("../geometry/Vertices"),d.Render=a("../render/Render"),d.RenderPixi=a("../render/RenderPixi"),d.World.add=d.Composite.add,d.World.remove=d.Composite.remove,d.World.addComposite=d.Composite.addComposite,d.World.addBody=d.Composite.addBody,d.World.addConstraint=d.Composite.addConstraint,d.World.clear=d.Composite.clear,d.Engine.run=d.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Metrics":17,"../core/Mouse":18,"../core/Runner":19,"../core/Sleeping":20,"../factory/Bodies":21,"../factory/Composites":22,"../geometry/Axes":23,"../geometry/Bounds":24,"../geometry/Svg":25,"../geometry/Vector":26,"../geometry/Vertices":27,"../render/Render":29,"../render/RenderPixi":30}],29:[function(a,b,c){var d={};b.exports=d;var e=a("../core/Common"),f=a("../body/Composite"),g=a("../geometry/Bounds"),h=a("../core/Events"),i=a("../collision/Grid"),j=a("../geometry/Vector");!function(){var a,b;"undefined"!=typeof window&&(a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(function(){a(e.now())},1e3/60)},b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),d.create=function(a){var b={controller:d,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#fafafa",wireframeBackground:"#222",hasBounds:!!a.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},f=e.extend(b,a);return f.canvas&&(f.canvas.width=f.options.width||f.canvas.width,f.canvas.height=f.options.height||f.canvas.height),f.mouse=a.mouse,f.engine=a.engine,f.canvas=f.canvas||c(f.options.width,f.options.height),f.context=f.canvas.getContext("2d"),f.textures={},f.bounds=f.bounds||{min:{x:0,y:0},max:{x:f.canvas.width,y:f.canvas.height}},1!==f.options.pixelRatio&&d.setPixelRatio(f,f.options.pixelRatio),e.isElement(f.element)?f.element.appendChild(f.canvas):e.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),f},d.run=function(b){!function c(e){b.frameRequestId=a(c),d.world(b)}()},d.stop=function(a){b(a.frameRequestId)},d.setPixelRatio=function(a,b){var c=a.options,d=a.canvas;"auto"===b&&(b=k(d)),c.pixelRatio=b,d.setAttribute("data-pixel-ratio",b),d.width=c.width*b,d.height=c.height*b,d.style.width=c.width+"px",d.style.height=c.height+"px",a.context.scale(b,b)},d.world=function(a){var b,c=a.engine,e=c.world,k=a.canvas,l=a.context,n=a.options,o=f.allBodies(e),p=f.allConstraints(e),q=n.wireframes?n.wireframeBackground:n.background,r=[],s=[],t={timestamp:c.timing.timestamp};if(h.trigger(a,"beforeRender",t),a.currentBackground!==q&&m(a,q),l.globalCompositeOperation="source-in",l.fillStyle="transparent",l.fillRect(0,0,k.width,k.height),l.globalCompositeOperation="source-over",n.hasBounds){var u=a.bounds.max.x-a.bounds.min.x,v=a.bounds.max.y-a.bounds.min.y,w=u/n.width,x=v/n.height;for(b=0;b<o.length;b++){var y=o[b];g.overlaps(y.bounds,a.bounds)&&r.push(y)}for(b=0;b<p.length;b++){var z=p[b],A=z.bodyA,B=z.bodyB,C=z.pointA,D=z.pointB;A&&(C=j.add(A.position,z.pointA)),B&&(D=j.add(B.position,z.pointB)),C&&D&&(g.contains(a.bounds,C)||g.contains(a.bounds,D))&&s.push(z)}l.scale(1/w,1/x),l.translate(-a.bounds.min.x,-a.bounds.min.y)}else s=p,r=o;!n.wireframes||c.enableSleeping&&n.showSleeping?d.bodies(a,r,l):(n.showConvexHulls&&d.bodyConvexHulls(a,r,l),d.bodyWireframes(a,r,l)),n.showBounds&&d.bodyBounds(a,r,l),(n.showAxes||n.showAngleIndicator)&&d.bodyAxes(a,r,l),n.showPositions&&d.bodyPositions(a,r,l),n.showVelocity&&d.bodyVelocity(a,r,l),n.showIds&&d.bodyIds(a,r,l),n.showSeparations&&d.separations(a,c.pairs.list,l),n.showCollisions&&d.collisions(a,c.pairs.list,l),n.showVertexNumbers&&d.vertexNumbers(a,r,l),n.showMousePosition&&d.mousePosition(a,a.mouse,l),d.constraints(s,l),n.showBroadphase&&c.broadphase.controller===i&&d.grid(a,c.broadphase,l),n.showDebug&&d.debug(a,l),n.hasBounds&&l.setTransform(n.pixelRatio,0,0,n.pixelRatio,0,0),h.trigger(a,"afterRender",t)},d.debug=function(a,b){var c=b,d=a.engine,e=d.world,g=d.metrics,h=a.options,i=(f.allBodies(e),"    ");if(d.timing.timestamp-(a.debugTimestamp||0)>=500){var j="";g.timing&&(j+="fps: "+Math.round(g.timing.fps)+i),a.debugString=j,a.debugTimestamp=d.timing.timestamp}if(a.debugString){c.font="12px Arial",h.wireframes?c.fillStyle="rgba(255,255,255,0.5)":c.fillStyle="rgba(0,0,0,0.5)";for(var k=a.debugString.split("\n"),l=0;l<k.length;l++)c.fillText(k[l],50,50+18*l)}},d.constraints=function(a,b){for(var c=b,d=0;d<a.length;d++){var e=a[d];if(e.render.visible&&e.pointA&&e.pointB){var f=e.bodyA,g=e.bodyB;f?(c.beginPath(),c.moveTo(f.position.x+e.pointA.x,f.position.y+e.pointA.y)):(c.beginPath(),c.moveTo(e.pointA.x,e.pointA.y)),g?c.lineTo(g.position.x+e.pointB.x,g.position.y+e.pointB.y):c.lineTo(e.pointB.x,e.pointB.y),c.lineWidth=e.render.lineWidth,c.strokeStyle=e.render.strokeStyle,c.stroke()}}},d.bodyShadows=function(a,b,c){for(var d=c,e=(a.engine,0);e<b.length;e++){var f=b[e];if(f.render.visible){if(f.circleRadius)d.beginPath(),d.arc(f.position.x,f.position.y,f.circleRadius,0,2*Math.PI),d.closePath();else{d.beginPath(),d.moveTo(f.vertices[0].x,f.vertices[0].y);for(var g=1;g<f.vertices.length;g++)d.lineTo(f.vertices[g].x,f.vertices[g].y);d.closePath()}var h=f.position.x-.5*a.options.width,i=f.position.y-.2*a.options.height,j=Math.abs(h)+Math.abs(i);d.shadowColor="rgba(0,0,0,0.15)",d.shadowOffsetX=.05*h,d.shadowOffsetY=.05*i,d.shadowBlur=1+12*Math.min(1,j/1e3),d.fill(),d.shadowColor=null,d.shadowOffsetX=null,d.shadowOffsetY=null,d.shadowBlur=null}}},d.bodies=function(a,b,c){var d,e,f,g,h=c,i=(a.engine,a.options),j=i.showInternalEdges||!i.wireframes;for(f=0;f<b.length;f++)if(d=b[f],d.render.visible)for(g=d.parts.length>1?1:0;g<d.parts.length;g++)if(e=d.parts[g],e.render.visible){if(i.showSleeping&&d.isSleeping?h.globalAlpha=.5*e.render.opacity:1!==e.render.opacity&&(h.globalAlpha=e.render.opacity),e.render.sprite&&e.render.sprite.texture&&!i.wireframes){var k=e.render.sprite,m=l(a,k.texture);h.translate(e.position.x,e.position.y),h.rotate(e.angle),h.drawImage(m,m.width*-k.xOffset*k.xScale,m.height*-k.yOffset*k.yScale,m.width*k.xScale,m.height*k.yScale),h.rotate(-e.angle),h.translate(-e.position.x,-e.position.y)}else{if(e.circleRadius)h.beginPath(),h.arc(e.position.x,e.position.y,e.circleRadius,0,2*Math.PI);else{h.beginPath(),h.moveTo(e.vertices[0].x,e.vertices[0].y);for(var n=1;n<e.vertices.length;n++)!e.vertices[n-1].isInternal||j?h.lineTo(e.vertices[n].x,e.vertices[n].y):h.moveTo(e.vertices[n].x,e.vertices[n].y),e.vertices[n].isInternal&&!j&&h.moveTo(e.vertices[(n+1)%e.vertices.length].x,e.vertices[(n+1)%e.vertices.length].y);h.lineTo(e.vertices[0].x,e.vertices[0].y),h.closePath()}i.wireframes?(h.lineWidth=1,h.strokeStyle="#bbb"):(h.fillStyle=e.render.fillStyle,h.lineWidth=e.render.lineWidth,h.strokeStyle=e.render.strokeStyle,h.fill()),h.stroke()}h.globalAlpha=1}},d.bodyWireframes=function(a,b,c){var d,e,f,g,h,i=c,j=a.options.showInternalEdges;for(i.beginPath(),f=0;f<b.length;f++)if(d=b[f],d.render.visible)for(h=d.parts.length>1?1:0;h<d.parts.length;h++){for(e=d.parts[h],i.moveTo(e.vertices[0].x,e.vertices[0].y),g=1;g<e.vertices.length;g++)!e.vertices[g-1].isInternal||j?i.lineTo(e.vertices[g].x,e.vertices[g].y):i.moveTo(e.vertices[g].x,e.vertices[g].y),e.vertices[g].isInternal&&!j&&i.moveTo(e.vertices[(g+1)%e.vertices.length].x,e.vertices[(g+1)%e.vertices.length].y);i.lineTo(e.vertices[0].x,e.vertices[0].y)}i.lineWidth=1,i.strokeStyle="#bbb",i.stroke()},d.bodyConvexHulls=function(a,b,c){var d,e,f,g=c;for(g.beginPath(),e=0;e<b.length;e++)if(d=b[e],d.render.visible&&1!==d.parts.length){for(g.moveTo(d.vertices[0].x,d.vertices[0].y),f=1;f<d.vertices.length;f++)g.lineTo(d.vertices[f].x,d.vertices[f].y);g.lineTo(d.vertices[0].x,d.vertices[0].y)}g.lineWidth=1,g.strokeStyle="rgba(255,255,255,0.2)",g.stroke()},d.vertexNumbers=function(a,b,c){var d,e,f,g=c;for(d=0;d<b.length;d++){var h=b[d].parts;for(f=h.length>1?1:0;f<h.length;f++){var i=h[f];for(e=0;e<i.vertices.length;e++)g.fillStyle="rgba(255,255,255,0.2)",g.fillText(d+"_"+e,i.position.x+.8*(i.vertices[e].x-i.position.x),i.position.y+.8*(i.vertices[e].y-i.position.y))}}},d.mousePosition=function(a,b,c){var d=c;d.fillStyle="rgba(255,255,255,0.8)",d.fillText(b.position.x+"  "+b.position.y,b.position.x+5,b.position.y-5)},d.bodyBounds=function(a,b,c){var d=c,e=(a.engine,a.options);d.beginPath();for(var f=0;f<b.length;f++){var g=b[f];if(g.render.visible)for(var h=b[f].parts,i=h.length>1?1:0;i<h.length;i++){var j=h[i];d.rect(j.bounds.min.x,j.bounds.min.y,j.bounds.max.x-j.bounds.min.x,j.bounds.max.y-j.bounds.min.y)}}e.wireframes?d.strokeStyle="rgba(255,255,255,0.08)":d.strokeStyle="rgba(0,0,0,0.1)",d.lineWidth=1,d.stroke()},d.bodyAxes=function(a,b,c){var d,e,f,g,h=c,i=(a.engine,a.options);for(h.beginPath(),e=0;e<b.length;e++){var j=b[e],k=j.parts;if(j.render.visible)if(i.showAxes)for(f=k.length>1?1:0;f<k.length;f++)for(d=k[f],g=0;g<d.axes.length;g++){var l=d.axes[g];h.moveTo(d.position.x,d.position.y),h.lineTo(d.position.x+20*l.x,d.position.y+20*l.y)}else for(f=k.length>1?1:0;f<k.length;f++)for(d=k[f],g=0;g<d.axes.length;g++)h.moveTo(d.position.x,d.position.y),h.lineTo((d.vertices[0].x+d.vertices[d.vertices.length-1].x)/2,(d.vertices[0].y+d.vertices[d.vertices.length-1].y)/2)}i.wireframes?h.strokeStyle="indianred":(h.strokeStyle="rgba(0,0,0,0.8)",h.globalCompositeOperation="overlay"),h.lineWidth=1,h.stroke(),h.globalCompositeOperation="source-over"},d.bodyPositions=function(a,b,c){var d,e,f,g,h=c,i=(a.engine,a.options);for(h.beginPath(),f=0;f<b.length;f++)if(d=b[f],d.render.visible)for(g=0;g<d.parts.length;g++)e=d.parts[g],h.arc(e.position.x,e.position.y,3,0,2*Math.PI,!1),h.closePath();for(i.wireframes?h.fillStyle="indianred":h.fillStyle="rgba(0,0,0,0.5)",h.fill(),h.beginPath(),f=0;f<b.length;f++)d=b[f],d.render.visible&&(h.arc(d.positionPrev.x,d.positionPrev.y,2,0,2*Math.PI,!1),h.closePath());h.fillStyle="rgba(255,165,0,0.8)",h.fill()},d.bodyVelocity=function(a,b,c){var d=c;d.beginPath();for(var e=0;e<b.length;e++){var f=b[e];f.render.visible&&(d.moveTo(f.position.x,f.position.y),d.lineTo(f.position.x+2*(f.position.x-f.positionPrev.x),f.position.y+2*(f.position.y-f.positionPrev.y)))}d.lineWidth=3,d.strokeStyle="cornflowerblue",d.stroke()},d.bodyIds=function(a,b,c){var d,e,f=c;for(d=0;d<b.length;d++)if(b[d].render.visible){var g=b[d].parts;for(e=g.length>1?1:0;e<g.length;e++){var h=g[e];f.font="12px Arial",f.fillStyle="rgba(255,255,255,0.5)",f.fillText(h.id,h.position.x+10,h.position.y-10)}}},d.collisions=function(a,b,c){var d,e,f,g,h=c,i=a.options;for(h.beginPath(),f=0;f<b.length;f++)if(d=b[f],d.isActive)for(e=d.collision,g=0;g<d.activeContacts.length;g++){var j=d.activeContacts[g],k=j.vertex;h.rect(k.x-1.5,k.y-1.5,3.5,3.5)}for(i.wireframes?h.fillStyle="rgba(255,255,255,0.7)":h.fillStyle="orange",h.fill(),h.beginPath(),f=0;f<b.length;f++)if(d=b[f],d.isActive&&(e=d.collision,d.activeContacts.length>0)){var l=d.activeContacts[0].vertex.x,m=d.activeContacts[0].vertex.y;2===d.activeContacts.length&&(l=(d.activeContacts[0].vertex.x+d.activeContacts[1].vertex.x)/2,m=(d.activeContacts[0].vertex.y+d.activeContacts[1].vertex.y)/2),e.bodyB===e.supports[0].body||e.bodyA.isStatic===!0?h.moveTo(l-8*e.normal.x,m-8*e.normal.y):h.moveTo(l+8*e.normal.x,m+8*e.normal.y),h.lineTo(l,m)}i.wireframes?h.strokeStyle="rgba(255,165,0,0.7)":h.strokeStyle="orange",h.lineWidth=1,h.stroke()},d.separations=function(a,b,c){var d,e,f,g,h,i=c,j=a.options;for(i.beginPath(),h=0;h<b.length;h++)if(d=b[h],d.isActive){e=d.collision,f=e.bodyA,g=e.bodyB;var k=1;g.isStatic||f.isStatic||(k=.5),g.isStatic&&(k=0),i.moveTo(g.position.x,g.position.y),i.lineTo(g.position.x-e.penetration.x*k,g.position.y-e.penetration.y*k),k=1,g.isStatic||f.isStatic||(k=.5),f.isStatic&&(k=0),i.moveTo(f.position.x,f.position.y),i.lineTo(f.position.x+e.penetration.x*k,f.position.y+e.penetration.y*k)}j.wireframes?i.strokeStyle="rgba(255,165,0,0.5)":i.strokeStyle="orange",i.stroke()},d.grid=function(a,b,c){var d=c,f=a.options;f.wireframes?d.strokeStyle="rgba(255,180,0,0.1)":d.strokeStyle="rgba(255,180,0,0.5)",d.beginPath();for(var g=e.keys(b.buckets),h=0;h<g.length;h++){var i=g[h];if(!(b.buckets[i].length<2)){var j=i.split(",");d.rect(.5+parseInt(j[0],10)*b.bucketWidth,.5+parseInt(j[1],10)*b.bucketHeight,b.bucketWidth,b.bucketHeight)}}d.lineWidth=1,d.stroke()},d.inspector=function(a,b){var c,d=(a.engine,a.selected),e=a.render,f=e.options;if(f.hasBounds){var g=e.bounds.max.x-e.bounds.min.x,h=e.bounds.max.y-e.bounds.min.y,i=g/e.options.width,j=h/e.options.height;b.scale(1/i,1/j),b.translate(-e.bounds.min.x,-e.bounds.min.y)}for(var k=0;k<d.length;k++){
var l=d[k].data;switch(b.translate(.5,.5),b.lineWidth=1,b.strokeStyle="rgba(255,165,0,0.9)",b.setLineDash([1,2]),l.type){case"body":c=l.bounds,b.beginPath(),b.rect(Math.floor(c.min.x-3),Math.floor(c.min.y-3),Math.floor(c.max.x-c.min.x+6),Math.floor(c.max.y-c.min.y+6)),b.closePath(),b.stroke();break;case"constraint":var m=l.pointA;l.bodyA&&(m=l.pointB),b.beginPath(),b.arc(m.x,m.y,10,0,2*Math.PI),b.closePath(),b.stroke()}b.setLineDash([]),b.translate(-.5,-.5)}null!==a.selectStart&&(b.translate(.5,.5),b.lineWidth=1,b.strokeStyle="rgba(255,165,0,0.6)",b.fillStyle="rgba(255,165,0,0.1)",c=a.selectBounds,b.beginPath(),b.rect(Math.floor(c.min.x),Math.floor(c.min.y),Math.floor(c.max.x-c.min.x),Math.floor(c.max.y-c.min.y)),b.closePath(),b.stroke(),b.fill(),b.translate(-.5,-.5)),f.hasBounds&&b.setTransform(1,0,0,1,0,0)};var c=function(a,b){var c=document.createElement("canvas");return c.width=a,c.height=b,c.oncontextmenu=function(){return!1},c.onselectstart=function(){return!1},c},k=function(a){var b=a.getContext("2d"),c=window.devicePixelRatio||1,d=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return c/d},l=function(a,b){var c=a.textures[b];return c?c:(c=a.textures[b]=new Image,c.src=b,c)},m=function(a,b){var c=b;/(jpg|gif|png)$/.test(b)&&(c="url("+b+")"),a.canvas.style.background=c,a.canvas.style.backgroundSize="contain",a.currentBackground=b}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":24,"../geometry/Vector":26}],30:[function(a,b,c){var d={};b.exports=d;var e=a("../body/Composite"),f=a("../core/Common");!function(){var a,b;"undefined"!=typeof window&&(a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(function(){a(f.now())},1e3/60)},b=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),d.create=function(a){f.log("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)","warn");var b={controller:d,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},c=f.extend(b,a),e=!c.options.wireframes&&"transparent"===c.options.background;return c.pixiOptions=c.pixiOptions||{view:c.canvas,transparent:e,antialias:!0,backgroundColor:a.background},c.mouse=a.mouse,c.engine=a.engine,c.renderer=c.renderer||new PIXI.WebGLRenderer(c.options.width,c.options.height,c.pixiOptions),c.container=c.container||new PIXI.Container,c.spriteContainer=c.spriteContainer||new PIXI.Container,c.canvas=c.canvas||c.renderer.view,c.bounds=c.bounds||{min:{x:0,y:0},max:{x:c.options.width,y:c.options.height}},c.textures={},c.sprites={},c.primitives={},c.container.addChild(c.spriteContainer),f.isElement(c.element)?c.element.appendChild(c.canvas):f.log('No "render.element" passed, "render.canvas" was not inserted into document.',"warn"),c.canvas.oncontextmenu=function(){return!1},c.canvas.onselectstart=function(){return!1},c},d.run=function(b){!function c(e){b.frameRequestId=a(c),d.world(b)}()},d.stop=function(a){b(a.frameRequestId)},d.clear=function(a){for(var b=a.container,c=a.spriteContainer;b.children[0];)b.removeChild(b.children[0]);for(;c.children[0];)c.removeChild(c.children[0]);var d=a.sprites["bg-0"];a.textures={},a.sprites={},a.primitives={},a.sprites["bg-0"]=d,d&&b.addChildAt(d,0),a.container.addChild(a.spriteContainer),a.currentBackground=null,b.scale.set(1,1),b.position.set(0,0)},d.setBackground=function(a,b){if(a.currentBackground!==b){var c=b.indexOf&&-1!==b.indexOf("#"),d=a.sprites["bg-0"];if(c){var e=f.colorToNumber(b);a.renderer.backgroundColor=e,d&&a.container.removeChild(d)}else if(!d){var g=h(a,b);d=a.sprites["bg-0"]=new PIXI.Sprite(g),d.position.x=0,d.position.y=0,a.container.addChildAt(d,0)}a.currentBackground=b}},d.world=function(a){var b,c=a.engine,f=c.world,g=a.renderer,h=a.container,i=a.options,j=e.allBodies(f),k=e.allConstraints(f),l=[];i.wireframes?d.setBackground(a,i.wireframeBackground):d.setBackground(a,i.background);var m=a.bounds.max.x-a.bounds.min.x,n=a.bounds.max.y-a.bounds.min.y,o=m/a.options.width,p=n/a.options.height;if(i.hasBounds){for(b=0;b<j.length;b++){var q=j[b];q.render.sprite.visible=Bounds.overlaps(q.bounds,a.bounds)}for(b=0;b<k.length;b++){var r=k[b],s=r.bodyA,t=r.bodyB,u=r.pointA,v=r.pointB;s&&(u=Vector.add(s.position,r.pointA)),t&&(v=Vector.add(t.position,r.pointB)),u&&v&&(Bounds.contains(a.bounds,u)||Bounds.contains(a.bounds,v))&&l.push(r)}h.scale.set(1/o,1/p),h.position.set(-a.bounds.min.x*(1/o),-a.bounds.min.y*(1/p))}else l=k;for(b=0;b<j.length;b++)d.body(a,j[b]);for(b=0;b<l.length;b++)d.constraint(a,l[b]);g.render(h)},d.constraint=function(a,b){var c=(a.engine,b.bodyA),d=b.bodyB,e=b.pointA,g=b.pointB,h=a.container,i=b.render,j="c-"+b.id,k=a.primitives[j];return k||(k=a.primitives[j]=new PIXI.Graphics),i.visible&&b.pointA&&b.pointB?(-1===f.indexOf(h.children,k)&&h.addChild(k),k.clear(),k.beginFill(0,0),k.lineStyle(i.lineWidth,f.colorToNumber(i.strokeStyle),1),c?k.moveTo(c.position.x+e.x,c.position.y+e.y):k.moveTo(e.x,e.y),d?k.lineTo(d.position.x+g.x,d.position.y+g.y):k.lineTo(g.x,g.y),void k.endFill()):void k.clear()},d.body=function(a,b){var d=(a.engine,b.render);if(d.visible)if(d.sprite&&d.sprite.texture){var e="b-"+b.id,h=a.sprites[e],i=a.spriteContainer;h||(h=a.sprites[e]=c(a,b)),-1===f.indexOf(i.children,h)&&i.addChild(h),h.position.x=b.position.x,h.position.y=b.position.y,h.rotation=b.angle,h.scale.x=d.sprite.xScale||1,h.scale.y=d.sprite.yScale||1}else{var j="b-"+b.id,k=a.primitives[j],l=a.container;k||(k=a.primitives[j]=g(a,b),k.initialAngle=b.angle),-1===f.indexOf(l.children,k)&&l.addChild(k),k.position.x=b.position.x,k.position.y=b.position.y,k.rotation=b.angle-k.initialAngle}};var c=function(a,b){var c=b.render,d=c.sprite.texture,e=h(a,d),f=new PIXI.Sprite(e);return f.anchor.x=b.render.sprite.xOffset,f.anchor.y=b.render.sprite.yOffset,f},g=function(a,b){var c,d=b.render,e=a.options,g=new PIXI.Graphics,h=f.colorToNumber(d.fillStyle),i=f.colorToNumber(d.strokeStyle),j=f.colorToNumber(d.strokeStyle),k=f.colorToNumber("#bbb"),l=f.colorToNumber("#CD5C5C");g.clear();for(var m=b.parts.length>1?1:0;m<b.parts.length;m++){c=b.parts[m],e.wireframes?(g.beginFill(0,0),g.lineStyle(1,k,1)):(g.beginFill(h,1),g.lineStyle(d.lineWidth,i,1)),g.moveTo(c.vertices[0].x-b.position.x,c.vertices[0].y-b.position.y);for(var n=1;n<c.vertices.length;n++)g.lineTo(c.vertices[n].x-b.position.x,c.vertices[n].y-b.position.y);g.lineTo(c.vertices[0].x-b.position.x,c.vertices[0].y-b.position.y),g.endFill(),(e.showAngleIndicator||e.showAxes)&&(g.beginFill(0,0),e.wireframes?g.lineStyle(1,l,1):g.lineStyle(1,j),g.moveTo(c.position.x-b.position.x,c.position.y-b.position.y),g.lineTo((c.vertices[0].x+c.vertices[c.vertices.length-1].x)/2-b.position.x,(c.vertices[0].y+c.vertices[c.vertices.length-1].y)/2-b.position.y),g.endFill())}return g},h=function(a,b){var c=a.textures[b];return c||(c=a.textures[b]=PIXI.Texture.fromImage(b)),c}}()},{"../body/Composite":2,"../core/Common":14}]},{},[28])(28)}),angular.module("resumeApp",["ngRoute"]).config(["$httpProvider","$routeProvider","$locationProvider",function(a,b,c){b.when("/",{templateUrl:"app/partials/home.html"}).when("/projects",{templateUrl:"app/partials/projects.html"}).when("/contact",{templateUrl:"app/partials/contact.html"}).when("/skills",{templateUrl:"app/partials/skills.html"}).when("/about",{templateUrl:"app/partials/about.html"}),c.html5Mode({enabled:!0,requireBase:!1})}]),angular.module("resumeApp").service("cardService",["$window",function(a){function d(){c&&(a.location.href="https://github.com/Philip-Cheek")}function e(a){var b=document.getElementById("card");f(a);for(var c=h(a),d=["transform","webkitTranform","mozTransform"],e=0;e<d.length;e++)b.style[d[e]]=c}function f(a){var b,d;c=g(a),c?(b="#81b3d2",d="pointer"):(b="black",d="auto"),document.getElementById("git").style.color=b,document.body.style.cursor=d}function g(a){var b=document.getElementById("git").getBoundingClientRect(),c=a.pageX,d=a.pageY,e=c>b.left&&c<b.right,f=d<b.bottom&&d>b.top;return e&&f}function h(a){var b=1.9*document.getElementById("main").offsetWidth,c=document.getElementById("main").offsetHeight,d=(b/2-a.pageX)/-20,e=(c/2-a.pageY)/10;return"rotateY("+d+"deg) rotateX("+e+"deg)"}var b={},c=!1;return b.toggleCardServices=function(a){var b=document.getElementById("main");a?(document.addEventListener("mousemove",e),b.addEventListener("click",d)):(document.removeEventListener("mousemove",e),b.removeEventListener("click",d))},b}]),angular.module("resumeApp").service("physicsService",function(){function q(a){var c={isStatic:!0,render:{visible:!0}};return[l.rectangle(a.width/2,-1500,a.width,1,c),l.rectangle(a.width/2,a.height-10,a.width,1,c),l.rectangle(0,a.height/2,1,a.height,c),l.rectangle(a.width,a.height/2,1,a.height,c)]}function r(a){return i.create(e,{render:{canvas:f,options:{showAngleIndicator:!0,wireframes:!0,width:a.width,height:a.height}}})}function s(a){var b=d.getBoundingClientRect();a({height:b.height,width:b.width})}function t(){var a=g.render.options;a.background="none",a.showAngleIndicator=!1,a.wireframes=!1,a.showCollsions=!1,a.showVelocity=!1}function u(a){f=document.getElementById("canvas"),f.style.height=a.height,f.style.width=.975*a.width,f.style.display="initial"}function v(){var a=f.getContext("2d");a.clearRect(0,0,f.height,f.width),f.style.display="none"}function w(){d=document.getElementById("main"),e=document.getElementById("sHome")}var d,e,f,g,h,a={},b={},c=[],i=Matter.Engine,j=Matter.World,l=(Matter.Body,Matter.Bodies),o=(Matter.Common,Matter.Composites,Matter.MouseConstraint),p=Matter.Constraint;return a.init=function(){var a=this;w(),s(function(b){a.screen=b,u(b),g=r(b),g.world.bodies=[],h=o.create(g),j.add(g.world,h),j.add(g.world,q(b))})},a.run=function(){t(),i.run(g)},a.clear=function(){j.clear(g.world),i.clear(g),v()},a.updateWorldQueue=function(){var a=[],d=[];for(var e in b){var f=b[e];f.world||(a.push(f.obj),b[e].world=!1)}j.add(g.world,a);for(var h=c.length-1;h>=0;h--)d.push(c.pop());j.add(g.world,d)},a.addConstraint=function(a,d,e){c.push(p.create({bodyA:b[a].obj,pointB:{x:d,y:e}}))},a.addCircle=function(a,c,d,e,f){f||(f=1);var g={visible:!1,isStatic:!1,density:f,restitution:.8,friction:1.01};e&&(g.render={strokeStyle:"#333333",sprite:e}),b[a]={world:!1,obj:l.circle(d.x,d.y,c,g)}},a.addRectangle=function(a,c,d,e,f){f||(f=1);var g={visible:!1,isStatic:!1,density:f,restitution:.8,friction:1.01};e&&(g.render={strokeStyle:"#333333",sprite:e}),b[a]={world:!1,obj:l.rectangle(d.x,d.y,c.width,c.height,g)}},a}),angular.module("resumeApp").service("projectService",function(){var a={},b=[{name:"ProsePair I/O",components:[{name:"Intro",body:["Inspired by the informal message board games of old, Prose Pair I/O is a real-time web application that provides a gamified platform for fun and fast-paced collaborative storytelling. A user may either pair with another user or join a group of users depending on the mode selected. After which, the user and his or her partner/group will be placed into an instance wherein they will receive a randomly selected prompt. The players will then start crafting a winding story formed from each others prior input.","Prose Pair is turn based, which means the storys intended direction may change as each user submits his or her contribution. The time in which a user has to do so, however, is limited. An automated text wizard guides the player throughout the process, easing the transition through the stages of the game and informing the player should they violate a rule as specified by the instances game mode.","Some of the players edits to the story (such as the title) will be visible in real time to his or her partner/group as they are made. Finalizing such edits must be sanctioned by the players game partner(s), which is done through a time-based polling system.","Once players agree to an ending, the story is saved and may be viewed by visitors to the site henceforth. Users may vote on stories with either a like or a dislike.","Additionally, users may also submit their own writing prompts which may enter a game instance. However, users of the site may also up-vote and or down-vote said prompts. The server will purge consistently unpopular prompts from the eligible pool."]},{name:"Technical Overview",body:["The technical goal for this project was not only to build an application that sequestered end users into instances that then fostered real time, structured communication among them, but to do as such in a manner which would scale as cheaply and efficiently as possible. This goal was achieved by capitalizing on the single-threaded architecture of the Node.js runtime environment server-side and offloading large swathes of the business logic client-side.","As stated above, the server is built with the Node.js runtime. The server logic uses a light middleware to ease database modeling and modularization of code. It also serves to abstract away some of the verbosity otherwise necessitated when writing a server with Node.","There are two ways in which the server communicates with the client. One is through asynchronous calls to a REST API and the other is via WebSockets. More specifically, as it pertains to the latter, the server utilizes a popular library called Socket.IO which prioritizes the WebSocket protocol but may fallback to long polling should the WebSocket stream fail.","The communication with socket.IO is handled within a unique instance of which is instantiated when a client first contacts the server. This is abstracted within what I refer to as a manager.  When the server instance initiates, what I refer to as a soft (saved, non-permanently, server side) session opens. The server than bequeaths the session to within the scope of my socket manager. This allows me to update a client session within an IO instance. This is done for both security purposes and to allow me to direct the client to prompt the end user more appropriately (i.e. decide whether to display the Welcome box and whatnot).","The socket manager communicates with another module that I wrote called the client manager. The client manager keeps track of all unique contacts made to my Socket Manager. This is a useful abstraction for a number of reasons. First and foremost, it easily allows each unique instance held within my socket manager to share data with one another in a simple and digestible manner.","When a client secures a connection with a server an event is triggered which grants the server information to a socket object bearing a unique socket id which is used to identify a specific client.So when a user selects a game mode, the client manager stores the players nickname and his clients socket object. ","The client manager is also responsible for matching players together into rooms. Each game session has a unique room associated with it. When a client tells the server it would like to enter a game session, the servers client manager takes check the queue that corresponds to that game mode. Should the queue not have enough players to fill the minimum required number of players for its corresponding game player, the client is placed in a queue and must wait for other players to join before a game may start.","When a game is started, the client manager maps all of the players corresponding socket objects to an arbitrary namespace of which constitutes our room, and a callback is triggered that informs the socket manager after a room has been formed. The socket manager determines the order in which users trade turns and tells the prompt controller to fetch a randomly selected prompt from the database that has not been banned from the pool. With this, the socket manager has enough data to form the appropriate object to send to all clients associated with the freshly produced room.","The client was built with angular (pre 2.0, however much of the front-end architecture would remain if the platform were migrate up to 2.0), using a structure not dissimilar to the MVC structure that would be found server side in other frameworks. Using ngRoute, Angular allows us to generate little pages of HTML, called partials, depending on our url. Different pages, or functional sections, are subject to a controller, which acts as a bridge to different services and factories client side that handle different functions and dependency injections. Unique to Angular, we have directives which allow us to create re-usable modules to manipulate the DOM. A directive is what handles the modal system utilized by Prose Pair.","In Prose Pair, factories are used when an object needs to be returned to a controller, but may not be instantiated as new instance when called upon. For the sake of this projects factories are used to call the appropriate ajax request to the server from which we may receive data, hold the relevant data, and parse the data as required whichever controller calls it. The socket factory instantiates connection with the server over socket.io and wraps the functions from which the client may emit messages to the server using socket.io. Another factory set and indexes timers, or promises, that are triggered with either setTimeout or setInterval.","The apps services control large swathes of the apps logic, ranging from dictating the text wizard, organizing peers, caching, parsing and sectioning persistent data, handling polls, analyzing user input, and adding and managing event handlers, depending on the service in questions allotted responsibility.","The controllers are responsible for linking interaction between the end user and the DOM with functions that call the appropriate factories and services to achieve the desired behavior of the application.","Angular JS allows the controllers to work tightly with a templating engine that allows you to quickly display data stored in the controllers scope and link html elements with different functions and logic gates through a variety of inputs.","It should be noted that Prose Pairs front end was built with a front end framework (Angular). This fundamentally differs from component based libraries such as REACT or Polymer. The client-side experience is largely dictated by the client app itself, with the Server providing data, security, channels of communication, and CRUD operations.","Prose Pair is architected as a single page application that serves a single purpose. I believe this made it a perfect use case for the technology stack that I used. It should be noted, that if this Prose Pairs functionality were to be but one feature of a much larger web application, the front end framework would remain - in spirit, at least - intact. This framework would be controlled as a single page application. If it were but one feature in a large web of distinct features, the server would be a web of separate, self-contained applications, that re-use directives when appropriate.","It should be noted that this application uses a NoSql database. Although, I did use an object modeling tool designed to work in asynchronous environments to model relationships between fields stored in my database. The NoSql DB was chosen for the purpose of speed and development ease, as object modeling was flexible and the data would be readily provided in JSON format. However, as I plan more extensive features for the next iteration of this project, I am going to migrate to a relational database, and perhaps use my existing database as a caching layer, as I feel a relational database will better scale to my particular ambitions for this project.","The deployment of this project took advantage of Amazon Web Services. The database is running in a separate EC2 (amazons linux server) instance from the applications backend. The Node.js backend uses what Amazon refers to as an Elastic Beanstalk instance. Additional configurations had to be made to the reverse NGINX proxy and the elastic load balancers to allow my client to communicate with my server via web sockets (which ELB does not support out of the box).","Communication with the eC2 instance is guarded by two layers of security. The EC2 instance itself is restricted via firewall to only externally communicate with requests that fall under the domain of the specified security group. In addition, I edited the security configurations of Mongo to restrict communication to and from Mongo with the elastic IP that I assigned to my ELB instance. (ELB instances are virtual machines distributed across a giant network of servers so Amazon allows you to assign a static IP to address your instance).","All static files are stored and fetched from Amazons s3 bucket. The kind of instance that I am running Prose Pair on is not meant to serve static files and would serve as a significant bottleneck, so s3 is a convenient hosting platform with convenient price caps and security options.","One drawback to handling so much of the application logic client side is that a lot of your functionality is conspicuous. To avoid troublesome and trolling bots or clients ruining entire game sessions with other users, a client needs an arbitrary key that is associated with a room in order to communicate with it. This unique key is generated and granted upon entry to a game instance, which means only users that legitimately connected to a session may communicate to members of that session. This provides doubles as a logistical tool as well. In addition, socket communication must be legitimized through a soft session, which, again, increases the likelihood that a connection belongs to the intended client.","With the help of an NPM module named Helmet, several HTTP headers are set server side that address various security concerns, such as frame guard which deters click jacking, strict-transport-security which tells guides and restricts client requests to HTTPS. There is also a header which prevents a browser from inferring the mime type of incoming files, which handicaps some pernicious scripts that will take advantage of the browsers typical ability to do so. I also use a header that adds some XXS securities for good measure. All incoming data is parsed and sanitized from potential NoSql injections or commands before being placed into the database.","All in all, I had a blast developing ProsePair and I retrospectively still feel positive about the technology stack employed here. Although not appropriate for everyone, the technologies and methodologies employed here were the correct choices for this project. I will continue to provide support and updates."]}],technology:{name:"Runtime",Runtime:["https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/AngularJS_logo.svg/695px-AngularJS_logo.svg.png"]},source:"https://github.com/Philip-Cheek/prosepairIO",type:"Solo ~ For Public",status:"Deployed",deployment:{status:!0,link:"http://www.prosepair.io/",type:"Deployed Site"},gallery:["https://s3.amazonaws.com/prosepair/Screen+Shot+2016-10-05+at+4.20.50+PM.png"],stack:["Node.js","AngularJS","MongoDB"]},{name:"GKB Inventory Tool",components:[{name:"Intro",body:["The GKB Inventory Tool was an application built by myself alongside a small team of developers for the Good Karma Bikes store in San Jose. This project was overseen by Fred Fowler who assisted in conforming our workflow to the SCRUM methodology.","The tool itself serves as an agent between an employee or volunteer and the LightSpeed inventory system. In addition, the platform produces a unique barcode with custom sizing options, a dynamic menu system, and an additional content management system for administrators.","The administrator may add items with either set static prices or a price multiplier. In addition an administrator may link certain products sub-item or options.","The item options and price multiplier values for each category of attributes change dynamically with each successive item selected in accordance to the wishes of the product owner and additional configurations of the administrator.","When an employee or volunteer receives a new item or batch of items, he or she will quickly navigate through our menu system, selecting appropriate attributes under a variety of categories that apply to the item at hand. Once the information is submitted, the backend calculates the price and generates a barcode number. The backend then makes a request to the Lightspeed inventory system, adding the item to the inventory.","Once this request is completed, the client is notified and redirects to the barcode page. The front-end draws the barcode based off of the the content of the barcode digits and the relative symbology dictated by the type of barcode selected.","Please note that the source code provided contains a few major altercations made for security, privacy, and legal reasons."]},{name:"Technical Overview",body:["This project capitalized on Django to architect the backend. Django was an attractive option for numerous reasons. It allowed us to prioritize secure communication between the intended client and the server without severely prolonging development time. In addition, Django has a built in visual interface in which an administrator may easily interact with the database, as allowed by the constraints of our DB models.","Django also enables a very organized and modular development process. Each separate feature in the application was organized into its own app. Django encourages a clean model-view-controller workflow. This workflow was slightly subverted by the way in which the Angular component of the client sends async requests, using Django a little like a REST api. However, the principle remained the same. The controller was responsible for each page or single page application. We further abstracted some of the business logic with more object oriented patterns for our views.","The menu system was built with Angular JS, whereas other pages were served traditionally. One unique technical aspect of this project was the interweaving of both Angular and Djangos templating. We had to override the default templating interpolation of Angular in order to achieve this. This allowed us to implement additional security precautions client side (booting access when session expires and so on), as well as utilize the CSRF token system provided by Django - meaning that the app was served by Django and Django grants the template a CSRF token that is needed for the server to accept the request from the client.","There was some debate as to whether we should use a modular library instead of a full front-end framework. We opted for Angular because we liked the support for data handling, which meant we could minimize the amount of requests that burdened the server, and allowed for the option input pages to be designed as a single page application that could be quick and fun to navigate. There was also an opportunity to write a service which would do some additional route handling client side in an organized fashion.","The Lightspeed API was well documented and easy to work with. The requests made to Lightspeed were performed on the backend and certain calls were guarded based off of the users credentials. For simplicities sake, instead of individual logins, there were only three accounts - or, as we referred to them, tiers - that could interact with the client. The password for each account was encrypted and salted before being stored into the database. Only an administrator had permission to change any of the passwords. The user could also look up any product in the Lightspeed inventory entering a barcode or SKU number into our search page.","We used a wonderful library called JSBarcode to generate the barcode. This library did a lot of the heavy lifting for us in this regard, but the advantages of using such an established library for something so critical in the timeframe that we were afforded made the use of such a no brainer.","We worked with a UX designer to design the aesthetics and interactable portions of the application. It was the idea of the designer to have an expandable menuBar that would allow an employee or volunteer to quickly navigate back to sections of the input selection system that the user had previously visited.","Since each item (an attribute that described the piece of inventory of which would affect the price multiplier) selected by the user would affect the available inputs of a subsequent category (this was to prevent the likelihood of an employee accidentally ascribing incompatible or nonsensical attribute of the product, and to cut down on the chances a mistake would be made by having an excess of unrelated options), we wrote an algorithm that would assemble the appropriate components based off of the possible relations as specified in the database before feeding that data into the next menu portion.","The application exceeded the product owners expectation and has been happily used by the establishment since. As a small development team, we were quite pleased with the outcome of this endeavor."]}],source:"https://github.com/Philip-Cheek/gkb_dory",type:"Team ~ Commercial",status:"Privately Deployed",deployment:{status:!1},gallery:["../resources/images/gkb.png"],stack:["Django","AngularJS","SQLite"]},{name:"This Portfolio Platform",components:[{name:"Intro",body:["This portfolio website was made for the purpose of demonstrating a few of my development capabilities. It will serve as a springboard for a portfolio engine for other people who would like to use this website as a template.","A GUI content management system is underway to make the use of this template accessible to a non-developer. Also underway: a site for mobile users. I believe the mobile-redirect option would best suite this application as features of the desktop version rely more heavily on traditional mouse interaction.","This site was built with the purpose of being fun, aesthetic, and, most importantly, useful for anyone interested in either working with me as a developer, or is curious about the technical aspects involved in making projects of a similar scope to my own.","Visit the contact page shown on the sidebar and send me a message!"]},{name:"Technical Overview",body:["The ultimate goal for this project was to build a template that would allow me to easily input relevant portfolio data that would be visually presented in the form of aesthetic pages that are easy to navigate with interactive features. ","The backend is simple. The routing is largely handled client side, using deep linking to serve HTML partials that are generated by the front-end frameworks templating engine. However, the server does catch all url routes and redirects them to the index page, so when an end user refreshed his or her page, the DOM will display the same HTML partial that the user had been previously viewing.","HTML5 and CSS3 compatible browsers will be privy to some visual enhancements triggered by the mouse. On the home page, there is a simulated business card that shifts perspective in 3D space in accordance to the X, Y position of the mouse. This effect was achieved with CSS3 and Javascript.","CSS3 browsers allow you to treat a div as a 3D plane using the perspective styling option. Treating the portion of the page in which the div spans as a 2D plane, the perspective value determines the Z distance of the plane from which any child elements may tilt towards.","To achieve the effect of the card tilting to face the mouse as it moves across the browser, I wrote a card service client side that allows a controller to toggle an event handler of which is triggered by mouse movement across the page. Each time the browser detects mouse movement, the service snags the coordinates of the mouse and adjusts the x and y rotation of the card elements by the x and y distances from the mouse and the point that serves as my axis of rotation. I further adjusted the Z distance of the additional child elements of the card to exaggerate the 3D effect.","The child elements, however, were not responsive to other CSS selectors, such as hover, so to achieve the mouseover options of the Git logo, I had to manually determine whether the mouse overlapped with the boundary wherein I wished the Git hover behavior to occur. I had to detect when the mouse would leave the boundary as well as entering it. This also meant I had to add a click event handler that would fire if and only if the card services were enabled and the git Overlap bool was valid.","The expanding border hover events on the side menu items are a pure CSS3 effect. This was achieved by creating a class with pseudo elements for each vertical and horizontal side. When the CSS hover effect is triggered, the pseudo elements transform to the the vertical and horizontal sizes of the div.","The skills page showcases a physics sandbox wherein the logos for all of the technology I spent significant time working with fall into view and collide with one another. These bodies may be interacted with, and you may move an element and throw it around the sandbox.","This sandbox was created with the aid of the Matter.js physics engine. Although I have approximated physics on my own in the past, the Matter.js engine features extensive options, allowing you to set the density of both the objects and the air (this effects how the objects move when falling in the plane), as well as the restitution and elasticity of each object. The engine also sports convincing collision detection that accounts for the specified material and attributes of the body as well.","To make the engine behave properly in a controlled and re-usable manner for my template, I created an abstraction that handled all physics events, configuring the physics engine to my needs and performing additional actions to achieve the behavior that I wanted in the most performant way that I could achieve.","When the physics object is called into memory, it grabs the canvas element from the DOM and sets the context in which all objects will be drawn. The canvas dimensions are set to the size of the main bar in the page at the time the object inits. I establish a World object which is the object in which the Matter.js organizes the elements, or in Matter.js lingo, bodies. ","The walls are rectangular bodies of which are established on the canvas for the elements to collide onto. A variety of options are also set, of which are both numerous and of likely little interest to the reader. The renderer is the sequence in which all draw attributes of the bodies are updated and redrawn onto the canvas.","The controller may add both bodies and constraints for each bodies using the physics object methods I provide. It may also add a link to a sprite asset. It is, however, an expensive operation to add each body to the World at separate intervals due to quirks in the engine. This is doubly true when adding custom physical constraints to an object.","Therefore when a body or constraint created in the physics object, it is added to its respective queue. It is up to the controller when to unload the queues onto the World. When you toggle to the more practical legible view, the World is cleared and the render loop stops running.","When a message is sent through the contact page, the backend re-formats the text and sends the message body by way of email to my personal email address. ","I am happy with the results so far and have big plans to expand the platform little by little down the line as time affords."]
}],source:"https://github.com/Philip-Cheek/portfolioPlatform",type:"Solo ~ Personal",status:"Deployed",deployment:{status:!0,link:"http://localhost:5000/contact",type:"Contact Page"},gallery:["../resources/images/portScreen.png"],stack:["Node.js","Vanilla JS","Angular"]},{name:"Litter Bug",components:[{name:"Intro",body:["LitterBug is an iOS application that was built to serve as a crowdsourcing task-based platform wherein a user may report public areas in need of cleaning, and other users may either donate money to add to a tasks bounty, or complete the task and be rewarded the bounty after a majority of the donors agree that the task had been completed.","It should be noted that this project was abandoned at 80% completion, for its rather a silly idea with limited (IMO) commercial appeal. However the project features some cool tech that I am proud of, of which I will discuss further in the technical overview. If you are a mac user and have installed XCode, you may run the project either through XCodes simulator on your computer, or on your phone . If you do so, please use 4000056655665556 as the Visa card number. It is a test card number provided by Stripe that will pass the validations and be able to complete any transaction. If you do not have access to XCode, consulting the source code will help you follow the along.","After the end user connects via the Facebook login API, he or she will have the option to browse tasks within whichever browsing radius the user chooses. The user may do this through either a map view or a list view. The pages can be toggled by tapping the menu options bar at the bottom of the screen. ","If a user sees an area the he or she would like to report, she may click the report button. This will open the camera page wherein the user must take 1-3 photo(s) of the area. After confirmation of such, the application will reverse geo-code the users coordinates to grab specific street information, and the user may fill in additional details about the area in which the user would like to see cleaned.","From there a user must make a minimum donation of 1.00 to the tasks bounty in order for the report to be submitted. After the bounty is submitted to the server, the server will in turn notify all active users that the donation had been submitted should the donation fall into their radius.","If a user wishes to take a task, all donors will be notified. A user must be within a 100 foot radius of a task in order to take it. Once a user takes photo of the resolved area and claims that a task has been completed, the donors will have up to three days on whether to decide if a task had been completed. A mechanism to handle disputes has not yet been implemented.","Users also have profile pages sporting a star rating that is determined by weighted values regarding the amount of money offered vs awarded and the tasks taken and the tasks completed. They also have a log detailing recent activity as well as a photo, provided they have a Facebook profile picture (if not, a default photo is awarded according to their listed gender)."]},{name:"Technical Overview",body:["This project involved the building of both a native application for iOS and a backend application. The iOS app communicates with the server via a Rest API and web sockets. Since this application involves sensitive user data, there was a considerable focus spent on security, of which I will talk about now.","When the end user initiates the app on his or her mobile device, the app will contact the server via web socket, establishing a connection. The server will store the socket information and in turn send a Socket Token that automatically changes from week to week. With a Socket Token in hand, the client will allow the user to make a graph request to the Facebook API, which in turn grants an FB token (if they enter the correct FB info). With the FB token and Socket Token in hand, the server will accept a post request to the Login route from the application before proceeding to the next level of authentication.","The Facebook Login API, and other oAuth login systems as well, are useful for this setup because the access tokens granted by FB login API are unique to the application with my specific developer ID and app ID that is established when building apps with xCode and the requisite personal developer iCloud account. With the client secret granted to me on my Facebook account for my specific application with xCode, I can validate (but not grant) FB access tokens on my server. Therefore, all users must be operating from the correct client in order to be authenticated.","Once an FB token is validated server side, the server checks whether this user account has been registered in the DB before. If it has not been, the backend encrypts and salts the FB token, and stores the information granted to client by the FB graph request into the Database. A session is opened and stored with the FB ID (not the token) of the user for authentication purposes while the user uses the app (the session is destroyed after a client disconnects).","The server also checks whether any payment options have been provided. If not the server tells the app to open the (skippable) Provide Payment Options page.","Payments are handled by the Stripe API. There are two keys that guard access to the applications access to the Stripe account. There is a public key which is provided to the client and a private key which is enabled on the server.","The input field for the credit/visa card info on the app differ from a traditional text input field available to iOS developers. Not only can the characters not be copied, but the content of the field cannot be requested by the client or the developer of the client. When a user submits his/her information, a request is sent directly to Stripes servers, which responds with a Stripe token for that user. The Stripe token is then sent to my server, wherein I may create additional tokens for their card info. It is these tokens that are encrypted and salted before being stored into the database. These tokens are only valid if provided the applications private key, of which is stored on the server.","The client was mostly written in Apples successor to Objective C, Swift (Obj C and Swift are backwards compatible), and I used the StoryBoard features (for the most part) to build the UI. The approach that I used for coding the client combined both event driven and object oriented design patters. There are event driven controllers for each page of the app, but most of the business logic occurs in separate objects.","Swift allows you to write either classes or structs. In addition, classes and structs may adhere to protocols which serve as blueprints for a specific collection of methods. This is useful because each page in the app has a corresponding view controller, and this app has different types of views that share common functionality.","I also utilized an Apple development technology called the Grand Central Dispatch, which allows the application to dispatch some tasks on a separate thread. For example, when a user object needs to access a profile photo for the first time, the image manager is given a url where it will download the image off the main thread (while the user goes about his or her business) and replace the default photo with the users Facebook profile photo through a callback once the download has been completed.","The image manager uses a mutable collection object called NSCache to store photos. The manager may create resizable copies of photos, but the manager will not download an image twice from the same source during a single session. There was a plan to cache some items in the iPhones memory, however this was not built yet.","The image manager also contains access to a public key for an AWS Incognito Role which allows the client privileges to directly download and upload (within a threshold) images from and to a specified S3 bucket without having to either use my server as a proxy or store my personal AWS credentials on the client (which could be compromised by an experienced and malicious developer).","LitterBug uses CoreLocation to pinpoint the users current longitude and latitude (as supplied by the OS). The client prompts the user to either allow or deny the application access to this information. If the client approves access to the applications locations services, a request is made to the server for all active reports within 50 miles of the users current location. The server makes this query to the the database using the DBs (MongoDBs) GeoSpatial operators. Each post is entered into the Phones memory as a Post type (a class).","The map view is achieved by using MapKit API. The map (standard iOS map) will render centered on the users longitude and latitude. All available posts will create an annotation (little balloon) for themselves on the map to indicate their location.","When an annotation is pressed, the map will zoom in and re-center itself on the post location. A pop up will appear at the bottom of the screen with the posts thumbnail and a set of icons. If the user taps elsewhere on the screen, or presses the cancel icon on the popUp, the map will zoom out and re-center itself on the users location.","It should be noted that when the app received the users location, it sends a message via web socket to the server, which in turn informs the client manager. The client manager is responsible for sending location-specific notifications or updates to clients who are within the appropriate radius.","Since sorting through relative distances between every client currently connected to the server each time a notification room needed to form could present a potential bottleneck, the client manager deals with this by creating what I call location balloons. A location balloon is a data structure containing client socket and geo info within the radius of its seed location.","When a user connects, if his or her location does not belong within the radius of any existing location balloon, a new location balloon is created. The users location serves as the seed location. The clients socket id serves as a key in an object that will allow the client manager to store the location balloon indexes in which the client belongs. There were plans to restructure the location balloons as R-trees before I orphaned the project. There were also plans to use Redis as a caching layer to back up client info.","If a user wants to report a task in LitterBug, he or she must open the app and click the report button present in both the map and list views. The report button will redirect the user to the camera page, of which is handled by the camera view controller.","The camera view controller uses the Camera object to allow establish a specified UIView as an AV capture session using the iOS AVFoundation API. The AV Capture Session takes its video stream from the rear view camera of the mobile device.","When the user clicks the take photo icon, the Camera object captures and stores the still image data of the current video stream. The image buffer is then stored as a jPeg and converted into a cgImage and ultimately returned as a UI image in a callback. The UI Image is then overplayed on top of the camera view (a big box that I refer to as the Jumbo view) and the thumbnail is placed in the thumbnail row below. Clicking the thumbnail will allow the user to view the image in the Jumbo View and see menu options that will allow the user to delete the image.","Once at least one photo is taken, the User may proceed to the Post Submit View. Before the segue to the next page is completed the users location data is sent to an API that will reverse geo locate the coordinates to produce a street address. The Post Submit View will populate the editable text bar with the street address if once the response from the API arrives.","Here the user may add additional instructions and details about the area and the related task that the user would like to see completed. He or she must add a minimum donation of $1.00 (the report button just redirects to the Provide Payment Options page if the user has not added payment info) in order to submit.","When a post is submitted and all of the info has passed the validations, a promise manager will set a timeout that will trigger a function that will alter the posts active field to list itself as inactive and make the appropriate update to that users log. Every time there is a new donor, provided there are less than seven prior donors, the timeout will be canceled and another one will be added for another the previous expire time, minus one day. The promise manager stores the the info needed to set that timeout in applications database, and it will consult the DB upon the Backend initializing to recover any lost promises.","If a user is claiming a task (he or she must be in a 100 foot radius of the task at hand in order to do so), the promise manager will remove expiration promise but track how much time had passed since the creation of the expiration promise. Should the user not have successfully completed the task, the promise manager will create another expiration timeout that will fire at the difference between the default time for however many donors are attached to the post and the creation of the post, and the post will once again be visible to any users within the appropriate radius.","If a user has claimed a task and the majority of other donors have accepted the task, separate Strip transactions will be created and fired from the donors to the task recipient (via Visa). A log will be added for both the user and all of the donors. The donors and the recipient may then be eligible to rate each other using the star system on their respective pages.","This project accomplished some neat technical goals. I ultimately decided not to follow through and provide the last set of features and polish and submit the app to the app store at this point in time. Technically, however, I am proud of what was built. I look forward to designing more native apps for iOS."]}],source:"https://github.com/Philip-Cheek/litterBug_iOS-Server",type:"For Public ~ In progress",status:"Orphan",deployment:{status:!1},gallery:["../resources/images/litTemp.png"],stack:["Swift (Native iOS)","Node.js"]}],c=[];return a.getFullProjects=function(){return b},a.getProjectNames=function(){for(var a=[],c=0;c<b.length;c++)a.push(b[c].name);return a},a.openProject=function(c,d){for(var g=0;g<b.length;g++)c==b[g].name&&(b[g].open=!b[g].open),b[g].open?a.addOpen(b[g].name):a.removeOpen(b[g].name)},a.monitorOpen=function(){return c},a.removeOpen=function(a){for(var b=0;b<c.length;b++)if(c[b]==a){c.splice(b,1);break}},a.addOpen=function(a){for(var b=0;b<c.length&&a!=c[b];b++);b==c.length&&c.push(a)},a}),angular.module("resumeApp").service("routeService",["$rootScope","$location","cardService","projectService",function(a,b,c,d){function g(b,c){"projects"==b?(h(c),f.customSub=a.$watch(function(){return d.monitorOpen()},function(a,b){if(a!=b)for(var d=0;d<c.length;d++)if("Projects"==c[d].name)for(var e=c[d].subItems,f=0;f<e.length;f++){for(var g=!1,h=0;h<a.length;h++)e[f].name==a[h]&&(g=!0);e[f].selected=g}},!0)):"customSub"in f&&f.customSub()}function h(a){for(var b=d.getProjectNames(),c=0;c<a.length;c++)if("Projects"==a[c].name){var e=a[c];if(e.subItems.length!=b.length)for(var f=0;f<b.length;f++)e.subItems.push({name:b[f],selected:!1,callback:d.openProject})}}var e={},f={};return e.enableRouteWatch=function(d){f.routeWatch=a.$watch(function(){return b.url()},function(a){var e=a.substring(1,b.url().length);c.toggleCardServices(!e);for(var f=0;f<d.length;f++)d[f].selected=d[f].path==e;g(e,d)})},e}]),angular.module("resumeApp").controller("menuController",["$scope","$location","cardService","routeService",function(a,b,c,d){function f(){c.toggleCardServices("/"==b.url()),d.enableRouteWatch(a.menuItems)}a.menuItems=[{name:"Home",selected:!1,path:"",subItems:[]},{name:"Skills",selected:!1,path:"skills",subItems:[]},{name:"Projects",selected:!1,path:"projects",subItems:[]},{name:"Contact",selected:!1,path:"contact",subItems:[]},{name:"About",selected:!1,path:"about",subItems:[]}],f(),a.linkClicked=function(c){if(!c.selected)for(var d=0;d<a.menuItems.length;d++)if(a.menuItems[d].name==c.name){b.path("/"+a.menuItems[d].path);break}},a.selectSub=function(a){a.selected=!a.selected,a.callback(a.name)}}]),angular.module("resumeApp").controller("skillsController",["$scope","physicsService",function(a,b){function d(){b.init(),b.run(),h(),e(),b.updateWorldQueue()}function e(){var a=b.screen.height,c=.95*b.screen.width;b.addRectangle("mongo",{width:400,height:75},{x:c/2,y:a/1.3},{texture:"../resources/images/mlogo.png"},2),b.addConstraint("mongo",c/2-50,a-20),b.addConstraint("mongo",c/2+50,a-20)}function f(){c=!0;var a=document.getElementById("legib");(a.style.opacity=1)&&(a.style.opacity=0)}function g(){function f(){d.style.opacity=b,b<=1&&!c?window.requestAnimationFrame(f):("Legible"==a.view&&c&&(d.style.opacity=0),c=!1),b+=.007}var b=0,d=document.getElementById("legib"),e=window.requestAnimationFrame(f);window.cancelAnimationFrame(e),setTimeout(function(){c=!1,f()},700)}function h(){for(var c in a.skills)for(var d=a.skills[c].entries,e=0;e<d.length;e++)if("physics"in d[e]){var f=d[e].physics,g="../resources/images/"+f.n+".png";"circle"==f.t?b.addCircle(f.n,f.r,{x:f.c[0],y:f.c[1]},{texture:g,xScale:f.s,yScale:f.s}):"rect"==f.t&&b.addRectangle(f.n,{width:f.d[0],height:f.d[1]},{x:f.c[0],y:f.c[1]},{texture:g,xScale:f.s,yScale:f.s})}}function i(){a.skills=[{type:"Languages",entries:[{name:"Swift",level:"Experienced",physics:{t:"circle",n:"swiftball",r:50,c:[205,-350],s:50/107.5}},{name:"Javascript",level:"Experienced",physics:{t:"rect",n:"javascript",d:[150,150],c:[540,0],s:.5}},{name:"Python",level:"Experienced",physics:{t:"rect",n:"python",d:[120.4,182.4],c:[220,0],s:.4}},{name:"Objective C",level:"Apprentice",physics:{t:"circle",n:"objectivec",r:45,c:[605,-320],s:.3}}]},{type:"Databases",entries:[{name:"MongoDB",level:"Experienced"},{name:"MySql",level:"Experienced",physics:{t:"circle",n:"sqlng",r:70,c:[520,-300],s:70/231.5}}]},{type:"Frameworks",entries:[{name:"AngularJS",level:"Experienced",physics:{t:"rect",n:"angular",d:[460,75],c:[400,-600],s:.5}},{name:"Django",level:"Experienced",physics:{t:"circle",n:"django",r:87,c:[590,-850],s:.5}},{name:"Flask",level:"Experienced",physics:{t:"rect",n:"flask",d:[120,74],c:[205,-420],s:1}},{name:"Node.js (runtime)",level:"Experienced",physics:{t:"rect",n:"node",d:[483*.8,106.4],c:[545,-800],s:.8}}]},{type:"Libraries",entries:[{name:"React",level:"Apprentice",physics:{t:"circle",n:"react",r:64,c:[290,-850],s:.5}},{name:"Socket.IO",level:"Experienced",physics:{t:"rect",n:"socket",d:[394*.3,134*.3],c:[290,-850],s:.3}}]},{type:"Misc.",entries:[{name:"HTML",level:"Experienced",physics:{t:"rect",n:"html",d:[81.2,60],c:[720,-40],s:.4}},{name:"CSS",level:"Experienced",physics:{t:"rect",n:"css",d:[85.2,60],c:[320,-890],s:.4}},{name:"Git",level:"Experience",physics:{t:"rect",n:"git",d:[96.4,97.2],c:[120,-264],s:.4}}]}]}var c=!1;a.skills=[],a.view="Legible",i(),d(),g(),a.legibleToggle=function(){c=!1,"Legible"==a.view?(a.view="Physics",b.clear()):(f(),a.view="Legible",i(),d(),g())}}]),angular.module("resumeApp").controller("projectController",["$scope","projectService",function(a,b){a.projects=b.getFullProjects(),a.toggleProject=function(a){a.open?b.addOpen(a.name):b.removeOpen(a.name)}}]),angular.module("resumeApp").controller("contactController",["$scope","$http",function(a,b){function c(){if(!a.send.email)return!1;var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a.send.email)}a.send={email:""},a.contact={Phone:{cInfo:"(505) 917-9097",logo:"fa fa-phone"},Email:{cInfo:"philip@cheekfamily.org",logo:"fa fa-envelope"}},a.info=!0,a.field=!0,a.fieldFocus=function(){a.send.email&&a.send.email.length>2&&(a.error=!c())},a.updateEmail=function(){a.error&&(a.error=!c())},a.submit=function(){a.error=!c(),a.error||b.post("/sendMail",a.send)}}]);